(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(e=s.currentScript.src),!e)){var i=s.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();const e={get:(t,e)=>e[Symbol.metadata]?.[t],define(t,e,...s){let i=Object.getOwnPropertyDescriptor(e,Symbol.metadata)?.value;null==i&&Object.defineProperty(e,Symbol.metadata,{value:i=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const n=s.length;switch(n){case 0:throw new Error("At least one key must be provided");case 1:return void(i[s[0]]=t);case 2:return void(i[s[0]]=i[s[1]]=t);default:for(let e=0;e<n;++e)i[s[e]]=t;return}},has(t,e){const s=e[Symbol.metadata];return null!=s&&t in s},delete(t,e){const s=e[Symbol.metadata];null!=s&&Reflect.deleteProperty(s,t)}},s=Object.freeze,i=Object.assign,n=String,r=e.get,o=e.define,h=t=>t instanceof Promise,a=t=>t instanceof Array,l=t=>t instanceof Set,c=t=>t instanceof Map,u=t=>t instanceof Object;function d(t){return"object"==typeof t&&null!==t||"function"==typeof t}const f=t=>"function"==typeof t,p=t=>"string"==typeof t,g=()=>Object.create(null),v=Object.is,m=(t,...e)=>{const s=n(t).padStart(4,"0");return new Error(`AUR${s}:${e.map(n)}`)},b=(()=>{const t={};let e=!1,s=0,i=0,n=0;return r=>{switch(typeof r){case"number":return r>=0&&(0|r)===r;case"string":if(e=t[r],void 0!==e)return e;if(s=r.length,0===s)return t[r]=!1;for(i=0,n=0;n<s;++n)if(i=r.charCodeAt(n),0===n&&48===i&&s>1||i<48||i>57)return t[r]=!1;return t[r]=!0;default:return!1}}})(),w=function(){const t=i(g(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=e=>""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0;return(t,s)=>{const i=t.length;if(0===i)return t;let n,r=!1,o="",h="",a=0,l=t.charAt(0),c=e(l),u=0;for(;u<i;++u)n=a,h=l,a=c,l=t.charAt(u+1),c=e(l),0===a?o.length>0&&(r=!0):(!r&&o.length>0&&2===a&&(r=3===n||3===c),o+=s(h,r),r=!1);return o}}(),y=function(){const t=g(),e=(t,e)=>e?t.toUpperCase():t.toLowerCase();return s=>{let i=t[s];return void 0===i&&(i=t[s]=w(s,e)),i}}(),k=function(){const t=g();return e=>{let s=t[e];return void 0===s&&(s=y(e),s.length>0&&(s=s[0].toUpperCase()+s.slice(1)),t[e]=s),s}}(),$=function(){const t=g(),e=(t,e)=>e?`-${t.toLowerCase()}`:t.toLowerCase();return s=>{let i=t[s];return void 0===i&&(i=t[s]=w(s,e)),i}}(),C=t=>{const e=t.length,s=Array(e);let i=0;for(;i<e;++i)s[i]=t[i];return s},T=(t,e)=>{const s=e.name;e.addInitializer(function(){Reflect.defineProperty(this,s,{value:t.bind(this),writable:!0,configurable:!0,enumerable:!1})})},A=(...t)=>{const e=[];let s=0;const i=t.length;let n,r=0,o=0;for(;o<i;++o)if(n=t[o],void 0!==n){r=n.length;let t=0;for(;t<r;++t)e[s++]=n[t]}return e},x=(...t)=>{const e=t.length;let s,i=0;for(;e>i;++i)if(s=t[i],void 0!==s)return s;throw m(20)},S=function(){const t=Function.prototype,e=Object.getPrototypeOf,s=new WeakMap;let i,n=t,r=0;return function(o){if(i=s.get(o),void 0===i)for(s.set(o,i=[n=o]),r=0;(n=e(n))!==t;)i[++r]=n;return i}}();function O(...t){return i(g(),...t)}const B=(()=>{const t=new WeakMap;let e=!1,s="",i=0;return n=>(e=t.get(n),null==e&&(i=(s=n.toString()).length,e=i>28&&s.indexOf("[native code] }")===i-15,t.set(n,e)),e)})(),P=(t,e)=>h(t)?t.then(e):e(t),I=(...t)=>{let e,s,i,n=0,r=t.length;for(;n<r;++n)e=t[n],h(e=t[n])&&(void 0===s?s=e:void 0===i?i=[s,e]:i.push(e));return void 0===i?s:Promise.all(i)},M=(t,e)=>new St(t,1,e),L=(t,e)=>new St(t,2,e),R=(t,e)=>new St(e,5,t),E=new WeakMap,N=t=>(e,s,i)=>{let n=E.get(e);if(void 0===n&&E.set(e,n=new WeakMap),n.has(i))return n.get(i);const r=t(e,s,i);return n.set(i,r),r},j={instance:(t,e)=>new St(t,0,e),singleton:M,transient:L,callback:(t,e)=>new St(t,3,e),cachedCallback:(t,e)=>new St(t,3,N(e)),aliasTo:R,defer:(t,...e)=>new Bt(t,e)},F=function(t){return function(e){e.register(M(this,this),R(this,t))}},V="au:annotation",D=(t,e)=>void 0===e?`${V}:${t}`:`${V}:${t}:${e}`,_=s({name:"au:annotation",appendTo:(t,e)=>{const s=r(V,t);void 0===s?o([e],t,V):s.push(e)},set(t,e,s){o(s,t,D(e))},get:(t,e)=>r(D(e),t),getKeys(t){let e=r(V,t);return void 0===e&&o(e=[],t,V),e},isKey:t=>t.startsWith(V),keyFor:D}),q="au:resource",W=(t,e,s)=>null==e?`${q}:${t}`:null==s?`${q}:${t}:${e}`:`${q}:${t}:${e}:${s}`,K={annotation:_},U=Object.prototype.hasOwnProperty;function z(t,e,s,i){let n=r(D(t),s);return void 0===n?(n=e[t],void 0===n?(n=s[t],void 0!==n&&U.call(s,t)?n:i()):n):n}function G(t,e,s){let i=r(D(t),e);return void 0===i?(i=e[t],void 0!==i&&U.call(e,t)?i:s()):i}function H(t,e,s){const i=e[t];return void 0===i?s():i}const X=Symbol.for("au:registrable"),Q={none(t){throw m(2,t)},singleton:t=>new St(t,1,t),transient:t=>new St(t,2,t)};class J{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){return void 0===t||t===J.DEFAULT?J.DEFAULT:new J(t.inheritParentResources??!1,t.defaultResolver??Q.singleton)}}J.DEFAULT=J.from({});const Y=t=>new st(null,J.from(t)),Z=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let tt=0,et=null;class st{get depth(){return null===this.t?0:this.t.depth+1}get parent(){return this.t}constructor(t,e){if(this.id=++tt,this.i=0,this.u=new Map,this.t=t,this.config=e,this.h=new Map,this.res={},null===t)this.root=this,this.R=new Map;else if(this.root=t.root,this.R=t.R,e.inheritParentResources)for(const e in t.res)this.registerResolver(e,t.res[e]);this.h.set(Ct,lt)}register(...t){if(100===++this.i)throw m(6,...t);let e,s,i,n,o,h,a=0,l=t.length;for(;a<l;++a)if(e=t[a],d(e))if(ct(e))e.register(this);else if(null!=(h=r(q,e)))h.register(this);else if(dt(e)){const t=e[Symbol.metadata]?.[X];if(ct(t))t.register(this);else if(p(e.$au?.type)){const t=e.$au,s=(e.aliases??Pt).concat(t.aliases??Pt);let i=`${q}:${t.type}:${t.name}`;if(this.has(i,!1))continue;for(R(e,i).register(this),this.has(e,!1)||M(e,e).register(this),n=0,o=s.length;n<o;++n)i=`${q}:${t.type}:${s[n]}`,this.has(i,!1)||R(e,i).register(this)}else M(e,e).register(this)}else for(s=Object.keys(e),n=0,o=s.length;n<o;++n)i=e[s[n]],d(i)&&(ct(i)?i.register(this):this.register(i));return--this.i,this}registerResolver(t,e,s=!1){rt(t);const i=this.h,n=i.get(t);if(null==n){if(i.set(t,e),ft(t)){if(void 0!==this.res[t])throw m(7,t);this.res[t]=e}}else n instanceof St&&4===n.$?n._state.push(e):i.set(t,new St(t,4,[n,e]));return s&&this.u.set(t,e),e}deregister(t){rt(t);const e=this.h.get(t);null!=e&&(this.h.delete(t),ft(t)&&delete this.res[t],this.u.has(t)&&(e.dispose(),this.u.delete(t)))}registerTransformer(t,e){const s=this.getResolver(t);if(null==s)return!1;if(s.getFactory){const t=s.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(rt(t),void 0!==t.resolve)return t;const s=et;let i,n,r=et=this;try{for(;null!=r;){if(i=r.h.get(t),null!=i)return i;if(null==r.t)return n=ut(t)?this:r,e?this.C(t,n):null;r=r.t}}finally{et=s}return null}has(t,e=!1){return this.h.has(t)||ft(t)&&t in this.res||((e&&this.t?.has(t,!0))??!1)}get(t){if(rt(t),t.$isResolver)return t.resolve(this,this);const e=et;let s,i,n=et=this;try{for(;null!=n;){if(s=n.h.get(t),null!=s)return s.resolve(n,this);if(null==n.t)return i=ut(t)?this:n,s=this.C(t,i),s.resolve(n,this);n=n.t}}finally{et=e}throw m(8,t)}getAll(t,e=!1){rt(t);const s=et,i=et=this;let n,r=i,o=Pt;try{if(e){for(;null!=r;)n=r.h.get(t),null!=n&&(o=o.concat(at(n,r,i))),r=r.t;return o}for(;null!=r;){if(n=r.h.get(t),null!=n)return at(n,r,i);if(r=r.t,null==r)return Pt}}finally{et=s}return Pt}invoke(t,e){if(B(t))throw m(15,t);const s=et;et=this;try{return void 0===e?new t(...wt(t).map(ot,this)):new t(...wt(t).map(ot,this),...e)}finally{et=s}}hasFactory(t){return this.R.has(t)}getFactory(t){let e=this.R.get(t);if(void 0===e){if(B(t))throw m(15,t);this.R.set(t,e=new it(t,wt(t)))}return e}registerFactory(t,e){this.R.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===J.DEFAULT?new st(this,this.config):new st(this,J.from({...this.config,inheritParentResources:!1})):new st(this,J.from(t??this.config))}disposeResolvers(){const t=this.h,e=this.u;let s,i;for([i,s]of e.entries())s.dispose?.(),t.delete(i);e.clear()}useResources(t){const e=t.res;for(const t in e)this.registerResolver(t,e[t])}find(t,e){const s=p(e)?`${q}:${t}:${e}`:t;let i=this,n=i.res[s];return null==n&&(i=i.root,n=i.res[s]),null==n?null:n.getFactory?.(i)?.Type??null}dispose(){this.u.size>0&&this.disposeResolvers(),this.h.clear(),this.root===this&&(this.R.clear(),this.res={})}C(t,e){const s=ct(t);if(!f(t)&&!s)throw m(9,t);if(Z.has(t.name))throw m(10,t);if(s){const s=t.register(e,t);if(!(s instanceof Object)||null==s.resolve){const s=e.h.get(t);if(null!=s)return s;throw m(11,t)}return s}if(t.$isInterface)throw m(12,t.friendlyName);const i=this.config.defaultResolver(t,e);return e.h.set(t,i),i}}class it{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){const s=et;let i;et=t;try{return i=void 0===e?new this.Type(...this.dependencies.map(ot,t)):new this.Type(...this.dependencies.map(ot,t),...e),null==this.transformers?i:this.transformers.reduce(nt,i)}finally{et=s}}registerTransformer(t){(this.transformers??=[]).push(t)}}function nt(t,e){return e(t)}function rt(t){if(null==t)throw m(14)}function ot(t){return this.get(t)}function ht(...t){if(null==et)throw m(16,...t);return 1===t.length?et.get(t[0]):t.map(ot,et)}const at=(t,e,s)=>{if(t instanceof St&&4===t.$){const i=t._state,n=i.length,r=Array(n);let o=0;for(;o<n;++o)r[o]=i[o].resolve(e,s);return r}return[t.resolve(e,s)]},lt={$isResolver:!0,resolve:(t,e)=>e},ct=t=>f(t?.register),ut=t=>(t=>ct(t)&&"boolean"==typeof t.registerInRequestor)(t)&&t.registerInRequestor,dt=t=>void 0!==t.prototype,ft=t=>p(t)&&t.indexOf(":")>0;class pt{constructor(t,e){this.c=t,this.k=e}instance(t){return this.O(0,t)}singleton(t){return this.O(1,t)}transient(t){return this.O(2,t)}callback(t){return this.O(3,t)}cachedCallback(t){return this.O(3,N(t))}aliasTo(t){return this.O(5,t)}O(t,e){const{c:s,k:i}=this;return this.c=this.k=void 0,s.registerResolver(i,new St(i,t,e))}}const gt=t=>{const e=t.slice(),s=Object.keys(t),i=s.length;let n;for(let r=0;r<i;++r)n=s[r],b(n)||(e[n]=t[n]);return e},vt=D("di:paramtypes"),mt=t=>r("design:paramtypes",t),bt=t=>t.metadata[vt]??=[],wt=t=>{const e=D("di:dependencies");let s=r(e,t);if(void 0===s){const i=t.inject;if(void 0===i){const e=mt(t),i=(t=>r(vt,t))(t);if(void 0===e)if(void 0===i){const e=Object.getPrototypeOf(t);s=f(e)&&e!==Function.prototype?gt(wt(e)):[]}else s=gt(i);else if(void 0===i)s=gt(e);else{s=gt(e);let t,n=i.length,r=0;for(;r<n;++r)t=i[r],void 0!==t&&(s[r]=t);const o=Object.keys(i);let h;for(r=0,n=o.length,r=0;r<n;++r)h=o[r],b(h)||(s[h]=i[h])}}else s=gt(i);o(s,t,e)}return s},yt=(t,e)=>{const s=f(t)?t:e,i=(p(t)?t:void 0)??"(anonymous)",n={$isInterface:!0,friendlyName:i,toString:()=>`InterfaceSymbol<${i}>`,register:null!=s?(t,e)=>s(new pt(t,e??n)):void 0};return n},kt=(...t)=>(e,s)=>{switch(s.kind){case"class":{const e=bt(s);let i,n=0;for(;n<t.length;++n)i=t[n],void 0!==i&&(e[n]=i);break}case"field":{const e=bt(s),i=t[0];void 0!==i&&(e[s.name]=i);break}default:throw m(22,String(s.name),s.kind)}},$t=(()=>(Symbol.metadata??=Symbol.for("Symbol.metadata"),{createContainer:Y,getDesignParamtypes:mt,getDependencies:wt,createInterface:yt,inject:kt,transient:t=>(t.register=function(e){return L(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=xt)=>(t.register=function(e){return M(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)}))(),Ct=yt("IContainer"),Tt=Ct;function At(t,e){return $t.transient(t)}const xt={scoped:!1};$t.singleton;class St{get $isResolver(){return!0}constructor(t,e,s){this.j=!1,this.F=null,this.k=t,this.$=e,this._state=s}register(t,e){return t.registerResolver(e||this.k,this)}resolve(t,e){switch(this.$){case 0:return this._state;case 1:if(this.j)throw m(3,this._state.name);return this.j=!0,this._state=(this.F=t.getFactory(this._state)).construct(e),this.$=0,this.j=!1,this._state;case 2:{const s=t.getFactory(this._state);if(null===s)throw m(4,this.k);return s.construct(e)}case 3:return this._state(t,e,this);case 4:return this._state[0].resolve(t,e);case 5:return e.get(this._state);default:throw m(5,this.$)}}getFactory(t){switch(this.$){case 1:case 2:return t.getFactory(this._state);case 5:return t.getResolver(this._state)?.getFactory?.(t)??null;case 0:return this.F;default:return null}}}class Ot{get friendlyName(){return this.I}constructor(t,e=null,s=null){this.I=t,this.A=e,this.L=s}prepare(t){this.A=t}get $isResolver(){return!0}resolve(){if(null==this.A)throw m(13,this.I);return this.A}getFactory(t){return null==this.L?null:t.getFactory(this.L)}dispose(){this.A=null}}class Bt{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter(t=>"object"==typeof t))}}const Pt=s([]),It=s({});function Mt(){}const Lt=yt("IPlatform");function Rt(t){return function(e){function s(t,e){kt(s)(t,e)}return s.$isResolver=!0,s.resolve=function(s,i){return t(e,s,i)},s}}const Et=(t,e=!1)=>{function s(t,e){kt(s)(t,e)}return s.$isResolver=!0,s.resolve=(s,i)=>i.getAll(t,e),s},Nt=Rt((t,e,s)=>s.has(t,!0)?s.get(t):void 0),jt=Rt((t,e,s)=>s.has(t,!1)?s.get(t):void 0),Ft=Rt((t,e,s)=>s.has(t,!1)?s.get(t):s.root.get(t)),Vt=Rt((t,e,s)=>s.has(t,!1)?s.get(t):s.root.has(t,!1)?s.root.get(t):void 0),Dt=Rt((t,e,s)=>s===s.root?s.getAll(t,!1):s.has(t,!1)?s.getAll(t,!1).concat(s.root.getAll(t,!1)):s.root.getAll(t,!1));function _t(t,e,s,i,n,r){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var h,a=i.kind,l="getter"===a?"get":"setter"===a?"set":"value",c=!e&&t?i.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,i.name):{}),d=!1,f=s.length-1;f>=0;f--){var p={};for(var g in i)p[g]="access"===g?{}:i[g];for(var g in i.access)p.access[g]=i.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(t||null))};var v=(0,s[f])("accessor"===a?{get:u.get,set:u.set}:u[l],p);if("accessor"===a){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(h=o(v.get))&&(u.get=h),(h=o(v.set))&&(u.set=h),(h=o(v.init))&&n.unshift(h)}else(h=o(v))&&("field"===a?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,i.name,u),d=!0}"function"==typeof SuppressedError&&SuppressedError,s({trace:0,debug:1,info:2,warn:3,error:4,fatal:5,none:6});const qt=yt("ILogConfig",t=>t.instance(new Xt("no-colors",3))),Wt=yt("ISink"),Kt=yt("ILogEventFactory",t=>t.singleton(te)),Ut=yt("ILogger",t=>t.singleton(ee)),zt=yt("ILogScope"),Gt=s({key:D("logger-sink-handles"),define(t,e){o(e.handles,t,this.key)},getHandles(t){return r(this.key,t.constructor)}}),Ht=O({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class Xt{constructor(t,e){this.colorOptions=t,this.level=e}}const Qt=function(){const t={"no-colors":O({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:O({TRC:Ht.grey("TRC"),DBG:Ht.grey("DBG"),INF:Ht.white("INF"),WRN:Ht.yellow("WRN"),ERR:Ht.red("ERR"),FTL:Ht.red("FTL"),QQQ:Ht.grey("???")})};return(e,s)=>e<=0?t[s].TRC:e<=1?t[s].DBG:e<=2?t[s].INF:e<=3?t[s].WRN:e<=4?t[s].ERR:e<=5?t[s].FTL:t[s].QQQ}(),Jt=(t,e)=>"no-colors"===e?t.join("."):t.map(Ht.cyan).join("."),Yt=(t,e)=>"no-colors"===e?new Date(t).toISOString():Ht.grey(new Date(t).toISOString());class Zt{constructor(t,e,s,i,n,r){this.severity=t,this.message=e,this.optionalParams=s,this.scope=i,this.colorOptions=n,this.timestamp=r}toString(){const{severity:t,message:e,scope:s,colorOptions:i,timestamp:n}=this;return 0===s.length?`${Yt(n,i)} [${Qt(t,i)}] ${e}`:`${Yt(n,i)} [${Qt(t,i)} ${Jt(s,i)}] ${e}`}getFormattedLogInfo(t=!1){const{severity:e,message:s,scope:i,colorOptions:n,timestamp:r,optionalParams:o}=this;let h=null,a="";t&&s instanceof Error?h=s:a=s;const l=0===i.length?"":` ${Jt(i,n)}`;let c=`${Yt(r,n)} [${Qt(e,n)}${l}] ${a}`;if(void 0===o||0===o.length)return null===h?[c]:[c,h];let u=0;for(;c.includes("%s");)c=c.replace("%s",String(o[u++]));return null!==h?[c,h,...o.slice(u)]:[c,...o.slice(u)]}}class te{constructor(){this.config=ht(qt)}createLogEvent(t,e,s,i){return new Zt(e,s,i,t.scope,this.config.colorOptions,Date.now())}}let ee=(()=>{var t;let e,s,i,n,r,o,h=[];return t=class{constructor(t=ht(qt),e=ht(Kt),s=ht(Et(Wt)),i=ht(Nt(zt))??[],n=null){let r,o,a,l,c,u;if(this.scope=(function(t,e,s){for(var i=arguments.length>2,n=0;n<e.length;n++)s=i?e[n].call(t,s):e[n].call(t)}(this,h),i),this._=g(),this.config=t,this.f=e,this.sinks=s,null===n){this.root=this,this.parent=this,r=this.M=[],o=this.T=[],a=this.P=[],l=this.K=[],c=this.N=[],u=this.G=[];for(const t of s){const e=Gt.getHandles(t);(e?.includes(0)??1)&&r.push(t),(e?.includes(1)??1)&&o.push(t),(e?.includes(2)??1)&&a.push(t),(e?.includes(3)??1)&&l.push(t),(e?.includes(4)??1)&&c.push(t),(e?.includes(5)??1)&&u.push(t)}}else this.root=n.root,this.parent=n,r=this.M=n.M,o=this.T=n.T,a=this.P=n.P,l=this.K=n.K,c=this.N=n.N,u=this.G=n.G}trace(t,...e){this.config.level<=0&&this.W(this.M,0,t,e)}debug(t,...e){this.config.level<=1&&this.W(this.T,1,t,e)}info(t,...e){this.config.level<=2&&this.W(this.P,2,t,e)}warn(t,...e){this.config.level<=3&&this.W(this.K,3,t,e)}error(t,...e){this.config.level<=4&&this.W(this.N,4,t,e)}fatal(t,...e){this.config.level<=5&&this.W(this.G,5,t,e)}scopeTo(e){const s=this._;let i=s[e];return void 0===i&&(i=s[e]=new t(this.config,this.f,null,this.scope.concat(e),this)),i}W(t,e,s,i){const n=f(s)?s():s,r=this.f.createLogEvent(this,e,n,i);for(let e=0,s=t.length;e<s;++e)t[e].handleEvent(r)}},(()=>{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[T],s=[T],i=[T],n=[T],r=[T],o=[T],_t(t,null,e,{kind:"method",name:"trace",static:!1,private:!1,access:{has:t=>"trace"in t,get:t=>t.trace},metadata:a},null,h),_t(t,null,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:t=>"debug"in t,get:t=>t.debug},metadata:a},null,h),_t(t,null,i,{kind:"method",name:"info",static:!1,private:!1,access:{has:t=>"info"in t,get:t=>t.info},metadata:a},null,h),_t(t,null,n,{kind:"method",name:"warn",static:!1,private:!1,access:{has:t=>"warn"in t,get:t=>t.warn},metadata:a},null,h),_t(t,null,r,{kind:"method",name:"error",static:!1,private:!1,access:{has:t=>"error"in t,get:t=>t.error},metadata:a},null,h),_t(t,null,o,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:t=>"fatal"in t,get:t=>t.fatal},metadata:a},null,h),a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),t})();const se="AccessThis",ie="AccessGlobal",ne="AccessScope",re="AccessMember",oe="AccessKeyed",he="ArrayBindingPattern",ae="ObjectBindingPattern",le="BindingIdentifier",ce="ArrayDestructuring";class ue{constructor(t){this.value=t,this.$kind="Custom"}evaluate(...t){return this.value}assign(...t){return t}bind(...t){}unbind(...t){}accept(t){}}class de{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.$kind="BindingBehavior",this.key=`_bb_${e}`}}class fe{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.$kind="ValueConverter"}}class pe{constructor(t,e,s="="){this.target=t,this.value=e,this.op=s,this.$kind="Assign"}}class ge{constructor(t,e,s){this.condition=t,this.yes=e,this.no=s,this.$kind="Conditional"}}class ve{constructor(t){this.name=t,this.$kind=ie}}class me{constructor(t=0){this.ancestor=t,this.$kind=se}}class be{constructor(t,e=0){this.name=t,this.ancestor=e,this.$kind=ne}}const we=t=>t.$kind===ie||(t.$kind===re||t.$kind===oe)&&t.accessGlobal;class ye{constructor(t,e,s=!1){this.object=t,this.name=e,this.optional=s,this.$kind=re,this.accessGlobal=we(t)}}class ke{constructor(t,e,s=!1){this.object=t,this.key=e,this.optional=s,this.$kind=oe,this.accessGlobal=we(t)}}class $e{constructor(t,e){this.func=t,this.args=e,this.$kind="New"}}class Ce{constructor(t,e,s=0,i=!1){this.name=t,this.args=e,this.ancestor=s,this.optional=i,this.$kind="CallScope"}}class Te{constructor(t,e,s,i=!1,n=!1){this.object=t,this.name=e,this.args=s,this.optionalMember=i,this.optionalCall=n,this.$kind="CallMember"}}class Ae{constructor(t,e,s=!1){this.func=t,this.args=e,this.optional=s,this.$kind="CallFunction"}}class xe{constructor(t,e){this.name=t,this.args=e,this.$kind="CallGlobal"}}class Se{constructor(t,e,s){this.operation=t,this.left=e,this.right=s,this.$kind="Binary"}}class Oe{constructor(t,e,s=0){this.operation=t,this.expression=e,this.pos=s,this.$kind="Unary"}}class Be{constructor(t){this.value=t,this.$kind="PrimitiveLiteral"}}Be.$undefined=new Be(void 0),Be.$null=new Be(null),Be.$true=new Be(!0),Be.$false=new Be(!1),Be.$empty=new Be("");class Pe{constructor(t){this.elements=t,this.$kind="ArrayLiteral"}}Pe.$empty=new Pe(Pt);class Ie{constructor(t,e){this.keys=t,this.values=e,this.$kind="ObjectLiteral"}}Ie.$empty=new Ie(Pt,Pt);class Me{constructor(t,e=Pt){this.cooked=t,this.expressions=e,this.$kind="Template"}}Me.$empty=new Me([""]);class Le{constructor(t,e,s,i=Pt){this.cooked=t,this.func=s,this.expressions=i,this.$kind="TaggedTemplate",t.raw=e}}class Re{constructor(t){this.elements=t,this.$kind=he}}class Ee{constructor(t,e){this.keys=t,this.values=e,this.$kind=ae}}class Ne{constructor(t){this.name=t,this.$kind=le}}class je{constructor(t,e,s){this.declaration=t,this.iterable=e,this.semiIdx=s,this.$kind="ForOfStatement"}}class Fe{constructor(t,e=Pt){this.parts=t,this.expressions=e,this.$kind="Interpolation",this.isMulti=e.length>1,this.firstExpression=e[0]}}class Ve{constructor(t,e,s,i){this.$kind=t,this.list=e,this.source=s,this.initializer=i}}class De{constructor(t,e,s){this.target=t,this.source=e,this.initializer=s,this.$kind="DestructuringAssignmentLeaf"}}class _e{constructor(t,e,s=!1){this.args=t,this.body=e,this.rest=s,this.$kind="ArrowFunction"}}const qe=String,We=()=>Object.create(null),Ke=(t,...e)=>new Error(`AUR${qe(t).padStart(4,"0")}:${e.map(qe)}`),Ue=$t.createInterface("IExpressionParser");class ze{constructor(){this.t=We(),this.i=We(),this.h=We()}parse(t,e){let s;switch(e){case hs:return new ue(t);case ss:return s=this.h[t],void 0===s&&(s=this.h[t]=this.$parse(t,e)),s;case is:return s=this.i[t],void 0===s&&(s=this.i[t]=this.$parse(t,e)),s;default:if(0===t.length){if(e===rs||e===os)return Be.$empty;throw zs()}return s=this.t[t],void 0===s&&(s=this.t[t]=this.$parse(t,e)),s}}$parse(t,e){return ls=t,cs=0,us=t.length,ds=0,fs=0,ps=6291456,gs="",as=ks(0),vs=!0,ms=!1,bs=!0,ws=-1,Ts(61,void 0===e?os:e)}}function Ge(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}ze.register=F(Ue);const He=Be.$false,Xe=Be.$true,Qe=Be.$null,Je=Be.$undefined,Ye=new me(0),Ze=new me(1),ts=new class{constructor(){this.$kind="AccessBoundary"}},es="None",ss="Interpolation",is="IsIterator",ns="IsChainable",rs="IsFunction",os="IsProperty",hs="IsCustom";let as,ls="",cs=0,us=0,ds=0,fs=0,ps=6291456,gs="",vs=!0,ms=!1,bs=!0,ws=-1;const ys=String.fromCharCode,ks=t=>ls.charCodeAt(t),$s=()=>ls.slice(fs,cs),Cs="Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");function Ts(t,e){if(e===hs)return new ue(ls);if(0===cs){if(e===ss)return function(){const t=[],e=[],s=us;let i="";for(;cs<s;){switch(as){case 36:if(123===ks(cs+1)){t.push(i),i="",cs+=2,as=ks(cs),Ms();const s=Ts(61,ss);e.push(s);continue}i+="$";break;case 92:i+=ys(Ge(Ls()));break;default:i+=ys(as)}Ls()}return e.length?(t.push(i),new Fe(t,e)):null}();if(Ms(),4194304&ps)throw Ds()}vs=577>t,ms=!1,bs=579>t;let s,i=!1,n=0;if(131072&ps){const t=di[63&ps];Ms(),s=new Oe(t,Ts(579,e)),vs=!1}else{t:switch(ps){case 12296:n=ds,vs=!1,bs=!1;do{switch(Ms(),++n,ps){case 65547:if(Ms(),!(12288&ps))throw qs();break;case 12:case 13:throw qs();case 2162702:if(ms=!0,Ms(),!(12288&ps)){s=0===n?Ye:1===n?Ze:new me(n),i=!0;break t}break;default:if(2097152&ps){s=0===n?Ye:1===n?Ze:new me(n);break t}throw Ws()}}while(12296===ps);case 4096:{const t=gs;if(e===is)s=new Ne(t);else if(bs&&Cs.includes(t))s=new ve(t);else{if(bs&&"import"===t)throw Js();s=new be(t,n)}if(vs=!ms,Ms(),Fs(53)){if(524298===ps)throw ci();const e=ms,i=ds;++ds;const n=Ts(62,es);ms=e,ds=i,vs=!1,s=new _e([new Ne(t)],n)}break}case 12:throw ui();case 13:throw _s();case 12293:switch(vs=!1,Ms(),ds){case 0:s=Ye;break;case 1:s=Ze;break;default:s=new me(ds)}break;case 12294:vs=!1,Ms(),s=ts;break;case 2688009:s=function(t){Ms();const e=cs,s=fs,i=ps,n=as,r=gs,o=ms,h=[];let a=1,l=!1;e:for(;;){if(13===ps){if(Ms(),4096!==ps)throw qs();if(h.push(new Ne(gs)),Ms(),6291475===ps)throw li();if(7340048!==ps)throw _s();if(Ms(),53!==ps)throw _s();Ms();const t=ms,e=ds;++ds;const s=Ts(62,es);return ms=t,ds=e,vs=!1,new _e(h,s,!0)}switch(ps){case 4096:h.push(new Ne(gs)),Ms();break;case 7340048:Ms();break e;case 524298:case 2688020:Ms(),a=4;break;case 6291475:a=2,l=!0;break e;case 2688009:a=2;break e;default:Ms(),a=2}switch(ps){case 6291475:if(Ms(),l=!0,1===a)break;break e;case 7340048:Ms();break e;case 4194352:1===a&&(a=3);break e;case 53:if(l)throw oi();Ms(),a=2;break e;default:1===a&&(a=2);break e}}if(53===ps){if(1===a){if(Ms(),524298===ps)throw ci();const t=ms,e=ds;++ds;const s=Ts(62,es);return ms=t,ds=e,vs=!1,new _e(h,s)}throw oi()}if(1===a&&0===h.length)throw si();if(l)switch(a){case 2:throw oi();case 3:throw hi();case 4:throw ai()}cs=e,fs=s,ps=i,as=n,gs=r,ms=o;const c=ms,u=Ts(62,t);if(ms=c,Vs(7340048),53===ps)switch(a){case 2:throw oi();case 3:throw hi();case 4:throw ai()}return u}(e);break;case 2688020:s=ls.search(/\s+of\s+/)>cs?function(){const t=[],e=new Ve(ce,t,void 0,void 0);let s="",i=!0,n=0;for(;i;)switch(Ms(),ps){case 7340053:i=!1,r();break;case 6291475:r();break;case 4096:s=$s();break;default:throw ii()}return Vs(7340053),e;function r(){""!==s?(t.push(new De(new ye(Ye,s),new ke(Ye,new Be(n++)),void 0)),s=""):n++}}():function(t){const e=ms;Ms();const s=new Array;for(;7340053!==ps;)if(Fs(6291475)){if(s.push(Je),7340053===ps)break}else{if(s.push(Ts(62,t===is?es:t)),!Fs(6291475))break;if(7340053===ps)break}return ms=e,Vs(7340053),t===is?new Re(s):(vs=!1,new Pe(s))}(e);break;case 524298:s=function(t){const e=ms,s=new Array,i=new Array;for(Ms();7340047!==ps;){if(s.push(gs),49152&ps)Ms(),Vs(6291478),i.push(Ts(62,t===is?es:t));else{if(!(12288&ps))throw Zs();{const e=as,s=ps,n=cs;Ms(),Fs(6291478)?i.push(Ts(62,t===is?es:t)):(as=e,ps=s,cs=n,i.push(Ts(580,t===is?es:t)))}}7340047!==ps&&Vs(6291475)}return ms=e,Vs(7340047),t===is?new Ee(s,i):(vs=!1,new Ie(s,i))}(e);break;case 2163762:s=new Me([gs]),vs=!1,Ms();break;case 2163763:s=Ps(e,s,!1);break;case 16384:case 32768:s=new Be(gs),vs=!1,Ms();break;case 8194:case 8195:case 8193:case 8192:s=di[63&ps],vs=!1,Ms();break;case 8196:{Ms();const t=Ts(578,e);let i;2688009===ps?i=As():(i=[],Ms()),s=new $e(t,i),vs=!1;break}default:throw cs>=us?Ks():Us()}if(e===is)return function(t){if(!Bs.includes(t.$kind))throw Ys(t.$kind);if(4204596!==ps)throw Ys(t.$kind);Ms();const e=t,s=Ts(61,ns);return new je(e,s,ws)}(s);switch(ps){case 2228282:case 2228283:s=new Oe(di[63&ps],s,1),Ms(),vs=!1}if(579<t)return s;if(12===ps||13===ps)throw qs();if(s.$kind===se)switch(ps){case 2162702:if(ms=!0,vs=!1,Ms(),!(13312&ps))throw ni();if(12288&ps)s=new be(gs,s.ancestor),Ms();else if(2688009===ps)s=new Ae(s,As(),!0);else{if(2688020!==ps)throw ri();s=xs(s,!0)}break;case 65547:if(vs=!ms,Ms(),!(12288&ps))throw qs();s=new be(gs,s.ancestor),Ms();break;case 12:case 13:throw qs();case 2688009:s=new Ae(s,As(),i);break;case 2688020:s=xs(s,i);break;case 2163762:s=Is(s);break;case 2163763:s=Ps(e,s,!0)}for(;(65536&ps)>0;)switch(ps){case 2162702:s=Ss(s);break;case 65547:if(Ms(),!(12288&ps))throw qs();s=Os(s,!1);break;case 12:case 13:throw qs();case 2688009:if(578===t)return s;s=s.$kind===ne?new Ce(s.name,As(),s.ancestor,!1):s.$kind===re?new Te(s.object,s.name,As(),s.optional,!1):s.$kind===ie?new xe(s.name,As()):new Ae(s,As(),!1);break;case 2688020:s=xs(s,!1);break;case 2163762:if(ms)throw ri();s=Is(s);break;case 2163763:if(ms)throw ri();s=Ps(e,s,!0)}}if(12===ps||13===ps)throw qs();if(577<t)return s;for(;(262144&ps)>0;){const i=ps;if((960&i)<=t)break;Ms(),s=new Se(di[63&i],s,Ts(960&i,e)),vs=!1}if(63<t)return s;if(Fs(6291480)){const t=Ts(62,e);Vs(6291478),s=new ge(s,t,Ts(62,e)),vs=!1}if(62<t)return s;switch(ps){case 4194352:case 4194358:case 4194359:case 4194360:case 4194361:{if(!vs)throw Gs();const t=di[63&ps];Ms(),s=new pe(s,Ts(62,e),t);break}}if(61<t)return s;for(;Fs(6291482);){if(6291456===ps)throw Hs();const t=gs;Ms();const i=new Array;for(;Fs(6291478);)i.push(Ts(62,e));s=new fe(s,t,i)}for(;Fs(6291481);){if(6291456===ps)throw Xs();const t=gs;Ms();const i=new Array;for(;Fs(6291478);)i.push(Ts(62,e));s=new de(s,t,i)}if(6291456!==ps){if(e===ss&&7340047===ps)return s;if(e===ns&&6291479===ps){if(cs===us)throw Us();return ws=cs-1,s}if("of"===$s())throw Qs();throw Us()}return s}function As(){const t=ms;Ms();const e=[];for(;7340048!==ps&&(e.push(Ts(62,es)),Fs(6291475)););return Vs(7340048),vs=!1,ms=t,e}function xs(t,e){const s=ms;return Ms(),t=new ke(t,Ts(62,es),e),Vs(7340053),vs=!s,ms=s,t}function Ss(t){if(ms=!0,vs=!1,Ms(),!(13312&ps))throw ni();if(12288&ps)return Os(t,!0);if(2688009===ps)return t.$kind===ne?new Ce(t.name,As(),t.ancestor,!0):t.$kind===re?new Te(t.object,t.name,As(),t.optional,!0):new Ae(t,As(),!0);if(2688020===ps)return xs(t,!0);throw ri()}function Os(t,e){const s=gs;switch(ps){case 2162702:{ms=!0,vs=!1;const i=cs,n=fs,r=ps,o=as,h=gs,a=vs,l=ms;if(Ms(),!(13312&ps))throw ni();return 2688009===ps?new Te(t,s,As(),e,!0):(cs=i,fs=n,ps=r,as=o,gs=h,vs=a,ms=l,new ye(t,s,e))}case 2688009:return vs=!1,new Te(t,s,As(),e,!1);default:return vs=!ms,Ms(),new ye(t,s,e)}}const Bs=[he,ae,le,ce,"ObjectDestructuring"];function Ps(t,e,s){const i=ms,n=[gs];Vs(2163763);const r=[Ts(62,t)];for(;2163762!==(ps=js());)n.push(gs),Vs(2163763),r.push(Ts(62,t));return n.push(gs),vs=!1,ms=i,s?(Ms(),new Le(n,n,e,r)):(Ms(),new Me(n,r))}function Is(t){vs=!1;const e=[gs];return Ms(),new Le(e,e,t)}function Ms(){for(;cs<us;)if(fs=cs,null!=(ps=pi[as]()))return;ps=6291456}function Ls(){return as=ks(++cs)}function Rs(){for(;gi[Ls()];);const t=fi[gs=$s()];return void 0===t?4096:t}function Es(t){let e=as;if(!1===t){do{e=Ls()}while(e<=57&&e>=48);if(46!==e)return gs=parseInt($s(),10),32768;if(e=Ls(),cs>=us)return gs=parseInt($s().slice(0,-1),10),32768}if(e<=57&&e>=48)do{e=Ls()}while(e<=57&&e>=48);else as=ks(--cs);return gs=parseFloat($s()),32768}function Ns(){let t=!0,e="";for(;96!==Ls();)if(36===as){if(cs+1<us&&123===ks(cs+1)){cs++,t=!1;break}e+="$"}else if(92===as)e+=ys(Ge(Ls()));else{if(cs>=us)throw ei();e+=ys(as)}return Ls(),gs=e,t?2163762:2163763}const js=()=>{if(cs>=us)throw ei();return cs--,Ns()},Fs=t=>ps===t&&(Ms(),!0),Vs=t=>{if(ps!==t)throw si();Ms()},Ds=()=>Ke(151,ls),_s=()=>Ke(152,ls),qs=()=>Ke(153,ls),Ws=()=>Ke(154,ls),Ks=()=>Ke(155,ls),Us=()=>Ke(156,$s(),cs,ls),zs=()=>Ke(157),Gs=()=>Ke(158,ls),Hs=()=>Ke(159,ls),Xs=()=>Ke(160,ls),Qs=()=>Ke(161,ls),Js=()=>Ke(162,ls),Ys=t=>Ke(163,ls,t),Zs=()=>Ke(164,ls),ti=()=>Ke(165,ls),ei=()=>Ke(166,ls),si=t=>Ke(167,ls),ii=()=>Ke(170,ls),ni=()=>Ke(171,ls),ri=()=>Ke(172,ls),oi=()=>Ke(173,ls),hi=()=>Ke(174,ls),ai=()=>Ke(175,ls),li=()=>Ke(176,ls),ci=()=>Ke(178,ls),ui=()=>Ke(179,ls),di=[He,Xe,Qe,Je,"new","this","$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","**","=","!",2163762,2163763,"of","=>","+=","-=","*=","/=","++","--"],fi=Object.assign(We(),{true:8193,null:8194,false:8192,undefined:8195,new:8196,this:12294,$this:12293,$parent:12296,in:6562214,instanceof:6562215,typeof:139306,void:139307,of:4204596}),{CharScanners:pi,IdParts:gi}=(()=>{const t=()=>{throw Ke(168,ls)};t.notMapped=!0;const e=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],s=[48,58],i=(t,e,s,i)=>{const n=s.length;for(let e=0;e<n;e+=2){const n=s[e];let r=s[e+1];r=r>0?r:n+1,t&&t.fill(i,n,r)}},n=(t=>(i(t,0,e,1),i(t,0,s,1),t))(new Uint8Array(65535)),r=t=>()=>(Ls(),t),o=new Array(65535);return o.fill(t,0,65535),i(o,0,[0,33,127,161],()=>(Ls(),null)),i(o,0,e,Rs),i(o,0,s,()=>Es(!1)),o[34]=o[39]=()=>function(){const t=as;Ls();let e=0;const s=new Array;let i=cs;for(;as!==t;)if(92===as)s.push(ls.slice(i,cs)),Ls(),e=Ge(as),Ls(),s.push(ys(e)),i=cs;else{if(cs>=us)throw ti();Ls()}const n=ls.slice(i,cs);Ls(),s.push(n);const r=s.join("");return gs=r,16384}(),o[96]=()=>Ns(),o[33]=()=>61!==Ls()?131121:61!==Ls()?6553951:(Ls(),6553953),o[61]=()=>62===Ls()?(Ls(),53):61!==as?4194352:61!==Ls()?6553950:(Ls(),6553952),o[38]=()=>38!==Ls()?6291481:(Ls(),6553885),o[124]=()=>124!==Ls()?6291482:(Ls(),6553820),o[63]=()=>{if(46===Ls()){const t=ks(cs+1);return t<=48||t>=57?(Ls(),2162702):6291480}return 63!==as?6291480:(Ls(),6553755)},o[46]=()=>Ls()<=57&&as>=48?Es(!0):46===as?46!==Ls()?12:(Ls(),13):65547,o[60]=()=>61!==Ls()?6554018:(Ls(),6554020),o[62]=()=>61!==Ls()?6554019:(Ls(),6554021),o[37]=r(6554157),o[40]=r(2688009),o[41]=r(7340048),o[42]=()=>61===Ls()?(Ls(),4194360):42===as?(Ls(),6554223):6554156,o[43]=()=>43===Ls()?(Ls(),2228282):61!==as?2490856:(Ls(),4194358),o[44]=r(6291475),o[45]=()=>45===Ls()?(Ls(),2228283):61!==as?2490857:(Ls(),4194359),o[47]=()=>61!==Ls()?6554158:(Ls(),4194361),o[58]=r(6291478),o[59]=r(6291479),o[91]=r(2688020),o[93]=r(7340053),o[123]=r(524298),o[125]=r(7340047),{CharScanners:o,IdParts:n}})(),vi=$t.createInterface,mi=Object.freeze,{aliasTo:bi,singleton:wi}=j,yi="Interpolation",ki="IsFunction",$i="IsProperty",Ci="custom-element",Ti=mi({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),Ai=vi("ITemplateCompiler"),xi=vi("IAttrMapper"),Si=(t,...e)=>{const s=String(t).padStart(4,"0");return new Error(`AUR${s}:${e.map(String)}`)};class Oi{constructor(t,e,s,i){if(this.chars=t,this.repeat=e,this.isSymbol=s,this.isInverted=i,i)switch(t.length){case 0:this.has=this.i;break;case 1:this.has=this.u;break;default:this.has=this.A}else switch(t.length){case 0:this.has=this.I;break;case 1:this.has=this.B;break;default:this.has=this.P}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}P(t){return this.chars.includes(t)}B(t){return this.chars===t}I(t){return!1}A(t){return!this.chars.includes(t)}u(t){return this.chars!==t}i(t){return!0}}class Bi{constructor(){this.parts=Pt,this.C="",this.T={},this.R={}}get pattern(){const t=this.C;return""===t?null:t}set pattern(t){null==t?(this.C="",this.parts=Pt):(this.C=t,this.parts=this.R[t])}append(t,e){const s=this.T;void 0===s[t]?s[t]=e:s[t]+=e}next(t){const e=this.T;let s;void 0!==e[t]&&(s=this.R,void 0===s[t]?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0)}}class Pi{get C(){return this._?this.L[0]:null}constructor(t,...e){this.charSpec=t,this.V=[],this.H=null,this._=!1,this.L=e}findChild(t){const e=this.V,s=e.length;let i=null,n=0;for(;n<s;++n)if(i=e[n],t.equals(i.charSpec))return i;return null}append(t,e){const s=this.L;s.includes(e)||s.push(e);let i=this.findChild(t);return null==i&&(i=new Pi(t,e),this.V.push(i),t.repeat&&i.V.push(i)),i}findMatches(t,e){const s=[],i=this.V,n=i.length;let r=0,o=null,h=0,a=0;for(;h<n;++h)if(o=i[h],o.charSpec.has(t))if(s.push(o),r=o.L.length,a=0,o.charSpec.isSymbol)for(;a<r;++a)e.next(o.L[a]);else for(;a<r;++a)e.append(o.L[a],t);return s}}class Ii{constructor(t){this.text=t;const e=this.M=t.length,s=this.$=[];let i=0;for(;e>i;++i)s.push(new Oi(t[i],!1,!1,!1))}eachChar(t){const e=this.M,s=this.$;let i=0;for(;e>i;++i)t(s[i])}}class Mi{constructor(t){this.text="PART",this.F=new Oi(t,!0,!1,!0)}eachChar(t){t(this.F)}}class Li{constructor(t){this.text=t,this.F=new Oi(t,!1,!0,!1)}eachChar(t){t(this.F)}}class Ri{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const Ei=vi("ISyntaxInterpreter",t=>t.singleton(Ni));class Ni{constructor(){this.O=new Pi(null),this.W=[this.O]}add(t){t=t.slice(0).sort((t,e)=>t.pattern>e.pattern?1:-1);const e=t.length;let s,i,n,r,o,h,a,l,c=0;for(;e>c;){for(s=this.O,i=t[c],n=i.pattern,r=new Ri,o=this.N(i,r),h=o.length,a=t=>s=s.append(t,n),l=0;h>l;++l)o[l].eachChar(a);s.H=r,s._=!0,++c}}interpret(t){const e=new Bi,s=t.length;let i,n=this.W,r=0;for(;r<s&&(n=this.j(n,t.charAt(r),e),0!==n.length);++r);return n=n.filter(ji),n.length>0&&(n.sort(Fi),i=n[0],i.charSpec.isSymbol||e.next(i.C),e.pattern=i.C),e}j(t,e,s){const i=[];let n=null;const r=t.length;let o=0;for(;o<r;++o)n=t[o],i.push(...n.findMatches(e,s));return i}N(t,e){const s=[],i=t.pattern,n=i.length,r=t.symbols;let o=0,h=0,a="";for(;o<n;)a=i.charAt(o),0!==r.length&&r.includes(a)?o!==h?(s.push(new Ii(i.slice(h,o))),++e.statics,h=o):(s.push(new Li(i.slice(h,o+1))),++e.symbols,h=++o):o===h&&"P"===a&&"PART"===i.slice(o,o+4)?(h=o+=4,s.push(new Mi(r)),++e.dynamics):++o;return h!==o&&(s.push(new Ii(i.slice(h,o))),++e.statics),s}}function ji(t){return t._}function Fi(t,e){const s=t.H,i=e.H;return s.statics!==i.statics?i.statics-s.statics:s.dynamics!==i.dynamics?i.dynamics-s.dynamics:s.symbols!==i.symbols?i.symbols-s.symbols:0}class Vi{constructor(t,e,s,i,n=null){this.rawName=t,this.rawValue=e,this.target=s,this.command=i,this.parts=n}}const Di=vi("IAttributePattern"),_i=vi("IAttributeParser",t=>t.singleton(qi));class qi{constructor(){this.U={},this.L={},this.q=!1,this.G=[],this.J=ht(Ei),this.c=ht(Ct)}registerPattern(t,e){if(this.q)throw Si(88);const s=this.L;for(const{pattern:i}of t){if(null!=s[i])throw Si(89,i);s[i]={patternType:e}}this.G.push(...t)}K(){this.J.add(this.G);const t=this.c;for(const[,e]of Object.entries(this.L))e.pattern=t.get(e.patternType)}parse(t,e){this.q||(this.K(),this.q=!0);let s=this.U[t];null==s&&(s=this.U[t]=this.J.interpret(t));const i=s.pattern;return null==i?new Vi(t,e,t,null,null):this.L[i].pattern[i](t,e,s.parts)}}const Wi=mi({name:W("attribute-pattern"),create:(t,e)=>({register(s){s.get(_i).registerPattern(t,e),wi(Di,e).register(s)}})});class Ki{"PART.PART"(t,e,s){return new Vi(t,e,s[0],s[1])}"PART.PART.PART"(t,e,s){return new Vi(t,e,`${s[0]}.${s[1]}`,s[2])}}Ki[Symbol.metadata]={[X]:Wi.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],Ki)};class Ui{ref(t,e,s){return new Vi(t,e,"element","ref")}"PART.ref"(t,e,s){let i=s[0];return"view-model"===i&&(i="component"),new Vi(t,e,i,"ref")}}Ui[Symbol.metadata]={[X]:Wi.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],Ui)};class zi{"PART.trigger:PART"(t,e,s){return new Vi(t,e,s[0],"trigger",s)}"PART.capture:PART"(t,e,s){return new Vi(t,e,s[0],"capture",s)}}zi[Symbol.metadata]={[X]:Wi.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],zi)};class Gi{":PART"(t,e,s){return new Vi(t,e,s[0],"bind")}}Gi[Symbol.metadata]={[X]:Wi.create([{pattern:":PART",symbols:":"}],Gi)};class Hi{"@PART"(t,e,s){return new Vi(t,e,s[0],"trigger")}"@PART:PART"(t,e,s){return new Vi(t,e,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}Hi[Symbol.metadata]={[X]:Wi.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],Hi)};const Xi=e.get,Qi=e.define,Ji="rg",Yi=mi({hydrateElement:"ra",hydrateAttribute:"rb",hydrateTemplateController:"rc",hydrateLetElement:"rd",setProperty:"re",interpolation:"rf",propertyBinding:Ji,letBinding:"ri",refBinding:"rj",iteratorBinding:"rk",multiAttr:"rl",textBinding:"ha",listenerBinding:"hb",attributeBinding:"hc",stylePropertyBinding:"hd",setAttribute:"he",setClassAttribute:"hf",setStyleAttribute:"hg",spreadTransferedBinding:"hs",spreadElementProp:"hp",spreadValueBinding:"svb"}),Zi=vi("Instruction");class tn{constructor(t,e){this.from=t,this.to=e,this.type="rf"}}class en{constructor(t,e,s){this.from=t,this.to=e,this.mode=s,this.type=Ji}}class sn{constructor(t,e,s){this.forOf=t,this.to=e,this.props=s,this.type="rk"}}class nn{constructor(t,e){this.from=t,this.to=e,this.type="rj"}}class rn{constructor(t,e){this.value=t,this.to=e,this.type="re"}}class on{constructor(t,e,s){this.value=t,this.to=e,this.command=s,this.type="rl"}}class hn{constructor(t,e,s,i,n,r){this.res=t,this.props=e,this.projections=s,this.containerless=i,this.captures=n,this.data=r,this.type="ra"}}class an{constructor(t,e,s){this.res=t,this.alias=e,this.props=s,this.type="rb"}}class ln{constructor(t,e,s,i){this.def=t,this.res=e,this.alias=s,this.props=i,this.type="rc"}}class cn{constructor(t,e){this.instructions=t,this.toBindingContext=e,this.type="rd"}}class un{constructor(t,e){this.from=t,this.to=e,this.type="ri"}}class dn{constructor(t){this.from=t,this.type="ha"}}class fn{constructor(t,e,s,i){this.from=t,this.to=e,this.capture=s,this.modifier=i,this.type="hb"}}class pn{constructor(t,e){this.value=t,this.to=e,this.type="he"}}class gn{constructor(t){this.value=t,this.type="hf"}}class vn{constructor(t){this.value=t,this.type="hg"}}class mn{constructor(t,e,s){this.attr=t,this.from=e,this.to=s,this.type="hc"}}class bn{constructor(){this.type="hs"}}class wn{constructor(t){this.instruction=t,this.type="hp"}}class yn{constructor(t,e){this.target=t,this.from=e,this.type="svb"}}class kn{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return p(t)?(s=t,i={name:s}):(s=t.name,i=t),new kn(e,x(An(e,"name"),s),A(An(e,"aliases"),i.aliases,e.aliases),Tn(s))}register(t,e){const s=this.Type,i="string"==typeof e?Tn(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:wi(s,s),bi(s,i),...n.map(t=>bi(s,Tn(t))))}}const $n="binding-command",Cn=W($n),Tn=t=>`${Cn}:${t}`,An=(t,e)=>Xi(K.annotation.keyFor(e),t),xn=(()=>{const t="__au_static_resource__",e=(e,s,i)=>{let n=Xi(t,e);return null==n&&e.$au?.type===s&&(n=i(e.$au,e),Qi(n,e,t)),n};return mi({name:Cn,keyFrom:Tn,define(t,e){const s=kn.create(t,e),i=s.Type;return Qi(s,i,Cn,q),i},getAnnotation:An,find(t,s){const i=t.find($n,s);return null==i?null:Xi(Cn,i)??e(i,$n,kn.create)??null},get:(t,e)=>t.get(Ft(Tn(e)))})})();class Sn{get ignoreAttr(){return!1}build(t,e,s){let i=t.attr.target,n=t.attr.rawValue;return n=""===n?y(i):n,i=null==t.bindable?s.map(t.node,i)??y(i):t.bindable.name,new en(e.parse(n,$i),i,1)}}Sn.$au={type:$n,name:"one-time"};class On{get ignoreAttr(){return!1}build(t,e,s){let i=t.attr.target,n=t.attr.rawValue;return n=""===n?y(i):n,i=null==t.bindable?s.map(t.node,i)??y(i):t.bindable.name,new en(e.parse(n,$i),i,2)}}On.$au={type:$n,name:"to-view"};class Bn{get ignoreAttr(){return!1}build(t,e,s){const i=t.attr;let n=i.target,r=i.rawValue;return r=""===r?y(n):r,n=null==t.bindable?s.map(t.node,n)??y(n):t.bindable.name,new en(e.parse(r,$i),n,4)}}Bn.$au={type:$n,name:"from-view"};class Pn{get ignoreAttr(){return!1}build(t,e,s){const i=t.attr;let n=i.target,r=i.rawValue;return r=""===r?y(n):r,n=null==t.bindable?s.map(t.node,n)??y(n):t.bindable.name,new en(e.parse(r,$i),n,6)}}Pn.$au={type:$n,name:"two-way"};class In{get ignoreAttr(){return!1}build(t,e,s){const i=t.attr,n=t.bindable;let r,o,h=i.rawValue,a=i.target;return h=""===h?y(a):h,null==n?(o=s.isTwoWay(t.node,a)?6:2,a=s.map(t.node,a)??y(a)):(r=t.def.defaultBindingMode??0,o=0===n.mode||null==n.mode?null==r||0===r?2:r:n.mode,a=n.name),new en(e.parse(h,$i),a,p(o)?Ti[o]??0:o)}}In.$au={type:$n,name:"bind"};class Mn{constructor(){this.X=ht(_i)}get ignoreAttr(){return!1}build(t,e){const s=null===t.bindable?y(t.attr.target):t.bindable.name,i=e.parse(t.attr.rawValue,"IsIterator");let n=Pt;if(i.semiIdx>-1){const e=t.attr.rawValue.slice(i.semiIdx+1),s=e.indexOf(":");if(s>-1){const t=e.slice(0,s).trim(),i=e.slice(s+1).trim(),r=this.X.parse(t,i);n=[new on(i,r.target,r.command)]}}return new sn(i,s,n)}}Mn.$au={type:$n,name:"for"};class Ln{get ignoreAttr(){return!0}build(t,e){return new fn(e.parse(t.attr.rawValue,ki),t.attr.target,!1,t.attr.parts?.[2]??null)}}Ln.$au={type:$n,name:"trigger"};class Rn{get ignoreAttr(){return!0}build(t,e){return new fn(e.parse(t.attr.rawValue,ki),t.attr.target,!0,t.attr.parts?.[2]??null)}}Rn.$au={type:$n,name:"capture"};class En{get ignoreAttr(){return!0}build(t,e){const s=t.attr,i=s.target;let n=s.rawValue;return n=""===n?y(i):n,new mn(i,e.parse(n,$i),i)}}En.$au={type:$n,name:"attr"};class Nn{get ignoreAttr(){return!0}build(t,e){return new mn("style",e.parse(t.attr.rawValue,$i),t.attr.target)}}Nn.$au={type:$n,name:"style"};class jn{get ignoreAttr(){return!0}build(t,e){let s=t.attr.target;if(s.includes(",")){const t=s.split(",").filter(t=>t.length>0);if(0===t.length)throw Si(723);s=t.join(" ")}return new mn("class",e.parse(t.attr.rawValue,$i),s)}}jn.$au={type:$n,name:"class"};class Fn{get ignoreAttr(){return!0}build(t,e){return new nn(e.parse(t.attr.rawValue,$i),t.attr.target)}}Fn.$au={type:$n,name:"ref"};class Vn{get ignoreAttr(){return!1}build(t){return new yn(t.attr.target,t.attr.rawValue)}}Vn.$au={type:$n,name:"spread"},"function"==typeof SuppressedError&&SuppressedError;const Dn=vi("ITemplateElementFactory",t=>t.singleton(qn)),_n={};class qn{constructor(){this.p=ht(Lt),this.Y=this.t()}t(){return this.p.document.createElement("template")}createTemplate(t){if(p(t)){let e=_n[t];if(void 0===e){const s=this.Y;s.innerHTML=t;const i=s.content.firstElementChild;!function(t){if(null==t)return!0;if("TEMPLATE"!==t.nodeName)return!0;if(null!=t.nextElementSibling)return!0;const e=t.previousSibling;if(null!=e&&3===e.nodeType)return e.textContent.trim().length>0;const s=t.nextSibling;return null!=s&&3===s.nodeType&&s.textContent.trim().length>0}(i)?(s.content.removeChild(i),e=i):(this.Y=this.t(),e=s),_n[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.t();return e.content.appendChild(t),e}return t.parentNode?.removeChild(t),t.cloneNode(!0)}}const Wn="au-start",Kn="au-end",Un=(t,e,s)=>t.insertBefore(e,s),zn=(t,e,s)=>{if(null===t)return;const i=s.length;let n=0;for(;i>n;)t.insertBefore(s[n],e),++n},Gn=(t,e)=>t.content.appendChild(e),Hn=(t,e)=>{const s=e.length;let i=0;for(;s>i;)t.content.appendChild(e[i]),++i},Xn=t=>1===t.nodeType,Qn=t=>3===t.nodeType,Jn="au-slot",Yn="default",Zn=(t=>()=>"anonymous-"+ ++t)(0);class tr{constructor(){this.debug=!1,this.resolveResources=!0}compile(t,e){if(null==t.template||!1===t.needsCompile)return t;const s=new ir(t,e,null,null,void 0),i=p(t.template)||!t.enhance?s.Z.createTemplate(t.template):t.template,n=i.nodeName===er&&null!=i.content,r=n?i.content:i,o=vr.findAll(e),h=o.length;let a=0;if(h>0)for(;h>a;)o[a].compiling?.(i),++a;if(i.hasAttribute(fr))throw Si(701,t);return this.tt(r,s),this.et(r,s),{...t,name:t.name||Zn(),dependencies:(t.dependencies??Pt).concat(s.deps??Pt),instructions:s.rows,surrogates:n?this.nt(i,s):Pt,template:i,hasSlots:s.hasSlot,needsCompile:!1}}compileSpread(t,e,s,i,n){const r=new ir(t,s,null,null,void 0),o=[],h=n??r.it(i.nodeName.toLowerCase()),a=null!==h,l=r.ep,c=e.length;let u,d,f,p,g,v,m,b,w,k,$=0,C=null,T=null;for(;c>$;++$)if(u=e[$],w=u.target,k=u.rawValue,"...$attrs"!==w)if(T=r.rt(u),null!==T&&T.ignoreAttr)hr.node=i,hr.attr=u,hr.bindable=null,hr.def=null,o.push(T.build(hr,r.ep,r.m));else if(a&&(p=r.st(h),g=p.attrs[w],void 0!==g))null==T?(m=l.parse(k,yi),o.push(new wn(null==m?new rn(k,g.name):new tn(m,g.name)))):(hr.node=i,hr.attr=u,hr.bindable=g,hr.def=h,o.push(new wn(T.build(hr,r.ep,r.m))));else if(C=r.lt(w),null===C)if(null==T)if(m=l.parse(k,yi),null!=m)o.push(new tn(m,r.m.map(i,w)??y(w)));else switch(w){case"class":o.push(new gn(k));break;case"style":o.push(new vn(k));break;default:o.push(new pn(k,w))}else hr.node=i,hr.attr=u,hr.bindable=null,hr.def=null,o.push(T.build(hr,r.ep,r.m));else{if(C.isTemplateController)throw Si(9998,w);p=r.st(C),b=!1===C.noMultiBindings&&null===T&&nr(k),b?f=this.ot(i,k,C,r):(v=p.primary,null===T?(m=l.parse(k,yi),f=[null===m?new rn(k,v.name):new tn(m,v.name)]):(hr.node=i,hr.attr=u,hr.bindable=v,hr.def=C,f=[T.build(hr,r.ep,r.m)])),(d??=[]).push(new an(this.resolveResources?C:C.name,null!=C.aliases&&C.aliases.includes(w)?w:void 0,f))}else o.push(new bn);return rr(),null!=d?d.concat(o):o}nt(t,e){const s=[],i=t.attributes,n=e.ep;let r,o,h,a,l,c,u,d,f,p,g,v,m=i.length,b=0,w=null,k=null;for(;m>b;++b){if(r=i[b],o=r.name,h=r.value,a=e.X.parse(o,h),g=a.target,v=a.rawValue,ar[g])throw Si(702,o);if(k=e.rt(a),null!==k&&k.ignoreAttr)hr.node=t,hr.attr=a,hr.bindable=null,hr.def=null,s.push(k.build(hr,e.ep,e.m));else if(w=e.lt(g),null===w)if(null===k)if(f=n.parse(v,yi),null!=f)t.removeAttribute(o),--b,--m,s.push(new tn(f,e.m.map(t,g)??y(g)));else switch(o){case"class":s.push(new gn(v));break;case"style":s.push(new vn(v));break;default:s.push(new pn(v,o))}else hr.node=t,hr.attr=a,hr.bindable=null,hr.def=null,s.push(k.build(hr,e.ep,e.m));else{if(w.isTemplateController)throw Si(703,g);u=e.st(w),p=!1===w.noMultiBindings&&null===k&&nr(v),p?c=this.ot(t,v,w,e):(d=u.primary,null===k?(f=n.parse(v,yi),c=null===f?""===v?[]:[new rn(v,d.name)]:[new tn(f,d.name)]):(hr.node=t,hr.attr=a,hr.bindable=d,hr.def=w,c=[k.build(hr,e.ep,e.m)])),t.removeAttribute(o),--b,--m,(l??=[]).push(new an(this.resolveResources?w:w.name,null!=w.aliases&&w.aliases.includes(g)?g:void 0,c))}}return rr(),null!=l?l.concat(s):s}et(t,e){switch(t.nodeType){case 1:return"LET"===t.nodeName?this.ut(t,e):this.ct(t,e);case 3:return this.ht(t,e);case 11:{let s=t.firstChild;for(;null!==s;)s=this.et(s,e);break}}return t.nextSibling}ut(t,e){const s=t.attributes,i=s.length,n=[],r=e.ep;let o,h,a,l,c,u,d,f,p=!1,g=0;for(;i>g;++g)if(o=s[g],a=o.name,l=o.value,"to-binding-context"!==a)if(h=e.X.parse(a,l),u=h.target,d=h.rawValue,c=e.rt(h),null===c)f=r.parse(d,yi),n.push(new un(null===f?new Be(d):f,y(u)));else{if("bind"!==h.command)throw Si(704,h);n.push(new un(r.parse(d,$i),y(u)))}else p=!0;return e.rows.push([new cn(n,p)]),this.dt(t,e).nextSibling}ct(t,e){const s=t.nextSibling,i=(t.getAttribute("as-element")??t.nodeName).toLowerCase(),n=e.it(i),r=null!==n,o=r&&null!=n.shadowOptions,h=n?.capture,a=null!=h&&"boolean"!=typeof h,l=h?[]:Pt,c=e.ep,u=this.debug?Mt:()=>{t.removeAttribute(p),--E,--R};let d,f,p,g,v,m,b,w,k,$,C,T,A,x,S,O,B,P,I,M,L=t.attributes,R=L.length,E=0,N=null,j=!1,F=null,V=!0,D=!1,_=!1,q=!1,W=0;if("slot"===i){if(null==e.root.def.shadowOptions)throw Si(717,e.root.def.name);e.root.hasSlot=!0}for(r&&(I={},V=n.processContent?.call(n.Type,t,e.p,I),L=t.attributes,R=L.length);R>E;++E){switch(f=L[E],p=f.name,g=f.value,p){case"as-element":case"containerless":u(),D=D||"containerless"===p;continue}if(v=e.X.parse(p,g),F=e.rt(v),B=v.target,P=v.rawValue,h&&(!a||a&&h(B))){if(null!=F&&F.ignoreAttr){u(),l.push(v);continue}if(_=B!==Jn&&"slot"!==B&&(-1===(W=B.indexOf("..."))||0===W&&"...$attrs"===B),_&&(S=e.st(n),null==S.attrs[B]&&!e.lt(B)?.isTemplateController)){u(),l.push(v);continue}}if("...$attrs"!==B)if(F?.ignoreAttr)hr.node=t,hr.attr=v,hr.bindable=null,hr.def=null,(m??=[]).push(F.build(hr,e.ep,e.m)),u();else{if(0===B.indexOf("...")){if(r&&"$element"!==(B=B.slice(3))){(b??=[]).push(new yn("$bindables","$bindables"===B?P:B)),u();continue}throw Si(720,B)}if(r){if(S=e.st(n),w=S.attrs[B],void 0!==w){null===F?(A=c.parse(P,yi),(b??=[]).push(null==A?new rn(P,w.name):new tn(A,w.name))):(hr.node=t,hr.attr=v,hr.bindable=w,hr.def=n,(b??=[]).push(F.build(hr,e.ep,e.m))),u();continue}if("$bindables"===B){null!=F&&(hr.node=t,hr.attr=v,hr.bindable=null,hr.def=n,(b??=[]).push(F.build(hr,e.ep,e.m))),u();continue}}if("$bindables"===B)throw Si(721,t.nodeName,B,P);N=e.lt(B),null===N?null!==F?(hr.node=t,hr.attr=v,hr.bindable=null,hr.def=null,(m??=[]).push(F.build(hr,e.ep,e.m)),u()):(A=c.parse(P,yi),null!=A&&(u(),(m??=[]).push(new tn(A,e.m.map(t,B)??y(B))))):(S=e.st(N),j=!1===N.noMultiBindings&&null===F&&nr(P),j?$=this.ot(t,P,N,e):(O=S.primary,null===F?(A=c.parse(P,yi),$=null===A?""===P?[]:[new rn(P,O.name)]:[new tn(A,O.name)]):(hr.node=t,hr.attr=v,hr.bindable=O,hr.def=N,$=[F.build(hr,e.ep,e.m)])),u(),N.isTemplateController?(C??=[]).push(new ln(or,this.resolveResources?N:N.name,void 0,$)):(k??=[]).push(new an(this.resolveResources?N:N.name,null!=N.aliases&&N.aliases.includes(B)?B:void 0,$)))}else(m??=[]).push(new bn),u()}if(rr(),this.ft(t,m)&&null!=m&&m.length>1&&this.gt(t,m),r&&(x=new hn(this.resolveResources?n:n.name,b??Pt,null,D,l,I)),null==m&&null==x&&null==k||(d=Pt.concat(x??Pt,k??Pt,m??Pt),q=!0),null!=C){let s;R=C.length-1,E=R,T=C[E],sr(t)?(s=e.t(),Hn(s,[e.wt(),e.bt(Wn),e.bt(Kn)])):(this.At(t,e),"TEMPLATE"===t.nodeName?s=t:(s=e.t(),Gn(s,t)));const h=s,a=e.yt(null==d?[]:[d]);let l,c,u,f,p,g,v,m,b=!1,w=0,y=0,k=t.firstChild,$=!1;if(!1!==V)for(;null!==k;){if(c=Xn(k)?k.getAttribute(Jn):null,b=null!==c||r&&!o,l=k.nextSibling,b){if(!r)throw Si(706,c,i);k.removeAttribute?.(Jn),$=Qn(k)&&""===k.textContent.trim(),$||((f??={})[c||Yn]??=[]).push(k),t.removeChild(k)}k=l}if(null!=f){for(c in u={},f){for(s=e.t(),p=f[c],w=0,y=p.length;y>w;++w)g=p[w],"TEMPLATE"===g.nodeName?g.attributes.length>0?Gn(s,g):Gn(s,g.content):Gn(s,g);m=e.yt(),this.et(s.content,m),u[c]={name:Zn(),type:Ci,template:s,instructions:m.rows,needsCompile:!1}}x.projections=u}if(q&&(r&&(D||n.containerless)?this.At(t,e):this.dt(t,e)),M=!r||!n.containerless&&!D&&!1!==V,M)if(t.nodeName===er)this.et(t.content,a);else for(k=t.firstChild;null!==k;)k=this.et(k,a);for(T.def={name:Zn(),type:Ci,template:h,instructions:a.rows,needsCompile:!1};E-- >0;)T=C[E],s=e.t(),v=e.wt(),Hn(s,[v,e.bt(Wn),e.bt(Kn)]),T.def={name:Zn(),type:Ci,template:s,needsCompile:!1,instructions:[[C[E+1]]]};e.rows.push([T])}else{null!=d&&e.rows.push(d);let s,h,a,l,c,u,f,p=t.firstChild,g=!1,v=null,m=!1,b=0,w=0;if(!1!==V)for(;null!==p;){if(h=Xn(p)?p.getAttribute(Jn):null,g=null!==h||r&&!o,s=p.nextSibling,g){if(!r)throw Si(706,h,i);p.removeAttribute?.(Jn),m=Qn(p)&&""===p.textContent.trim(),m||((a??={})[h||Yn]??=[]).push(p),t.removeChild(p)}p=s}if(null!=a){for(h in v={},a){for(u=e.t(),l=a[h],b=0,w=l.length;w>b;++b)c=l[b],c.nodeName===er?c.attributes.length>0?Gn(u,c):Gn(u,c.content):Gn(u,c);f=e.yt(),this.et(u.content,f),v[h]={name:Zn(),type:Ci,template:u,instructions:f.rows,needsCompile:!1}}x.projections=v}if(q&&(r&&(D||n.containerless)?this.At(t,e):this.dt(t,e)),M=!r||!n.containerless&&!D&&!1!==V,M&&t.childNodes.length>0)for(p=t.firstChild;null!==p;)p=this.et(p,e)}return s}ht(t,e){const s=t.parentNode,i=e.ep.parse(t.textContent,yi),n=t.nextSibling;let r,o,h,a,l;if(null!==i){for(({parts:r,expressions:o}=i),(l=r[0])&&Un(s,e.It(l),t),h=0,a=o.length;a>h;++h)zn(s,t,[e.wt(),e.It(" ")]),(l=r[h+1])&&Un(s,e.It(l),t),e.rows.push([new dn(o[h])]);s.removeChild(t)}return n}ot(t,e,s,i){const n=i.st(s),r=e.length,o=[];let h,a,l,c,u,d,f=0,p=0;for(let g=0;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(58===p){for(h=e.slice(f,g);e.charCodeAt(++g)<=32;);for(f=g;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(59===p){a=e.slice(f,g);break}if(void 0===a&&(a=e.slice(f)),c=i.X.parse(h,a),u=i.rt(c),d=n.attrs[c.target],null==d)throw Si(707,c.target,s.name);for(null===u?(l=i.ep.parse(a,yi),o.push(null===l?new rn(a,d.name):new tn(l,d.name))):(hr.node=t,hr.attr=c,hr.bindable=d,hr.def=s,o.push(u.build(hr,i.ep,i.m)));g<r&&e.charCodeAt(++g)<=32;);f=g,h=void 0,a=void 0}return rr(),o}tt(t,e){const s=e.root.def.name,i=t,n=C(i.querySelectorAll("template[as-custom-element]")),r=n.length;if(0===r)return;if(r===i.childElementCount)throw Si(708,s);const o=new Set,h=[];for(const t of n){if(t.parentNode!==i)throw Si(709,s);const e=pr(s,t,o),n=t.content,r=C(n.querySelectorAll("bindable")),a=new Set,l=new Set,c=r.reduce((t,s)=>{if(s.parentNode!==n)throw Si(710,e);const i=s.getAttribute("name");if(null===i)throw Si(711,s,e);const r=s.getAttribute("attribute");if(null!==r&&l.has(r)||a.has(i))throw Si(712,a,r);null!==r&&l.add(r),a.add(i);const o=C(s.attributes).filter(t=>!dr.includes(t.name));return o.length,s.remove(),t[i]={name:i,attribute:r??void 0,mode:s.getAttribute("mode")??"default"},t},{});class u{}u.$au={type:Ci,name:e,template:t,bindables:c},Reflect.defineProperty(u,"name",{value:k(e)}),h.push(u),i.removeChild(t)}const a=(e.root.def.dependencies??[]).concat(null==e.root.def.Type?Pt:[e.root.def.Type]);for(const t of h)t.dependencies=a.concat(h.filter(e=>e!==t)),e.St(t)}ft(t,e){const s=t.nodeName;return"INPUT"===s&&1===lr[t.type]||"SELECT"===s&&(t.hasAttribute("multiple")||e?.some(t=>t.type===Ji&&"multiple"===t.to))}gt(t,e){switch(t.nodeName){case"INPUT":{const t=e;let s,i,n,r=0;for(let e=0;e<t.length&&r<3;e++)switch(n=t[e],n.to){case"model":case"value":case"matcher":s=e,r++;break;case"checked":i=e,r++}void 0!==i&&void 0!==s&&i<s&&([t[s],t[i]]=[t[i],t[s]]);break}case"SELECT":{const t=e;let s,i=0,n=0,r=0;for(let e=0;e<t.length&&r<2;++e){switch(s=t[e],s.to){case"multiple":n=e,r++;break;case"value":i=e,r++}2===r&&i<n&&([t[n],t[i]]=[t[i],t[n]])}}}}dt(t,e){return Un(t.parentNode,e.bt("au*"),t),t}At(t,e){if(sr(t))return t;const s=t.parentNode,i=e.wt();return zn(s,t,[i,e.bt(Wn),e.bt(Kn)]),s.removeChild(t),i}}tr.register=F(Ai);const er="TEMPLATE",sr=t=>"au*"===t.nodeValue;class ir{constructor(t,e,s,i,n){this.hasSlot=!1,this.deps=null;const r=null!==s;if(this.c=e,this.root=null===i?this:i,this.def=t,this.parent=s,this.Bt=r?s.Bt:e.get(cr),this.Pt=r?s.Pt:e.get(ur),this.Z=r?s.Z:e.get(Dn),this.X=r?s.X:e.get(_i),this.ep=r?s.ep:e.get(Ue),this.m=r?s.m:e.get(xi),this.Ct=r?s.Ct:e.get(Ut),"number"!=typeof(this.p=r?s.p:e.get(Lt)).document?.nodeType)throw Si(722);this.localEls=r?s.localEls:new Set,this.rows=n??[]}St(t){return(this.root.deps??=[]).push(t),this.root.c.register(t),this}It(t){return this.p.document.createTextNode(t)}bt(t){return this.p.document.createComment(t)}wt(){return this.bt("au*")}h(t){const e=this.p.document.createElement(t);return"template"===t&&this.p.document.adoptNode(e.content),e}t(){return this.h("template")}it(t){return this.Bt.el(this.c,t)}lt(t){return this.Bt.attr(this.c,t)}st(t){return this.Bt.bindables(t)}yt(t){return new ir(this.def,this.c,this,this.root,t)}rt(t){const e=t.command;return null===e?null:this.Pt.get(this.c,e)}}const nr=t=>{const e=t.length;let s=0,i=0;for(;e>i;){if(s=t.charCodeAt(i),92===s)++i;else{if(58===s)return!0;if(36===s&&123===t.charCodeAt(i+1))return!1}++i}return!1},rr=()=>{hr.node=hr.attr=hr.bindable=hr.def=null},or={name:"unnamed",type:Ci},hr={node:null,attr:null,bindable:null,def:null},ar={id:!0,name:!0,"au-slot":!0,"as-element":!0},lr={checkbox:1,radio:1},cr=vi("IResourceResolver"),ur=vi("IBindingCommandResolver",t=>t.singleton(class{constructor(){this.U=new WeakMap}get(t,e){let s=this.U.get(t);return s||this.U.set(t,s={}),e in s?s[e]:s[e]=xn.get(t,e)}})),dr=mi(["name","attribute","mode"]),fr="as-custom-element",pr=(t,e,s)=>{const i=e.getAttribute(fr);if(null===i||""===i)throw Si(715,t);if(s.has(i))throw Si(716,i,t);return s.add(i),e.removeAttribute(fr),i},gr=vi("ITemplateCompilerHooks"),vr=mi({name:W("compiler-hooks"),define:t=>({register(e){wi(gr,t).register(e)}}),findAll:t=>t.get(Dt(gr))}),mr=Object.prototype.hasOwnProperty,br=Reflect.defineProperty;function wr(t,e,s){return br(t,e,{configurable:!0,writable:!0,value:s}),s}function yr(t,e,s){e in t||wr(t,e,s)}const kr=Object.assign,$r=Object.freeze,Cr=String,Tr=$t.createInterface,Ar=e.get,xr=e.define,Sr=(t,...e)=>new Error(`AUR${Cr(t).padStart(4,"0")}:${e.map(Cr)}`);class Or{constructor(t,e,s,i){this.parent=t,this.bindingContext=e,this.overrideContext=s,this.isBoundary=i}static getContext(t,e,s){if(null==t)throw Sr(203);let i=t.overrideContext,n=t;if(s>0){for(;s>0;)if(s--,n=n.parent,null==n)return;return i=n.overrideContext,e in i?i:n.bindingContext}for(;null!=n&&!n.isBoundary&&!(e in n.overrideContext)&&!(e in n.bindingContext);)n=n.parent;return null==n?t.bindingContext:(i=n.overrideContext,e in i?i:n.bindingContext)}static create(t,e,s){if(null==t)throw Sr(204);return new Or(null,t,e??new Pr,s??!1)}static fromParent(t,e,s=new Pr){if(null==t)throw Sr(203);return new Or(t,e,s,!1)}}class Br{constructor(t,e){void 0!==t&&(this[t]=e)}}class Pr{}const{astAssign:Ir,astEvaluate:Mr,astBind:Lr,astUnbind:Rr}=(()=>{const t="AccessScope",e="AccessMember",s="AccessKeyed",i="Assign",n="ValueConverter",r="BindingBehavior",o="ForOfStatement",h="ArrayDestructuring",l="ObjectDestructuring",c="DestructuringAssignmentLeaf",u="Custom",p=Or.getContext;function g(b,w,y,k){switch(b.$kind){case"AccessThis":{let t=w.overrideContext,e=w,s=b.ancestor;for(;s--&&t;)e=e.parent,t=e?.overrideContext??null;return s<1&&e?e.bindingContext:void 0}case"AccessBoundary":{let t=w;for(;null!=t&&!t.isBoundary;)t=t.parent;return t?t.bindingContext:void 0}case t:{const t=p(w,b.name,b.ancestor);null!==k&&k.observe(t,b.name);const e=t[b.name];if(null==e){if("$host"===b.name)throw Sr(105);return e}return y?.boundFn&&f(e)?e.bind(t):e}case"AccessGlobal":return globalThis[b.name];case"CallGlobal":{const t=globalThis[b.name];if(f(t))return t(...b.args.map(t=>g(t,w,y,k)));if(!y?.strict&&null==t)return;throw Sr(107)}case"ArrayLiteral":return b.elements.map(t=>g(t,w,y,k));case"ObjectLiteral":{const t={};for(let e=0;e<b.keys.length;++e)t[b.keys[e]]=g(b.values[e],w,y,k);return t}case"PrimitiveLiteral":return b.value;case"New":{const t=g(b.func,w,y,k);if(f(t))return new t(...b.args.map(t=>g(t,w,y,k)));throw Sr(107)}case"Template":{let t=b.cooked[0];for(let e=0;e<b.expressions.length;++e)t+=Cr(g(b.expressions[e],w,y,k)),t+=b.cooked[e+1];return t}case"Unary":{const t=g(b.expression,w,y,k);switch(b.operation){case"void":return;case"typeof":return typeof t;case"!":return!t;case"-":return-t;case"+":return+t;case"--":if(null!=k)throw Sr(113);return v(b.expression,w,y,k,t-1)+b.pos;case"++":if(null!=k)throw Sr(113);return v(b.expression,w,y,k,t+1)-b.pos;default:throw Sr(109,b.operation)}}case"CallScope":{const t=p(w,b.name,b.ancestor);if(null==t){if(y?.strict)throw Sr(114,b.name,t);return}const e=t[b.name];if(f(e))return e.apply(t,b.args.map(t=>g(t,w,y,k)));if(null==e){if(y?.strict&&!b.optional)throw Sr(111,b.name);return}throw Sr(111,b.name)}case"CallMember":{const t=g(b.object,w,y,k);if(null==t&&y?.strict&&!b.optionalMember)throw Sr(114,b.name,t);const e=t?.[b.name];if(null==e){if(!b.optionalCall&&y?.strict)throw Sr(111,b.name);return}if(!f(e))throw Sr(111,b.name);const s=e.apply(t,b.args.map(t=>g(t,w,y,k)));return a(t)&&m.includes(b.name)&&k?.observeCollection(t),s}case"CallFunction":{const t=g(b.func,w,y,k);if(f(t))return t(...b.args.map(t=>g(t,w,y,k)));if(null==t){if(!b.optional&&y?.strict)throw Sr(107);return}throw Sr(107)}case"ArrowFunction":{const t=(...t)=>{const e=b.args,s=b.rest,i=e.length-1,n=e.reduce((e,n,r)=>(e[n.name]=s&&r===i?t.slice(r):t[r],e),{}),r=Or.fromParent(w,n);return g(b.body,r,y,k)};return t}case e:{const t=g(b.object,w,y,k);if(null==t){if(!b.optional&&y?.strict)throw Sr(114,b.name,t);return}null===k||b.accessGlobal||k.observe(t,b.name);const e=t[b.name];return y?.boundFn&&f(e)?e.bind(t):e}case s:{const t=g(b.object,w,y,k),e=g(b.key,w,y,k);if(null==t){if(!b.optional&&y?.strict)throw Sr(115,e,t);return}return null===k||b.accessGlobal||k.observe(t,e),t[e]}case"TaggedTemplate":{const t=b.expressions.map(t=>g(t,w,y,k)),e=g(b.func,w,y,k);if(!f(e))throw Sr(110);return e(b.cooked,...t)}case"Binary":{const t=b.left,e=b.right;switch(b.operation){case"&&":return g(t,w,y,k)&&g(e,w,y,k);case"||":return g(t,w,y,k)||g(e,w,y,k);case"??":return g(t,w,y,k)??g(e,w,y,k);case"==":return g(t,w,y,k)==g(e,w,y,k);case"===":return g(t,w,y,k)===g(e,w,y,k);case"!=":return g(t,w,y,k)!=g(e,w,y,k);case"!==":return g(t,w,y,k)!==g(e,w,y,k);case"instanceof":{const s=g(e,w,y,k);return!!f(s)&&g(t,w,y,k)instanceof s}case"in":{const s=g(e,w,y,k);return!!d(s)&&g(t,w,y,k)in s}case"+":return g(t,w,y,k)+g(e,w,y,k);case"-":return g(t,w,y,k)-g(e,w,y,k);case"*":return g(t,w,y,k)*g(e,w,y,k);case"/":return g(t,w,y,k)/g(e,w,y,k);case"%":return g(t,w,y,k)%g(e,w,y,k);case"**":return g(t,w,y,k)**g(e,w,y,k);case"<":return g(t,w,y,k)<g(e,w,y,k);case">":return g(t,w,y,k)>g(e,w,y,k);case"<=":return g(t,w,y,k)<=g(e,w,y,k);case">=":return g(t,w,y,k)>=g(e,w,y,k);default:throw Sr(108,b.operation)}}case"Conditional":return g(b.condition,w,y,k)?g(b.yes,w,y,k):g(b.no,w,y,k);case i:{let t=g(b.value,w,y,k);if("="!==b.op){if(null!=k)throw Sr(113);const e=g(b.target,w,y,k);switch(b.op){case"/=":t=e/t;break;case"*=":t*=e;break;case"+=":t=e+t;break;case"-=":t=e-t;break;default:throw Sr(108,b.op)}}return v(b.target,w,y,k,t)}case n:return y?.useConverter?.(b.name,"toView",g(b.expression,w,y,k),b.args.map(t=>g(t,w,y,k)));case r:return g(b.expression,w,y,k);case"BindingIdentifier":return b.name;case o:return g(b.iterable,w,y,k);case"Interpolation":if(b.isMulti){let t=b.parts[0],e=0;for(;e<b.expressions.length;++e)t+=Cr(g(b.expressions[e],w,y,k)),t+=b.parts[e+1];return t}return`${b.parts[0]}${g(b.firstExpression,w,y,k)}${b.parts[1]}`;case c:return g(b.target,w,y,k);case h:return b.list.map(t=>g(t,w,y,k));case"ArrayBindingPattern":case"ObjectBindingPattern":case l:default:return;case u:return b.evaluate(w,y,k)}}function v(o,f,m,w,y){switch(o.$kind){case t:if("$host"===o.name)throw Sr(106);return p(f,o.name,o.ancestor)[o.name]=y;case e:{const t=g(o.object,f,m,w);if(null==t){if(m?.strict)throw Sr(116,o.name);v(o.object,f,m,w,{[o.name]:y})}else d(t)&&("length"===o.name&&a(t)&&!isNaN(y)?t.splice(y):t[o.name]=y);return y}case s:{const t=g(o.object,f,m,w),e=g(o.key,f,m,w);if(null==t){if(m?.strict)throw Sr(116,e);return v(o.object,f,m,w,{[e]:y}),y}if(a(t)){if("length"===e&&!isNaN(y))return t.splice(y),y;if(b(e))return t.splice(e,1,y),y}return t[e]=y}case i:return v(o.value,f,m,w,y),v(o.target,f,m,w,y);case n:return y=m?.useConverter?.(o.name,"fromView",y,o.args.map(t=>g(t,f,m,w))),v(o.expression,f,m,w,y);case r:return v(o.expression,f,m,w,y);case h:case l:{const t=o.list,e=t.length;let s,i;for(s=0;s<e;s++)switch(i=t[s],i.$kind){case c:v(i,f,m,w,y);break;case h:case l:{if("object"!=typeof y||null===y)throw Sr(112);let t=g(i.source,Or.create(y),m,null);void 0===t&&i.initializer&&(t=g(i.initializer,f,m,null)),v(i,f,m,w,t);break}}break}case c:if(o instanceof De){if(null==y)return;if("object"!=typeof y)throw Sr(112);let t=g(o.source,Or.create(y),m,w);void 0===t&&o.initializer&&(t=g(o.initializer,f,m,w)),v(o.target,f,m,w,t)}else{if(null==y)return;if("object"!=typeof y)throw Sr(112);const t=o.indexOrProperties;let e;if(b(t)){if(!Array.isArray(y))throw Sr(112);e=y.slice(t)}else e=Object.entries(y).reduce((e,[s,i])=>(t.includes(s)||(e[s]=i),e),{});v(o.target,f,m,w,e)}break;case u:return o.assign(f,m,y);default:return}}const m="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:g,astAssign:v,astBind:function t(e,s,i){switch(e.$kind){case r:i.bindBehavior?.(e.name,s,e.args.map(t=>g(t,s,i,null))),t(e.expression,s,i);break;case n:i.bindConverter?.(e.name),t(e.expression,s,i);break;case o:t(e.iterable,s,i);break;case u:e.bind?.(s,i)}},astUnbind:function t(e,s,i){switch(e.$kind){case r:i.unbindBehavior?.(e.name,s),t(e.expression,s,i);break;case n:i.unbindConverter?.(e.name),t(e.expression,s,i);break;case o:t(e.iterable,s,i);break;case u:e.unbind?.(s,i)}}}})(),Er="pending",Nr="completed",jr="canceled",Fr=Promise.resolve();let Vr=!1,Dr=!1;const _r=[],qr=[];let Wr=0,Kr=null,Ur=[],zr=null,Gr=null;const Hr=()=>{Vr||(Vr=!0,Fr.then(()=>{Vr=!1,Dr=!0,Qr()}))},Xr=t=>{if(Kr&&0===_r.length&&0===Wr)if(Kr=null,Ur.length>0){const t=Ur;Ur=[],1===t.length?Gr(t[0]):Gr(new AggregateError(t,"One or more tasks failed."))}else zr(t)},Qr=()=>{const t=!Dr;Dr=!1,Kr??=new Promise((t,e)=>{zr=t,Gr=e});let e=-_r.length;const s=0===_r.length;for(;_r.length>0;){if(++e>1e4){const t=new Error("Potential deadlock detected. More than 10000 extra tasks were queued from within tasks.");throw _r.length=0,Gr?.(t),Kr=null,t}const s=_r.shift();if("function"==typeof s)try{s()}catch(t){Ur.push(t)}else s.run()}const i=Ur.slice();if(Xr(!s),t&&i.length>0)throw 1===i.length?i[0]:new AggregateError(i,"One or more tasks failed.")},Jr=t=>{Hr(),_r.push(t)},Yr=(t,e)=>{const s=new to(t,e?.delay);return null!=s.delay&&s.delay>0?(++Wr,s.t=setTimeout(()=>{--Wr,s.t=void 0,s.status!==jr?(_r.push(s),Hr()):Xr(!0)},s.delay)):(_r.push(s),Hr()),s};class Zr extends Error{constructor(t){super(`Task ${t.id} was canceled.`),this.task=t}}class to{get result(){return this.i}get status(){return this.u}constructor(t,e){this.callback=t,this.delay=e,this.id=++to.h,this.u=Er,this.i=new Promise((t,e)=>{this.C=t,this.A=e})}run(){if(this.u!==Er)throw new Error(`Cannot run task in ${this.u} state`);let t;this.u="running";try{t=this.callback()}catch(t){return this.u=jr,this.A(t),void Ur.push(t)}t instanceof Promise?(++Wr,t.then(t=>{this.u=Nr,this.C(t)}).catch(t=>{this.u=jr,this.A(t),Ur.push(t)}).finally(()=>{--Wr,Xr(!0)})):(this.u=Nr,this.C(t))}cancel(){if(void 0!==this.t){clearTimeout(this.t),--Wr,this.t=void 0,this.u=jr;const t=new Zr(this);return this.A(t),this.i.catch(Mt),Xr(!0),!0}if(this.u===Er){const t=_r.indexOf(this);if(t>-1){_r.splice(t,1),this.u=jr;const e=new Zr(this);return this.A(e),this.i.catch(Mt),Xr(!0),!0}}return!1}}to.h=0;class eo{constructor(t,e){this.cb=t,this.P=e,this.id=++eo.R,this.I=!1,this._=[]}run(){try{this.cb()}catch(t){return void Ur.push(t)}}O(){this.I||(this.t=setTimeout(()=>{this.M(),this.I||this.O()},this.P))}M(){_r.push(this),Hr();const t=this._.splice(0);for(const e of t)e()}next(){return this.I?Promise.resolve():new Promise(t=>this._.push(t))}cancel(){this.I=!0,void 0!==this.t&&(clearTimeout(this.t),this.t=void 0);const t=qr.indexOf(this);t>-1&&qr.splice(t,1);const e=this._.splice(0);for(const t of e)t()}}eo.R=0;const so=$t.createInterface("ICoercionConfiguration"),io=$r({None:0,Observer:1,Node:2,Layout:4});function no(t=0){const e=Array(t);let s=0;for(;s<t;)e[s]=s++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}new Map;const ro=(()=>{function t(){return wr(this,"subs",new r)}function e(t){return this.subs.add(t)}function s(t){return this.subs.remove(t)}const i=new WeakSet;function n(n,r){if(!i.has(n)){i.add(n);const r=n.prototype;br(r,"subs",{get:t}),yr(r,"subscribe",e),yr(r,"unsubscribe",s)}return n}class r{constructor(){this.count=0,this.T=[],this.L=[],this.N=!1}add(t){return!this.T.includes(t)&&(this.T[this.T.length]=t,"handleDirty"in t&&(this.L[this.L.length]=t,this.N=!0),++this.count,!0)}remove(t){let e=this.T.indexOf(t);return-1!==e&&(this.T.splice(e,1),e=this.L.indexOf(t),-1!==e&&(this.L.splice(e,1),this.N=this.L.length>0),--this.count,!0)}notify(t,e){for(const s of this.T.slice(0))s.handleChange(t,e)}notifyCollection(t,e){const s=this.T.slice(0),i=s.length;let n=0;for(;n<i;++n)s[n].handleCollectionChange(t,e)}notifyDirty(){if(this.N)for(const t of this.L.slice(0))t.handleDirty()}}return function(t,e){return null==t?n:n(t)}})();class oo{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t){t!==this.v&&(Number.isNaN(t)||(this.o.splice(t),this.v=this.o.length))}handleDirty(){this.v!==this.o.length&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.v,i=this.o.length;(this.v=i)!==s&&(this.subs.notifyDirty(),this.subs.notify(this.v,s))}}ao(oo);class ho{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).size}getValue(){return this.o.size}setValue(){throw Sr(220)}handleDirty(){this.v!==this.o.size&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.v,i=this.o.size;(this.v=i)!==s&&this.subs.notify(this.v,s)}}function ao(t){const e=t.prototype;return yr(e,"subscribe",lo),yr(e,"unsubscribe",co),ro(t,null)}function lo(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function co(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}ao(ho);const uo=(()=>{const t=Symbol.for("__au_arr_obs__"),e=Array[t]??wr(Array,t,new WeakMap);function s(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function i(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function n(t,e,s,i,n){let r,o,h,a,l,c,u;for(c=s+1;c<i;c++){for(r=t[c],o=e[c],u=c-1;u>=s&&(h=t[u],a=e[u],l=n(h,r),l>0);u--)t[u+1]=h,e[u+1]=a;t[u+1]=r,e[u+1]=o}}function r(t,e,s,i,o){let h,a,l,c,u,d,f,p,g,v,m,b,w,y,k,$,C,T,A,x=0,S=0;for(;;){if(i-s<=10)return void n(t,e,s,i,o);x=s+(i-s>>1),h=t[s],c=e[s],a=t[i-1],u=e[i-1],l=t[x],d=e[x],f=o(h,a),f>0&&(v=h,m=c,h=a,c=u,a=v,u=m),p=o(h,l),p>=0?(v=h,m=c,h=l,c=d,l=a,d=u,a=v,u=m):(g=o(a,l),g>0&&(v=a,m=u,a=l,u=d,l=v,d=m)),t[s]=h,e[s]=c,t[i-1]=l,e[i-1]=d,b=a,w=u,y=s+1,k=i-1,t[x]=t[y],e[x]=e[y],t[y]=b,e[y]=w;t:for(S=y+1;S<k;S++)if($=t[S],C=e[S],T=o($,b),T<0)t[S]=t[y],e[S]=e[y],t[y]=$,e[y]=C,y++;else if(T>0){do{if(k--,k==S)break t;A=t[k],T=o(A,b)}while(T>0);t[S]=t[k],e[S]=e[k],t[k]=$,e[k]=C,T<0&&($=t[S],C=e[S],t[S]=t[y],e[S]=e[y],t[y]=$,e[y]=C,y++)}i-k<y-s?(r(t,e,k,i,o),i=y):(r(t,e,s,y,o),s=k)}}const o=Array.prototype,h=["push","unshift","pop","shift","splice","reverse","sort"];let a,l=!1;const c="__au_arr_on__";function u(){if(void 0===a&&function(){const t=o.push,n=o.unshift,l=o.pop,c=o.shift,u=o.splice,d=o.reverse,p=o.sort;a={push:function(...s){const i=e.get(this);if(void 0===i)return t.apply(this,s);const n=this.length,r=s.length;if(0===r)return n;this.length=i.indexMap.length=n+r;let o=n;for(;o<this.length;)this[o]=s[o-n],i.indexMap[o]=-2,o++;return i.notify(),this.length},unshift:function(...t){const s=e.get(this);if(void 0===s)return n.apply(this,t);const i=t.length,r=new Array(i);let o=0;for(;o<i;)r[o++]=-2;n.apply(s.indexMap,r);const h=n.apply(this,t);return s.notify(),h},pop:function(){const t=e.get(this);if(void 0===t)return l.call(this);const s=t.indexMap,i=l.call(this),n=s.length-1;return s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),l.call(s),t.notify(),i},shift:function(){const t=e.get(this);if(void 0===t)return c.call(this);const s=t.indexMap,i=c.call(this);return s[0]>-1&&(s.deletedIndices.push(s[0]),s.deletedItems.push(i)),c.call(s),t.notify(),i},splice:function(...t){const s=t[0],i=t[1],n=e.get(this);if(void 0===n)return u.apply(this,t);const r=this.length,o=0|s,h=o<0?Math.max(r+o,0):Math.min(o,r),a=n.indexMap,l=t.length,c=0===l?0:1===l?r-h:i;let d=h;if(c>0){const t=d+c;for(;d<t;)a[d]>-1&&(a.deletedIndices.push(a[d]),a.deletedItems.push(this[d])),d++}if(d=0,l>2){const t=l-2,e=new Array(t);for(;d<t;)e[d++]=-2;u.call(a,s,i,...e)}else u.apply(a,t);const f=u.apply(this,t);return(c>0||d>0)&&n.notify(),f},reverse:function(){const t=e.get(this);if(void 0===t)return d.call(this),this;const s=this.length,i=s/2|0;let n=0;for(;n!==i;){const e=s-n-1,i=this[n],r=t.indexMap[n],o=this[e],h=t.indexMap[e];this[n]=o,t.indexMap[n]=h,this[e]=i,t.indexMap[e]=r,n++}return t.notify(),this},sort:function(t){const n=e.get(this);if(void 0===n)return p.call(this,t),this;let o=this.length;if(o<2)return this;r(this,n.indexMap,0,o,i);let h=0;for(;h<o&&void 0!==this[h];)h++;void 0!==t&&f(t)||(t=s),r(this,n.indexMap,0,h,t);let a=!1;for(h=0,o=n.indexMap.length;o>h;++h)if(n.indexMap[h]!==h){a=!0;break}return a&&n.notify(),this}};for(const t of h)br(a[t],"observing",{value:!0})}(),!Ar(c,Array)){xr(!0,Array,c);for(const t of h)!0!==o[t].observing&&wr(o,t,a[t])}}class d{constructor(t){this.type=1,l||(l=!0,u()),this.indexObservers={},this.collection=t,this.indexMap=no(t.length),this.lenObs=void 0,e.set(t,this)}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;const s=this.collection,i=s.length;this.indexMap=no(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new oo(this)}getIndexObserver(t){return this.indexObservers[t]??=new p(this,t)}}ro(d,null);class p{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t){if(t===this.getValue())return;const e=this.owner,s=this.index,i=e.indexMap;i[s]>-1&&i.deletedIndices.push(i[s]),i[s]=-2,e.collection[s]=t,e.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.index;if(e[s]===s)return;const i=this.value,n=this.value=this.getValue();i!==n&&this.subs.notify(n,i)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}return ro(p,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new d(t)),u()),s}})(),fo=(()=>{const t=Symbol.for("__au_set_obs__"),e=Set[t]??wr(Set,t,new WeakMap),{add:s,clear:i,delete:n}=Set.prototype,r=["add","clear","delete"],o={add:function(t){const i=e.get(this);if(void 0===i)return s.call(this,t),this;const n=this.size;return s.call(this,t),this.size===n||(i.indexMap[n]=-2,i.notify()),this},clear:function(){const t=e.get(this);if(void 0===t)return i.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(t)),s++;i.call(this),e.length=0,t.notify()}},delete:function(t){const s=e.get(this);if(void 0===s)return n.call(this,t);if(0===this.size)return!1;let i=0;const r=s.indexMap;for(const e of this.keys()){if(e===t){r[i]>-1&&(r.deletedIndices.push(r[i]),r.deletedItems.push(e)),r.splice(i,1);const o=n.call(this,t);return!0===o&&s.notify(),o}i++}return!1}};class h{constructor(t){this.type=1,this.collection=t,this.indexMap=no(t.size),this.lenObs=void 0}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;const s=this.collection,i=s.size;this.indexMap=no(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new ho(this)}}return ro(h,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new h(t)),function(t){for(const e of r)wr(t,e,o[e])}(t)),s}})(),po=(()=>{const t=Symbol.for("__au_map_obs__"),e=Map[t]??wr(Map,t,new WeakMap),{set:s,clear:i,delete:n}=Map.prototype,r=["set","clear","delete"],o={set:function(t,i){const n=e.get(this);if(void 0===n)return s.call(this,t,i),this;const r=this.get(t),o=this.size;if(s.call(this,t,i),this.size===o){let e=0;for(const s of this.entries()){if(s[0]===t)return s[1]!==r&&(n.indexMap.deletedIndices.push(n.indexMap[e]),n.indexMap.deletedItems.push(s),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[o]=-2,n.notify(),this},clear:function(){const t=e.get(this);if(void 0===t)return i.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(t)),s++;i.call(this),e.length=0,t.notify()}},delete:function(t){const s=e.get(this);if(void 0===s)return n.call(this,t);if(0===this.size)return!1;let i=0;const r=s.indexMap;for(const e of this.keys()){if(e===t){r[i]>-1&&(r.deletedIndices.push(r[i]),r.deletedItems.push(e)),r.splice(i,1);const o=n.call(this,t);return!0===o&&s.notify(),o}++i}return!1}};class h{constructor(t){this.type=1,this.collection=t,this.indexMap=no(t.size),this.lenObs=void 0}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;const s=this.collection,i=s.size;this.indexMap=no(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new ho(this)}}return ro(h,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new h(t)),function(t){for(const e of r)wr(t,e,o[e])}(t)),s}})(),go=(()=>{class t{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}add(t){this.o.has(t)||(t.subscribe(this.b),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(s,this),this.count=this.o.size}clearAll(){this.o.forEach(e,this),this.o.clear(),this.count=0}}function e(t,e){e.unsubscribe(this.b)}function s(t,e){this.version!==t&&(e.unsubscribe(this.b),this.o.delete(e))}function i(){return wr(this,"obs",new t(this))}function n(t,e){this.obs.add(this.oL.getObserver(t,e))}function r(t){let e;if(a(t))e=uo(t);else if(l(t))e=fo(t);else{if(!c(t))throw Sr(210,t);e=po(t)}this.obs.add(e)}function o(t){this.obs.add(t)}function h(){throw Sr(99,"handleChange")}function u(){throw Sr(99,"handleCollectionChange")}return function(t,e){const s=t.prototype;return yr(s,"observe",n),yr(s,"observeCollection",r),yr(s,"subscribeTo",o),br(s,"obs",{get:i}),yr(s,"handleChange",h),yr(s,"handleCollectionChange",u),t}})();function vo(t,e){return null==t?go:go(t,e)}let mo=null;const bo=[];let wo=!1;function yo(){return mo}function ko(t){if(null==t)throw Sr(206);if(null==mo)return mo=t,bo[0]=mo,void(wo=!0);if(mo===t)throw Sr(207);bo.push(t),mo=t,wo=!0}function $o(t){if(null==t)throw Sr(208);if(mo!==t)throw Sr(209);bo.pop(),mo=bo.length>0?bo[bo.length-1]:null,wo=null!=mo}const Co=$r({get current(){return mo},get connecting(){return wo},enter:ko,exit:$o,pause:function(){wo=!1},resume:function(){wo=!0}}),To=Reflect.get,Ao=Object.prototype.toString,xo=new WeakMap;function So(t){switch(Ao.call(t)){case"[object Object]":return!0!==t.constructor.__au_nw__;case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Oo="__raw__";function Bo(t){return So(t)?Po(t):t}function Po(t){return xo.get(t)??function(t){const e=a(t)?Eo:c(t)||l(t)?nh:Ro,s=new Proxy(t,e);return xo.set(t,s),xo.set(s,s),s}(t)}function Io(t){return t[Oo]??t}function Mo(t){return So(t)&&t[Oo]||t}function Lo(t,e){if("constructor"===e||"__proto__"===e||"$observers"===e||e===Symbol.toPrimitive||e===Symbol.toStringTag||!0===t.constructor[`__au_nw_${Cr(e)}__`])return!0;const s=Reflect.getOwnPropertyDescriptor(t,e);return!1===s?.configurable&&!1===s.writable}const Ro={get(t,e,s){if(e===Oo)return t;const i=yo();return!wo||Lo(t,e)||null==i?To(t,e,s):(i.observe(t,e),Bo(To(t,e,s)))},deleteProperty:(t,e)=>delete t[e]},Eo={get(t,e,s){if(e===Oo)return t;if(!wo||Lo(t,e)||null==mo)return To(t,e,s);switch(e){case"length":return mo.observe(t,"length"),t.length;case"map":return No;case"includes":return Vo;case"indexOf":return Do;case"lastIndexOf":return _o;case"every":return jo;case"filter":return Fo;case"find":return Wo;case"findIndex":return qo;case"flat":return Ko;case"flatMap":return Uo;case"join":return zo;case"push":return Ho;case"pop":return Go;case"reduce":return sh;case"reduceRight":return ih;case"reverse":return Yo;case"shift":return Xo;case"unshift":return Qo;case"slice":return eh;case"splice":return Jo;case"some":return Zo;case"sort":return th;case"keys":return dh;case"values":case Symbol.iterator:return fh;case"entries":return ph}return mo.observe(t,e),Bo(To(t,e,s))},ownKeys:t=>(yo()?.observe(t,"length"),Reflect.ownKeys(t))};function No(t,e){const s=Io(this),i=s.map((s,i)=>Mo(t.call(e,Bo(s),i,this)));return gh(mo,s),Bo(i)}function jo(t,e){const s=Io(this),i=s.every((s,i)=>t.call(e,Bo(s),i,this));return gh(mo,s),i}function Fo(t,e){const s=Io(this),i=s.filter((s,i)=>Mo(t.call(e,Bo(s),i,this)));return gh(mo,s),Bo(i)}function Vo(t){const e=Io(this),s=e.includes(Mo(t));return gh(mo,e),s}function Do(t){const e=Io(this),s=e.indexOf(Mo(t));return gh(mo,e),s}function _o(t){const e=Io(this),s=e.lastIndexOf(Mo(t));return gh(mo,e),s}function qo(t,e){const s=Io(this),i=s.findIndex((s,i)=>Mo(t.call(e,Bo(s),i,this)));return gh(mo,s),i}function Wo(t,e){const s=Io(this),i=s.find((e,s)=>t(Bo(e),s,this),e);return gh(mo,s),Bo(i)}function Ko(){const t=Io(this);return gh(mo,t),Bo(t.flat())}function Uo(t,e){const s=Io(this);return gh(mo,s),Po(s.flatMap((s,i)=>Bo(t.call(e,Bo(s),i,this))))}function zo(t){const e=Io(this);return gh(mo,e),e.join(t)}function Go(){return Bo(Io(this).pop())}function Ho(...t){return Io(this).push(...t)}function Xo(){return Bo(Io(this).shift())}function Qo(...t){return Io(this).unshift(...t)}function Jo(...t){return Bo(Io(this).splice(...t))}function Yo(...t){return Bo(Io(this).reverse())}function Zo(t,e){const s=Io(this),i=s.some((s,i)=>Mo(t.call(e,Bo(s),i,this)));return gh(mo,s),i}function th(t){const e=Io(this),s=e.sort(t);return gh(mo,e),Bo(s)}function eh(t,e){const s=Io(this);return gh(mo,s),Po(s.slice(t,e))}function sh(t,e){const s=Io(this),i=s.reduce((e,s,i)=>t(e,Bo(s),i,this),e);return gh(mo,s),Bo(i)}function ih(t,e){const s=Io(this),i=s.reduceRight((e,s,i)=>t(e,Bo(s),i,this),e);return gh(mo,s),Bo(i)}const nh={get(t,e,s){if(e===Oo)return t;const i=yo();if(!wo||Lo(t,e)||null==i)return To(t,e,s);switch(e){case"size":return i.observe(t,"size"),t.size;case"clear":return ch;case"delete":return uh;case"forEach":return rh;case"add":if(l(t))return lh;break;case"get":if(c(t))return hh;break;case"set":if(c(t))return ah;break;case"has":return oh;case"keys":return dh;case"values":return fh;case"entries":return ph;case Symbol.iterator:return c(t)?ph:fh}return Bo(To(t,e,s))}};function rh(t,e){const s=Io(this);return gh(mo,s),s.forEach((s,i)=>{t.call(e,Bo(s),Bo(i),this)})}function oh(t){const e=Io(this);return gh(mo,e),e.has(Mo(t))}function hh(t){const e=Io(this);return gh(mo,e),Bo(e.get(Mo(t)))}function ah(t,e){return Bo(Io(this).set(Mo(t),Mo(e)))}function lh(t){return Bo(Io(this).add(Mo(t)))}function ch(){return Bo(Io(this).clear())}function uh(t){return Bo(Io(this).delete(Mo(t)))}function dh(){const t=Io(this);gh(mo,t);const e=t.keys();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Bo(s),done:i}},[Symbol.iterator](){return this}}}function fh(){const t=Io(this);gh(mo,t);const e=t.values();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Bo(s),done:i}},[Symbol.iterator](){return this}}}function ph(){const t=Io(this);gh(mo,t);const e=t.entries();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[Bo(s[0]),Bo(s[1])],done:i}},[Symbol.iterator](){return this}}}const gh=(t,e)=>t?.observeCollection(e),vh=$r({getProxy:Po,getRaw:Io,wrap:Bo,unwrap:Mo,rawKey:Oo});class mh{constructor(t,e,s,i,n="async"){this.type=1,this.ov=void 0,this.v=void 0,this.V=!1,this.B=!1,this.D=!1,this.cb=void 0,this.j=void 0,this.F=void 0,this.o=t,this.H=Bo(t),this.$get=e,this.$set=s,this.oL=i,this.$=n}init(t){this.v=t,this.D=!1}getValue(){return 0===this.subs.count?this.$get.call(this.o,this.o,this):(this.D&&(this.compute(),this.D=!1,this.V=!1),this.v)}setValue(t){if(!f(this.$set))throw Sr(221);void 0!==this.j&&(t=this.j.call(null,t,this.F)),v(t,this.v)||(this.$set.call(this.o,t),this.run())}useCoercer(t,e){return this.j=t,this.F=e,!0}useCallback(t){return this.cb=t,!0}handleDirty(){this.D||(this.D=!0,this.subs.notifyDirty())}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.compute(),this.D=!1,this.V=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll(),this.ov=void 0,this.V=!0)}run(){"sync"!==this.$?this.B||(this.B=!0,Jr(()=>{this.B=!1,this.U()})):this.U()}U(){const t=this.v,e=this.ov,s=this.compute();this.D=!1,this.V&&v(s,t)||(this.cb?.(s,e),this.subs.notify(s,e),this.ov=this.v=s,this.V=!0)}compute(){this.obs.version++;try{return ko(this),this.v=Mo(this.$get.call(this.H,this.H,this))}finally{this.obs.clear(),$o(this)}}}vo(mh,null),ro(mh,null),"function"==typeof SuppressedError&&SuppressedError;const bh=(()=>{const t=new WeakMap,e=t=>(t=>"symbol"==typeof t)(t)?t:String(t);return{get:(s,i)=>t.get(s)?.get(e(i)),W:(s,i)=>t.get(s)?.get(e(i))?.flush,set:(s,i,n)=>{t.has(s)||t.set(s,new Map),t.get(s).set(e(i),n)}}})(),wh=Tr("IDirtyChecker",void 0),yh={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}};class kh{constructor(t,e,s){this.obj=e,this.key=s,this.type=0,this.ov=void 0,this.G=t}getValue(){return this.obj[this.key]}setValue(t){throw Sr(219,this.key)}isDirty(){return this.ov!==this.obj[this.key]}flush(){const t=this.ov,e=this.getValue();this.ov=e,this.subs.notify(e,t)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.obj[this.key],this.G.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.G.removeProperty(this)}}class $h{get doNotCache(){return!0}constructor(t,e){this.type=0,this.o=t,this.k=e}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class Ch{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,s){e[s]=t}}class Th{constructor(t,e){this.type=1,this.v=void 0,this.iO=!1,this.cb=void 0,this.j=void 0,this.F=void 0,this.o=t,this.k=e}getValue(){return this.v}setValue(t){void 0!==this.j&&(t=this.j.call(void 0,t,this.F));const e=this.v;if(this.iO){if(v(t,this.v))return;this.v=t,this.subs.notifyDirty(),this.subs.notify(t,e),v(t,this.v)&&this.cb?.(t,e)}else this.v=this.o[this.k]=t,this.cb?.(t,e)}useCallback(t){return this.cb=t,this.start(),!0}useCoercer(t,e){return this.j=t,this.F=e,this.start(),!0}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],br(this.o,this.k,{enumerable:!0,configurable:!0,get:kr(()=>this.getValue(),{getObserver:()=>this}),set:t=>{this.setValue(t)}})),this}stop(){return this.iO&&(br(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}ro(Th,null);const Ah=new Ch,xh=Tr("IObserverLocator",t=>t.singleton(Ph)),Sh=Tr("INodeObserverLocator",t=>t.cachedCallback(t=>new Oh));class Oh{handles(){return!1}getObserver(){return Ah}getAccessor(){return Ah}}const Bh=Tr("IComputedObserverLocator",t=>t.singleton(class{getObserver(t,e,s,i){const n=new mh(t,s.get,s.set,i,bh.W(t,e));return br(t,e,{enumerable:s.enumerable,configurable:!0,get:kr(()=>n.getValue(),{getObserver:()=>n}),set:t=>{n.setValue(t)}}),n}}));class Ph{constructor(){this.J=[],this.G=ht(wh),this.X=ht(Sh),this.Y=ht(Bh)}addAdapter(t){this.J.push(t)}getObserver(t,e){if(null==t)throw Sr(199,e);if(!u(t))return new $h(t,f(e)?"":e);if(f(e))return new mh(t,e,void 0,this);const s=Rh(t);let i=s[e];return void 0===i&&(i=this.createObserver(t,e),i.doNotCache||(s[e]=i)),i}getAccessor(t,e){const s=t.$observers?.[e];return void 0!==s?s:this.X.handles(t,e,this)?this.X.getAccessor(t,e,this):Ah}getArrayObserver(t){return uo(t)}getMapObserver(t){return po(t)}getSetObserver(t){return fo(t)}createObserver(t,e){if(this.X.handles(t,e,this))return this.X.getObserver(t,e,this);switch(e){case"length":if(a(t))return uo(t).getLengthObserver();break;case"size":if(c(t))return po(t).getLengthObserver();if(l(t))return fo(t).getLengthObserver();break;default:if(a(t)&&b(e))return uo(t).getIndexObserver(Number(e))}let s=Lh(t,e);if(void 0===s){let i=Mh(t);for(;null!==i&&(s=Lh(i,e),void 0===s);)i=Mh(i)}if(void 0!==s&&!mr.call(s,"value")){let i=this.Z(t,e,s);return null==i&&(i=(s.get?.getObserver)?.(t)),null==i?s.configurable?this.Y.getObserver(t,e,s,this):this.G.createProperty(t,e):i}return new Th(t,e)}Z(t,e,s){if(this.J.length>0)for(const i of this.J){const n=i.getObserver(t,e,s,this);if(null!=n)return n}return null}}const Ih=t=>{let e;return a(t)?e=uo(t):c(t)?e=po(t):l(t)&&(e=fo(t)),e},Mh=Object.getPrototypeOf,Lh=Object.getOwnPropertyDescriptor,Rh=t=>{let e=t.$observers;return void 0===e&&br(t,"$observers",{value:e=g()}),e};vo(class{constructor(t,e){this.oL=t,this.fn=e,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1,this.et=void 0,this.run=()=>{if(this.stopped)throw Sr(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{this.et?.call(void 0),ko(this),this.et=this.fn(this)}finally{this.obs.clear(),this.running=!1,$o(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,Sr(226);this.run()}else this.runCount=0}},this.stop=()=>{this.et?.call(void 0),this.et=void 0,this.stopped=!0,this.obs.clearAll()}}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}},null);class Eh{constructor(t,e,s,i){this.oL=e,this.v=void 0,this.boundFn=!1,this.s=t,this.ast=s,this.cb=i}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.obs.version++;const t=this.v,e=Mr(this.ast,this.s,this,this);this.obs.clear(),v(e,t)||(this.v=e,this.cb.call(void 0,e,t))}stop(){this.obs.clearAll(),this.v=void 0}}vo(Eh,null),(t=>{const e=t.prototype;["bindBehavior","unbindBehavior","bindConverter","unbindConverter","useConverter"].forEach(t=>{wr(e,t,()=>{throw Sr(99,t)})})})(Eh);const Nh="pending",jh="running",Fh="completed",Vh="canceled",Dh=new Map,_h=t=>()=>{throw sa(`AUR1005:${t}`)};class qh{constructor(t,e={}){this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach(s=>{this[s]=s in e?e[s]:t[s]}),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach(s=>{this[s]=s in e?e[s]:t[s]?.bind(t)??_h(s)}),this.performanceNow="performanceNow"in e?e.performanceNow:t.performance?.now?.bind(t.performance)??_h("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Wh(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let s=Dh.get(t);return void 0===s&&Dh.set(t,s=new qh(t,e)),s}static set(t,e){Dh.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class Wh{get isEmpty(){return 0===this.t&&0===this.i.length&&0===this.h.length&&0===this.u.length}get T(){return 0===this.t&&this.i.every(Zh)&&this.h.every(Zh)&&this.u.every(Zh)}constructor(t,e,s){this.platform=t,this.$request=e,this.$cancel=s,this.$=void 0,this.t=0,this.i=[],this.h=[],this.u=[],this.R=!1,this.A=void 0,this.M=0,this.P=0,this.U=()=>{this.R||(this.R=!0,this.M=this.q(),this.$request())},this.q=t.performanceNow,this.I=new Gh(t.console)}flush(t=this.q()){if(this.R=!1,this.P=t,void 0===this.$){let e,s;if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0)for(let s=0;s<this.u.length;++s)e=this.u[s],e.queueTime<=t&&(this.i.push(e),this.u.splice(s--,1));for(;this.i.length>0;)if((s=this.i.shift()).run(),s.status===jh){if(!0===s.suspend)return this.$=s,void this.U();++this.t}if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0)for(let s=0;s<this.u.length;++s)e=this.u[s],e.queueTime<=t&&(this.i.push(e),this.u.splice(s--,1));if((this.i.length>0||this.u.length>0||this.t>0)&&this.U(),void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}}else this.U()}cancel(){this.R&&(this.$cancel(),this.R=!1)}async yield(){this.isEmpty||(void 0===this.A&&(this.A=Yh()),await this.A)}queueTask(t,e){const{delay:s,preempt:i,persistent:n,suspend:r}={...Hh,...e};if(i){if(s>0)throw ta();if(n)throw ea()}0===this.i.length&&this.U();const o=this.q(),h=new zh(this.I,this,o,o+s,i,n,r,t);return i?this.i[this.i.length]=h:0===s?this.h[this.h.length]=h:this.u[this.u.length]=h,h}remove(t){let e=this.i.indexOf(t);if(e>-1)this.i.splice(e,1);else if(e=this.h.indexOf(t),e>-1)this.h.splice(e,1);else{if(e=this.u.indexOf(t),!(e>-1))throw sa(`Task #${t.id} could not be found`);this.u.splice(e,1)}}_(t){t.reset(this.q()),t.createdTime===t.queueTime?this.h[this.h.length]=t:this.u[this.u.length]=t}C(t){if(!0===t.suspend){if(this.$!==t)throw sa(`Async task completion mismatch: suspenderTask=${this.$?.id}, task=${t.id}`);this.$=void 0}else--this.t;if(void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}this.isEmpty&&this.cancel()}}class Kh extends Error{constructor(t){super("Task was canceled."),this.task=t}}let Uh=0;class zh{get result(){const t=this.N;if(void 0===t)switch(this.j){case Nh:{const t=this.N=Yh();return this.F=t.resolve,this.O=t.reject,t}case jh:throw sa("Trying to await task from within task will cause a deadlock.");case Fh:return this.N=Promise.resolve();case Vh:return this.N=Promise.reject(new Kh(this))}return t}get status(){return this.j}constructor(t,e,s,i,n,r,o,h){this.taskQueue=e,this.createdTime=s,this.queueTime=i,this.preempt=n,this.persistent=r,this.suspend=o,this.callback=h,this.id=++Uh,this.F=void 0,this.O=void 0,this.N=void 0,this.j=Nh,this.I=t}run(t=this.taskQueue.platform.performanceNow()){if(this.j!==Nh)throw sa(`Cannot run task in ${this.j} state`);const{persistent:e,taskQueue:s,callback:i,F:n,O:r,createdTime:o}=this;let h;this.j=jh;try{h=i(t-o),h instanceof Promise?h.then(t=>{this.persistent?s._(this):(this.j=e?Vh:Fh,this.dispose()),s.C(this),void 0!==n&&n(t)}).catch(t=>{if(this.persistent||this.dispose(),s.C(this),void 0===r)throw t;r(t)}):(this.persistent?s._(this):(this.j=e?Vh:Fh,this.dispose()),void 0!==n&&n(h))}catch(t){if(this.persistent||this.dispose(),void 0===r)throw t;r(t)}}cancel(){if(this.j===Nh){const t=this.taskQueue,e=this.O;return t.remove(this),t.isEmpty&&t.cancel(),this.j=Vh,this.dispose(),void 0!==e&&e(new Kh(this)),!0}return!(this.j!==jh||!this.persistent||(this.persistent=!1,0))}reset(t){const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this.j=Nh,this.F=void 0,this.O=void 0,this.N=void 0}dispose(){this.callback=void 0,this.F=void 0,this.O=void 0,this.N=void 0}}class Gh{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,s){if(e instanceof Wh){const i=`processing=${e.i.length} pending=${e.h.length} delayed=${e.u.length} flushReq=${e.R} susTask=${!!e.$}`;this.console.log(`${t}[Q.${s}] ${i}`)}else{const i=e.id,n=Math.round(10*e.createdTime)/10,r=Math.round(10*e.queueTime)/10,o=e.preempt,h=e.persistent,a=e.suspend,l=`id=${i} created=${n} queue=${r} preempt=${o} persistent=${h} status=${e.j} suspend=${a}`;this.console.log(`${t}[T.${s}] ${l}`)}}}const Hh={delay:0,preempt:!1,persistent:!1,suspend:!1};let Xh,Qh;const Jh=(t,e)=>{Xh=t,Qh=e},Yh=()=>{const t=new Promise(Jh);return t.resolve=Xh,t.reject=Qh,t},Zh=t=>t.persistent,ta=()=>sa("AUR1006"),ea=()=>sa("AUR1007"),sa=t=>new Error(t);class ia extends qh{static getOrCreate(t,e={}){let s=ia.t.get(t);return void 0===s&&ia.t.set(t,s=new ia(t,e)),s}static set(t,e){ia.t.set(t,e)}get domWriteQueue(){return this.domQueue}get domReadQueue(){return this.domQueue}constructor(t,e={}){super(t,e),"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach(s=>this[s]=s in e?e[s]:t[s]),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach(s=>this[s]=s in e?e[s]:t[s]?.bind(t)??(t=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)})(s)),this.domQueue=(()=>{let t=!1,e=-1;const s=()=>{e=-1,!0===t&&(t=!1,i.flush())},i=new Wh(this,()=>{t=!0,-1===e&&(e=this.requestAnimationFrame(s))},()=>{t=!1,e>-1&&(this.cancelAnimationFrame(e),e=-1)});return i})()}}ia.t=new WeakMap,"function"==typeof SuppressedError&&SuppressedError;const{default:na,oneTime:ra,toView:oa,fromView:ha,twoWay:aa}=Ti,la=e.get,ca=e.has,ua=e.define,{annotation:da}=K,fa=da.keyFor,pa=Object,ga=String,va=pa.prototype,ma=va.hasOwnProperty,ba=pa.freeze,wa=pa.assign,ya=pa.getOwnPropertyNames,ka=pa.keys,$a=g(),Ca=(t,e,s)=>{if(!0===$a[e])return!0;if(!p(e))return!1;const i=e.slice(0,5);return $a[e]="aria-"===i||"data-"===i||s.isStandardSvgAttribute(t,e)},Ta=t=>{throw t},Aa=Reflect.defineProperty,xa=(t,e,s)=>(Aa(t,e,{enumerable:!1,configurable:!0,writable:!0,value:s}),s),Sa=(t,e,s)=>t.addSignalListener(e,s),Oa=(t,e,s)=>t.removeSignalListener(e,s),Ba="IsProperty",Pa="pending",Ia="running",Ma=io.Observer,La=io.Node,Ra=io.Layout,Ea=(t,...e)=>{const s=ga(t).padStart(4,"0");return new Error(`AUR${s}:${e.map(ga)}`)},Na=fa("bindables"),ja=ba({name:Na,keyFrom:t=>`${Na}:${t}`,from(...t){const e={},s=Array.isArray;function i(t,s){e[t]=s instanceof Fa?s:Fa.create(t,!0===s?{}:s)}return t.forEach(function(t){s(t)?t.forEach(t=>p(t)?function(t){e[t]=Fa.create(t)}(t):i(t.name,t)):t instanceof Fa?e[t.name]=t:void 0!==t&&ka(t).forEach(e=>i(e,t[e]))}),e},getAll(t){const e=[],s=S(t);let i,n=s.length;for(;--n>=0;){i=s[n];const t=la(Na,i);null!=t&&e.push(...Object.values(t))}return e},i(t,e){let s=la(Na,e);null==s&&ua(s=g(),e,Na),s[t.name]=t}});class Fa{constructor(t,e,s,i,n,r){this.attribute=t,this.callback=e,this.mode=s,this.primary=i,this.name=n,this.set=r}static create(t,e={}){const s=e.mode??oa;return new Fa(e.attribute??$(t),e.callback??`${t}Changed`,p(s)?Ti[s]??na:s,e.primary??!1,e.name??t,e.set??function(t={}){const e=t.type??null;if(null==e)return Mt;let s;switch(e){case Number:case Boolean:case String:case BigInt:s=e;break;default:{const t=e.coerce;s="function"==typeof t?t.bind(e):Va.for(e)??Mt;break}}return s===Mt?s:function(t,e){return function(s,i){return i?.enableCoercion?(e??!i?.coerceNullish)&&null==s?s:t(s,i):s}}(s,t.nullable)}(e))}}const Va={key:fa("coercer"),define(t,e){ua(t[e].bind(t),t,Va.key)},for:t=>la(Va.key,t)},Da=$t.createInterface,_a=j.singleton,qa=j.aliasTo,Wa=j.instance,Ka=(t,e,s)=>t.registerResolver(e,s),Ua=(t,e,s,i="__au_static_resource__")=>{let n=la(i,t);return null==n&&t.$au?.type===e&&(n=s(t.$au,t),ua(n,t,i)),n};class za{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return p(t)?(s=t,i={name:s}):(s=t.name,i=t),new za(e,x(Xa(e,"name"),s),A(Xa(e,"aliases"),i.aliases,e.aliases),Ja.keyFrom(s))}register(t,e){const s=this.Type,i="string"==typeof e?Qa(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:_a(s,s),qa(s,i),...n.map(t=>qa(s,Qa(t))))}}const Ga="binding-behavior",Ha=W(Ga),Xa=(t,e)=>la(fa(e),t),Qa=t=>`${Ha}:${t}`,Ja=ba({name:Ha,keyFrom:Qa,isType:t=>f(t)&&(ca(Ha,t)||t.$au?.type===Ga),define(t,e){const s=za.create(t,e),i=s.Type;return ua(s,i,Ha,q),i},getDefinition(t){const e=la(Ha,t)??Ua(t,Ga,za.create);if(void 0===e)throw Ea(151,t);return e},find(t,e){const s=t.find(Ga,e);return null==s?null:la(Ha,s)??Ua(s,Ga,za.create)??null},get:(t,e)=>t.get(Ft(Qa(e)))}),Ya=new Map,Za=t=>({type:Ga,name:t});class tl{bind(t,e){Ya.set(e,e.mode),e.mode=this.mode}unbind(t,e){e.mode=Ya.get(e),Ya.delete(e)}}class el extends tl{get mode(){return ra}}el.$au=Za("oneTime");class sl extends tl{get mode(){return oa}}sl.$au=Za("toView");class il extends tl{get mode(){return ha}}il.$au=Za("fromView");class nl extends tl{get mode(){return aa}}nl.$au=Za("twoWay");const rl=new WeakMap;class ol{constructor(){this.p=ht(Lt)}bind(t,e,s,i){const n={type:"debounce",delay:s??200,now:this.p.performanceNow,queue:this.p.taskQueue,signals:p(i)?[i]:i??Pt},r=e.limit?.(n);null==r||rl.set(e,r)}unbind(t,e){rl.get(e)?.dispose(),rl.delete(e)}}ol.$au={type:Ga,name:"debounce"};const hl=Da("ISignaler",t=>t.singleton(al));class al{constructor(){this.signals=g()}dispatchSignal(t){const e=this.signals[t];if(void 0===e)return;let s;for(s of e.keys())s.handleChange(void 0,void 0)}addSignalListener(t,e){(this.signals[t]??=new Set).add(e)}removeSignalListener(t,e){this.signals[t]?.delete(e)}}class ll{constructor(){this.h=new Map,this.u=ht(hl)}bind(t,e,...s){if(!("handleChange"in e))throw Ea(817);if(0===s.length)throw Ea(818);let i;for(i of(this.h.set(e,s),s))Sa(this.u,i,e)}unbind(t,e){const s=this.h.get(e);let i;for(i of(this.h.delete(e),s))Oa(this.u,i,e)}}ll.$au={type:Ga,name:"signal"};const cl=new WeakMap;class ul{constructor(){({performanceNow:this.C,taskQueue:this.B}=ht(Lt))}bind(t,e,s,i){const n={type:"throttle",delay:s??200,now:this.C,queue:this.B,signals:p(i)?[i]:i??Pt},r=e.limit?.(n);null==r||cl.set(e,r)}unbind(t,e){cl.get(e)?.dispose(),cl.delete(e)}}ul.$au={type:Ga,name:"throttle"};const dl=Da("IAppTask");class fl{constructor(t,e,s){this.c=void 0,this.slot=t,this.k=e,this.cb=s}register(t){return this.c=t.register(Wa(dl,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}function pl(t){return function(e,s){return f(s)?new fl(t,e,s):new fl(t,null,e)}}ba({creating:pl("creating"),hydrating:pl("hydrating"),hydrated:pl("hydrated"),activating:pl("activating"),activated:pl("activated"),deactivating:pl("deactivating"),deactivated:pl("deactivated")});const gl=Lt;class vl{}const ml=(()=>{const t=new WeakMap;let e=!1;return new class{get hideProp(){return e}set hideProp(t){e=t}get(e,s){return t.get(e)?.[s]??null}set(s,i,n){const r=t.get(s)??(t.set(s,new vl),t.get(s));if(i in r)throw new Error(`Node already associated with a controller, remove the ref "${i}" first before associating with another controller`);return e||(s.$au??=r),r[i]=n}}})(),bl=Da("INode"),wl=(()=>{const t=new WeakMap;return ba({add(e,s){let i=t.get(e);null==i&&t.set(e,i=[]),i.push(s)},getDefinitions:e=>t.get(e)??Pt})})();class yl{get type(){return"custom-attribute"}constructor(t,e,s,i,n,r,o,h,a,l,c){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.defaultBindingMode=n,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=h,this.watches=a,this.dependencies=l,this.containerStrategy=c}static create(t,e){let s,i;p(t)?(s=t,i={name:s}):(s=t.name,i=t);const n=x(Tl(e,"defaultBindingMode"),i.defaultBindingMode,e.defaultBindingMode,oa);for(const t of Object.values(ja.from(i.bindables)))ja.i(t,e);return new yl(e,x(Tl(e,"name"),s),A(Tl(e,"aliases"),i.aliases,e.aliases),Cl(s),p(n)?Ti[n]??na:n,x(Tl(e,"isTemplateController"),i.isTemplateController,e.isTemplateController,!1),ja.from(...ja.getAll(e),Tl(e,"bindables"),e.bindables,i.bindables),x(Tl(e,"noMultiBindings"),i.noMultiBindings,e.noMultiBindings,!1),A(wl.getDefinitions(e),e.watches),A(Tl(e,"dependencies"),i.dependencies,e.dependencies),x(Tl(e,"containerStrategy"),i.containerStrategy,e.containerStrategy,"reuse"))}register(t,e){const s=this.Type,i="string"==typeof e?Cl(e):this.key,n=this.aliases;t.has(i,!1)?yl.warnDuplicate&&t.get(Ut).warn(Ea(154,this.name)):t.register(t.has(s,!1)?null:_a(s,s),qa(s,i),...n.map(t=>qa(s,Cl(t))))}toString(){return`au:ca:${this.name}`}}yl.warnDuplicate=!0;const kl="custom-attribute",$l=W(kl),Cl=t=>`${$l}:${t}`,Tl=(t,e)=>la(fa(e),t),Al=(t,e)=>ml.get(t,Cl(e))??void 0,xl=(t,e)=>{const s=yl.create(t,e),i=s.Type;return ua(s,i,$l,q),i},Sl=t=>{const e=la($l,t)??Ua(t,kl,yl.create);if(void 0===e)throw Ea(759,t);return e},Ol=ba({name:$l,keyFrom:Cl,isType:t=>f(t)&&(ca($l,t)||t.$au?.type===kl),for:Al,closest:(t,e)=>{let s="",i="";if(p(e))s=Cl(e),i=e;else{const t=Sl(e);s=t.key,i=t.name}let n=t;for(;null!==n;){const t=ml.get(n,s);if(t?.is(i))return t;n=ud(n)}return null},define:xl,getDefinition:Sl,annotate(t,e,s){ua(s,t,fa(e))},getAnnotation:Tl,find(t,e){const s=t.find(kl,e);return null===s?null:la($l,s)??Ua(s,kl,yl.create)??null}}),Bl=Da("ILifecycleHooks");class Pl{constructor(t,e){this.definition=t,this.instance=e}}class Il{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const s=new Set;let i=e.prototype;for(;i!==va;){for(const t of ya(i))"constructor"===t||t.startsWith("_")||s.add(t);i=Object.getPrototypeOf(i)}return new Il(e,s)}}const Ml=(()=>{const t=new WeakMap,e=new WeakMap;return ba({define(t,s){const i=Il.create(t,s),n=i.Type;return e.set(n,i),{register(t){_a(Bl,n).register(t)}}},resolve(s){let i=t.get(s);if(void 0===i){t.set(s,i=new Ll);const n=s.root,r=n===s?s.getAll(Bl):s.has(Bl,!1)?n.getAll(Bl).concat(s.getAll(Bl)):n.getAll(Bl);let o,h,a,l,c;for(o of r)for(l of(h=e.get(o.constructor),a=new Pl(h,o),h.propertyNames))c=i[l],void 0===c?i[l]=[a]:c.push(a)}return i}})})();class Ll{}class Rl{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return p(t)?(s=t,i={name:s}):(s=t.name,i=t),new Rl(e,x(jl(e,"name"),s),A(jl(e,"aliases"),i.aliases,e.aliases),Vl.keyFrom(s))}register(t,e){const s=this.Type,i="string"==typeof e?Fl(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:_a(s,s),qa(s,i),...n.map(t=>qa(s,Fl(t))))}}const El="value-converter",Nl=W(El),jl=(t,e)=>la(fa(e),t),Fl=t=>`${Nl}:${t}`,Vl=ba({name:Nl,keyFrom:Fl,isType:t=>f(t)&&(ca(Nl,t)||t.$au?.type===El),define(t,e){const s=Rl.create(t,e),i=s.Type;return ua(s,i,Nl,q),i},getDefinition(t){const e=la(Nl,t)??Ua(t,El,Rl.create);if(void 0===e)throw Ea(152,t);return e},annotate(t,e,s){ua(s,t,fa(e))},getAnnotation:jl,find(t,e){const s=t.find(El,e);return null==s?null:la(Nl,s)??Ua(s,El,Rl.create)??null},get:(t,e)=>t.get(Ft(Fl(e)))});class Dl{constructor(t,e){this.v=void 0,this.b=t,this.A=e}flush(){this.b.isBound&&this.b.updateSource(this.v)}handleChange(t,e){const s=this.b;t!==Mr(s.ast,s.s,s,null)&&(this.v=t,this.A.add(this))}}const _l=(()=>{function t(t){this.s=t}return e=>{xa(e.prototype,"useScope",t)}})(),ql=(()=>{class t{}const e=new WeakMap,s=new WeakMap,i=new WeakMap;function n(t){return this.l.get(t)}function r(e,i){let n=s.get(e);return null==n&&s.set(e,n=new t),n[i]??=Ja.get(e.l,i)}function o(t,e,s){const n=r(this,t);if(null==n)throw Ea(101,t);let o=i.get(this);if(null==o&&i.set(this,o={}),o[t])throw Ea(102,t);n.bind?.(e,this,...s)}function h(t,e){const s=r(this,t),n=i.get(this);s?.unbind?.(e,this),null!=n&&(n[t]=!1)}function a(s,i){let n=e.get(s);return null==n&&e.set(s,n=new t),n[i]??=Vl.get(s.l,i)}function l(t){const e=a(this,t);if(null==e)throw Ea(103,t);const s=e.signals;if(null!=s){const t=this.l.get(hl),e=s.length;let i=0;for(;i<e;++i)t.addSignalListener(s[i],this)}}function c(t){const e=a(this,t);if(void 0===e?.signals)return;const s=this.l.get(hl);let i=0;for(;i<e.signals.length;++i)s.removeSignalListener(e.signals[i],this)}function u(t,e,s,i){const n=a(this,t);if(null==n)throw Ea(103,t);const r=!0===n.withContext;let o=null;switch(r&&(o={source:this.l.get(Uu).controller.viewModel,binding:this}),e){case"toView":return"toView"in n?r?n.toView(s,o,...i):n.toView(s,...i):s;case"fromView":return"fromView"in n?r?n.fromView?.(s,o,...i):n.fromView?.(s,...i):s}}return t=>{const e=t.prototype;xa(e,"get",n),xa(e,"bindBehavior",o),xa(e,"unbindBehavior",h),xa(e,"bindConverter",l),xa(e,"unbindConverter",c),xa(e,"useConverter",u)}})(),Wl=Da("IFlushQueue",t=>t.singleton(Kl));class Kl{constructor(){this.R=!1,this.T=new Set}get count(){return this.T.size}add(t){if(this.T.add(t),!this.R){this.R=!0;try{this.T.forEach(Ul)}finally{this.R=!1}}}clear(){this.T.clear(),this.R=!1}}const Ul=function(t,e,s){s.delete(t),t.flush()},zl=(()=>{const t=new WeakSet;return(e,s)=>{xa(e.prototype,"limit",function(e){if(t.has(this))throw Ea(9996);t.add(this);const i=s(this,e),n=e.signals,r=n.length>0?this.get(hl):null,o=this[i],h=(...t)=>o.call(this,...t),a="debounce"===e.type?((t,e,s)=>{let i,n,r,o=!1;const h=()=>e(r),a=e=>{r=e,s.isBound?(n=i,i=Yr(h,{delay:t.delay}),n?.cancel()):h()},l=a.dispose=()=>{n?.cancel(),i?.cancel(),n=i=void 0};return a.flush=()=>{o=i?.status===Pa,l(),o&&h()},a})(e,h,this):((t,e,s)=>{let i,n,r,o=0,h=0,a=!1;const l=()=>t.now(),c=()=>e(r),u=e=>{r=e,s.isBound?(h=l()-o,n=i,h>t.delay?(o=l(),c()):i=Yr(()=>{o=l(),c()},{delay:t.delay-h}),n?.cancel()):c()},d=u.dispose=()=>{n?.cancel(),i?.cancel(),n=i=void 0};return u.flush=()=>{a=i?.status===Pa,d(),a&&c()},u})(e,h,this),l=r?{handleChange:a.flush}:null;return this[i]=a,r&&n.forEach(t=>Sa(r,t,l)),{dispose:()=>{r&&n.forEach(t=>Oa(r,t,l)),t.delete(this),a.dispose(),delete this[i]}}})}})(),Gl=((t=new WeakSet)=>e=>function(){t.has(this)||(t.add(this),e.call(this))})();class Hl{constructor(t,e,s,i,n,r,o,h,a){this.targetAttribute=r,this.targetProperty=o,this.mode=h,this.strict=a,this.isBound=!1,this.s=void 0,this.L=!1,this.v=void 0,this.boundFn=!1,this.M=!1,this.l=e,this.ast=i,this.P=t,this.target=n,this.oL=s,(this.M=o.indexOf(" ")>-1)&&!Hl.q.has(o)&&Hl.q.set(o,o.split(" "))}updateTarget(t){const e=this.target,s=this.targetAttribute,i=this.targetProperty;switch(s){case"class":if(this.M){const s=!!t;for(const t of Hl.q.get(i))e.classList.toggle(t,s)}else e.classList.toggle(i,!!t);break;case"style":{let s="",n=ga(t);p(n)&&n.includes("!important")&&(s="important",n=n.replace("!important","")),e.style.setProperty(i,n,s);break}default:null==t?e.removeAttribute(s):e.setAttribute(s,ga(t))}}handleChange(){this.isBound&&(this.L||(this.L=!0,Jr(()=>{if(this.L=!1,!this.isBound)return;this.obs.version++;const t=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null);this.obs.clear(),t!==this.v&&(this.v=t,this.updateTarget(t))})))}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Lr(this.ast,t,this),this.mode&(oa|ra)&&this.updateTarget(this.v=Mr(this.ast,t,this,(this.mode&oa)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Rr(this.ast,this.s,this),this.s=void 0,this.v=void 0,this.obs.clearAll())}}Hl.mix=Gl(()=>{_l(Hl),zl(Hl,()=>"updateTarget"),vo(Hl,null),ql(Hl)}),Hl.q=new Map;class Xl{constructor(t,e,s,i,n,r,o,h){this.ast=i,this.target=n,this.targetProperty=r,this.mode=o,this.strict=h,this.isBound=!1,this.s=void 0,this.L=!1,this.P=t,this.oL=s,this.I=s.getAccessor(n,r);const a=i.expressions,l=this.partBindings=Array(a.length),c=a.length;let u=0;for(;c>u;++u)l[u]=new Ql(a[u],n,r,e,s,h,this)}_(){if(this.isBound)if(this.P.state!==Fu&&(this.I.type&Ra)>0){if(this.L)return;this.L=!0,Jr(()=>{this.L=!1,this.isBound&&this.updateTarget()})}else this.updateTarget()}updateTarget(){const t=this.partBindings,e=this.ast,s=this.target,i=this.targetProperty,n=e.parts,r=t.length;let o="",h=0;if(1===r)o=n[0]+t[0].V()+n[1];else for(o=n[0];r>h;++h)o+=t[h].V()+n[h+1];this.I.setValue(o,s,i)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t;const e=this.partBindings,s=e.length;let i=0;for(;s>i;++i)e[i].bind(t);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this.s=void 0;const t=this.partBindings,e=t.length;let s=0;for(;e>s;++s)t[s].unbind()}useAccessor(t){this.I=t}}class Ql{constructor(t,e,s,i,n,r,o){this.ast=t,this.target=e,this.targetProperty=s,this.strict=r,this.owner=o,this.mode=oa,this.isBound=!1,this.v="",this.boundFn=!1,this.D=!1,this.l=i,this.oL=n}updateTarget(){this.owner._()}handleChange(){this.isBound&&(this.D=!0,this.updateTarget())}handleCollectionChange(){this.isBound&&(this.D=!0,this.updateTarget())}V(){if(!this.D)return this.v;this.obs.version++;const t=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null);return this.obs.clear(),this.v=t,a(t)&&this.observeCollection(t),this.D=!1,this.v}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Lr(this.ast,t,this),this.v=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null),a(this.v)&&this.observeCollection(this.v),this.D=!1,this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this.v=void 0,this.D=!1,Rr(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}Ql.mix=Gl(()=>{_l(Ql),zl(Ql,()=>"updateTarget"),vo(Ql,null),ql(Ql)});class Jl{constructor(t,e,s,i,n,r,o){this.p=i,this.ast=n,this.target=r,this.strict=o,this.isBound=!1,this.mode=oa,this.L=!1,this.v="",this.F=!1,this.boundFn=!1,this.l=e,this.P=t,this.oL=s}updateTarget(t){const e=this.target,s=this.v;this.v=t,this.F&&(s.parentNode?.removeChild(s),this.F=!1),t instanceof this.p.Node&&(e.parentNode?.insertBefore(t,e),t="",this.F=!0),e.textContent=ga(t??"")}handleChange(){this.isBound&&(this.L||(this.L=!0,Jr(()=>{if(this.L=!1,!this.isBound)return;this.obs.version++;const t=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null);this.obs.clear(),t!==this.v&&this.updateTarget(t)})))}handleCollectionChange(){this.isBound&&(this.L||(this.L=!0,Jr(()=>{if(this.L=!1,!this.isBound)return;this.obs.version++;const t=this.v=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null);this.obs.clear(),a(t)&&this.observeCollection(t),this.updateTarget(t)})))}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Lr(this.ast,t,this);const e=this.v=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null);a(e)&&this.observeCollection(e),this.updateTarget(e),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Rr(this.ast,this.s,this),this.F&&this.v.parentNode?.removeChild(this.v),this.s=void 0,this.obs.clearAll())}}Jl.mix=Gl(()=>{_l(Jl),zl(Jl,()=>"updateTarget"),vo(Jl,null),ql(Jl)});class Yl{constructor(t,e,s,i,n,r){this.ast=s,this.targetProperty=i,this.isBound=!1,this.s=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=e,this.strict=r,this.H=n}updateTarget(){this.target[this.targetProperty]=this.v}handleChange(){this.isBound&&(this.obs.version++,this.v=Mr(this.ast,this.s,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,this.target=this.H?t.bindingContext:t.overrideContext,Lr(this.ast,t,this),this.v=Mr(this.ast,this.s,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Rr(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}Yl.mix=Gl(()=>{_l(Yl),zl(Yl,()=>"updateTarget"),vo(Yl,null),ql(Yl)});class Zl{constructor(t,e,s,i,n,r,o,h){this.ast=i,this.target=n,this.targetProperty=r,this.mode=o,this.strict=h,this.isBound=!1,this.s=void 0,this.I=void 0,this.L=!1,this.O=null,this.boundFn=!1,this.l=e,this.P=t,this.oL=s}updateTarget(t){this.I.setValue(t,this.target,this.targetProperty)}updateSource(t){Ir(this.ast,this.s,this,null,t)}handleChange(){if(this.isBound)if(this.P.state!==Fu&&(this.I.type&Ra)>0){if(this.L)return;this.L=!0,Jr(()=>{this.L=!1,this.isBound&&this.$()})}else this.$()}$(){this.obs.version++;const t=Mr(this.ast,this.s,this,(this.mode&oa)>0?this:null);this.obs.clear(),this.updateTarget(t)}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Lr(this.ast,t,this);const e=this.oL,s=this.mode;let i=this.I;i||(i=s&ha?e.getObserver(this.target,this.targetProperty):e.getAccessor(this.target,this.targetProperty),this.I=i);const n=(s&oa)>0;s&(oa|ra)&&this.updateTarget(Mr(this.ast,this.s,this,n?this:null)),s&ha&&(i.subscribe(this.O??=new Dl(this,this.l.get(Wl))),n||this.updateSource(i.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this.O&&(this.I.unsubscribe(this.O),this.O=null),Rr(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}useTargetObserver(t){this.I?.unsubscribe(this),(this.I=t).subscribe(this)}useTargetSubscriber(t){if(null!=this.O)throw Ea(9995);this.O=t}}Zl.mix=Gl(()=>{_l(Zl),zl(Zl,t=>t.mode&ha?"updateSource":"updateTarget"),vo(Zl,null),ql(Zl)});class tc{constructor(t,e,s,i,n){this.oL=e,this.ast=s,this.target=i,this.strict=n,this.isBound=!1,this.s=void 0,this.l=t}updateSource(){this.isBound?(this.obs.version++,Ir(this.ast,this.s,this,this,this.target),this.obs.clear()):Ir(this.ast,this.s,this,null,null)}handleChange(){this.isBound&&this.updateSource()}handleCollectionChange(){this.isBound&&this.updateSource()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Lr(this.ast,t,this),this.isBound=!0,this.updateSource()}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),Mr(this.ast,this.s,this,null)===this.target&&this.updateSource(),Rr(this.ast,this.s,this),this.s=void 0)}}tc.mix=Gl(()=>{vo(tc,null),zl(tc,()=>"updateSource"),_l(tc),ql(tc)});class ec{constructor(t,e=!1,s){this.prevent=t,this.capture=e,this.onError=s}}class sc{constructor(t,e,s,i,n,r,o){this.ast=e,this.target=s,this.targetEvent=i,this.strict=o,this.isBound=!1,this.self=!1,this.boundFn=!0,this.N=null,this.l=t,this.W=n,this.N=r}callSource(t){const e=this.s.overrideContext;e.$event=t;let s=Mr(this.ast,this.s,this,null);delete e.$event,f(s)&&(s=s(t)),!0!==s&&this.W.prevent&&t.preventDefault()}handleEvent(t){if((!this.self||this.target===t.composedPath()[0])&&!1!==this.N?.(t))try{this.callSource(t)}catch(e){this.W.onError(t,e)}}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Lr(this.ast,t,this),this.target.addEventListener(this.targetEvent,this,this.W),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Rr(this.ast,this.s,this),this.s=void 0,this.target.removeEventListener(this.targetEvent,this,this.W))}}sc.mix=Gl(function(){_l(sc),zl(sc,()=>"callSource"),ql(sc)});const ic=Da("IEventModifier"),nc=Da("IKeyMapping",t=>t.instance({meta:ba(["ctrl","alt","shift","meta"]),keys:{escape:"Escape",enter:"Enter",space:"Space",tab:"tab",...Array.from({length:25}).reduce((t,e,s)=>{let i=String.fromCharCode(s+65);return t[s+65]=i,i=String.fromCharCode(s+97),t[s+97]=t[i]=i,t},{})}}));class rc{constructor(){this.type=["click","mousedown","mousemove","mouseup","dblclick","contextmenu"],this.j=ht(nc),this.U=["left","middle","right"]}static register(t){t.register(_a(ic,rc))}getHandler(t){const e=t.split(/[:+.]/);return t=>{let s,i=!1,n=!1;for(s of e){switch(s){case"prevent":i=!0;continue;case"stop":n=!0;continue;case"left":case"middle":case"right":if(t.button!==this.U.indexOf(s))return!1;continue}if(this.j.meta.includes(s)&&!0!==t[`${s}Key`])return!1}return i&&t.preventDefault(),n&&t.stopPropagation(),!0}}}class oc{constructor(){this.j=ht(nc),this.type=["keydown","keyup"]}static register(t){t.register(_a(ic,oc))}getHandler(t){const e=t.split(/[:+.]/);return t=>{let s,i=!1,n=!1;for(s of e){switch(s){case"prevent":i=!0;continue;case"stop":n=!0;continue}if(this.j.meta.includes(s)){if(!0!==t[`${s}Key`])return!1}else if(this.j.keys[s]!==t.key)return!1}return i&&t.preventDefault(),n&&t.stopPropagation(),!0}}}class hc{constructor(){this.type=["$ALL"]}static register(t){t.register(_a(ic,hc))}getHandler(t){const e=t.split(/[:+.]/);return t=>{let s,i=!1,n=!1;for(s of e)switch(s){case"prevent":i=!0;continue;case"stop":n=!0;continue}return i&&t.preventDefault(),n&&t.stopPropagation(),!0}}}const ac=Da("IEventModifierHandler",t=>t.instance({getHandler:()=>null}));class lc{constructor(){this.G=ht(Et(ic)).reduce((t,e)=>((a(e.type)?e.type:[e.type]).forEach(s=>t[s]=e),t),{})}static register(t){t.register(_a(ac,lc))}getHandler(t,e){return p(e)?(this.G[t]??this.G.$ALL)?.getHandler(e)??null:null}}const cc={register(t){t.register(lc,rc,oc,hc)}},uc=Da("IViewFactory");class dc{constructor(t,e){this.isCaching=!1,this.X=null,this.K=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=dc.maxCacheSize:p(t)&&(t=parseInt(t,10)),-1!==this.K&&e||(this.K=t)),this.K>0?this.X=[]:this.X=null,this.isCaching=this.K>0}canReturnToCache(t){return null!=this.X&&this.X.length<this.K}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.X.push(t),!0)}create(t){const e=this.X;let s;return null!=e&&e.length>0?(s=e.pop(),s):(s=yu.$view(this,t),s)}}dc.maxCacheSize=65535;const fc=(()=>{const t=(t,e)=>t.document.createComment(e);return e=>{const s=t(e,"au-end");return s.$start=t(e,"au-start"),s}})(),pc=(t,e,s)=>{if(null===t)return;const i=s.length;let n=0;for(;i>n;)t.insertBefore(s[n],e),++n},gc=(t,e)=>new t.ownerDocument.defaultView.MutationObserver(e),vc=t=>1===t.nodeType,mc="default",bc=Da("IAuSlotsInfo");class wc{constructor(t){this.projectedSlots=t}}const yc=Da("IAuSlotWatcher");class kc{static create(t,e,s,i,n,r,o,h){const a=[],l=i.renderers,c=e=>{let s=e,i=t;for(;null!=i&&s>0;)i=i.parent,--s;if(null==i)throw Ea(9999);return i},u=t=>{const i=c(t),d=new kc(i),f=n.compileSpread(i.controller.definition,i.instruction?.captures??Pt,i.controller.container,e,s);let p;for(p of f)switch(p.type){case Yi.spreadTransferedBinding:u(t+1);break;case Yi.spreadElementProp:l[p.instruction.type].render(d,Od(e),p.instruction,r,o,h);break;default:l[p.type].render(d,e,p,r,o,h)}a.push(d)};return u(0),a}get container(){return this.locator}get definition(){return this.$controller.definition}get state(){return this.$controller.state}constructor(t){this.isBound=!1,this.et=[],this.locator=(this.$controller=(this.it=t).controller).container}get(t){return this.locator.get(t)}bind(t){if(this.isBound)return;this.isBound=!0;const e=this.scope=this.it.controller.scope.parent??void 0;if(null==e)throw Ea(9999);this.et.forEach(t=>t.bind(e))}unbind(){this.et.forEach(t=>t.unbind()),this.isBound=!1}addBinding(t){this.et.push(t)}addChild(t){if(t.vmKind!==Eu)throw Ea(9998);this.$controller.addChild(t)}}class $c{constructor(t,e,s,i,n,r,o){this.target=e,this.targetKeys=s,this.ast=i,this.strict=o,this.isBound=!1,this.s=void 0,this.boundFn=!1,this.st={},this.nt=new WeakMap,this.P=t,this.oL=n,this.l=r}updateTarget(){this.obs.version++;const t=Mr(this.ast,this.s,this,this);this.obs.clear(),this.rt(t,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.isBound=!0,this.s=t,Lr(this.ast,t,this);const e=Mr(this.ast,t,this,this);this.rt(e,!1)}unbind(){if(!this.isBound)return;let t;for(t in this.isBound=!1,Rr(this.ast,this.s,this),this.s=void 0,this.st)this.st[t].unbind()}rt(t,e){let s,i;if(!u(t)){for(s in this.st)this.st[s]?.unbind();return}let n=this.nt.get(t);for(s of(null==n&&this.nt.set(t,n=Or.fromParent(this.s,t)),this.targetKeys))i=this.st[s],s in t?(null==i&&(i=this.st[s]=new Zl(this.P,this.l,this.oL,$c.ot[s]??=new be(s,0),this.target,s,Ti.toView,this.strict)),i.bind(n)):e&&i?.unbind()}}$c.mix=Gl(()=>{_l($c),zl($c,()=>"updateTarget"),vo($c,null),ql($c)}),$c.ot={};const Cc=(t,e,s,i)=>{t.addEventListener(e,s,i)},Tc=(t,e,s,i)=>{t.removeEventListener(e,s,i)},Ac=t=>{let e;const s=t.prototype;xa(s,"subscribe",function(t){if(this.subs.add(t)&&1===this.subs.count){for(e of this.cf.events)Cc(this.lt,e,this);this.ht=!0,this.ct?.()}}),xa(s,"unsubscribe",function(t){if(this.subs.remove(t)&&0===this.subs.count){for(e of this.cf.events)Tc(this.lt,e,this);this.ht=!1,this.ut?.()}}),xa(s,"useConfig",function(t){if(this.cf=t,this.ht){for(e of this.cf.events)Tc(this.lt,e,this);for(e of this.cf.events)Cc(this.lt,e,this)}})},xc=t=>{xa(t.prototype,"subscribe",Mt),xa(t.prototype,"unsubscribe",Mt)};class Sc{get doNotCache(){return!0}constructor(t,e={}){this.obj=t,this.mapping=e,this.type=La|Ra,this.v="",this.ft={},this.dt=0}getValue(){return this.v}setValue(t){t!==this.v&&(this.v=t,this.gt())}gt(){const t=this.ft,e=++this.dt,s=this.obj.classList,i=Oc(this.v),n=i.length;let r,o=0;if(n>0)for(;o<n;o++)r=i[o],r=this.mapping[r]||r,0!==r.length&&(t[r]=this.dt,s.add(r));if(1!==e)for(r in t)r=this.mapping[r]||r,t[r]!==e&&s.remove(r)}}function Oc(t){if(p(t))return Bc(t);if("object"!=typeof t)return Pt;if(a(t)){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...Oc(t[i]));return s}return Pt}const e=[];let s;for(s in t)Boolean(t[s])&&(s.includes(" ")?e.push(...Bc(s)):e.push(s));return e}function Bc(t){const e=t.match(/\S+/g);return null===e?Pt:e}xc(Sc);const Pc=t=>({$isResolver:!0,resolve:(e,s)=>s.get(Uu).controller.container.get(jt(t))}),Ic=Da("IRenderer");function Mc(t,e){return(e?.metadata??(t[Symbol.metadata]??=Object.create(null)))[X]={register(e){_a(Ic,t).register(e)}},t}function Lc(t,e,s){return p(e)?t.parse(e,s):e}function Rc(t){return null!=t.viewModel?t.viewModel:t}const Ec=Mc(class{constructor(){this.target=Yi.setProperty}render(t,e,s){const i=Rc(e);void 0!==i.$observers?.[s.to]?i.$observers[s.to].setValue(s.value):i[s.to]=s.value}},null),Nc=Mc(class{constructor(){this.r=ht(cu),this.target=Yi.hydrateElement}render(t,e,s,i,n,r){let o,h,a;const l=s.res,c=s.projections,u=t.container;if("string"==typeof l){if(o=Md.find(u,l),null==o)throw Ea(752,s,t)}else o=l;const d=s.containerless||o.containerless?dd(e):null,f=function(t,e,s,i,n,r){const o=e.container.createChild();return gd(o,s,t),Ka(o,Ku,new Ot(tu,e)),Ka(o,Zi,new Ot(eu,i)),Ka(o,ad,null==n?hu:new ou(n)),Ka(o,uc,au),Ka(o,bc,null==r?lu:new Ot(iu,r)),o}(i,t,e,s,d,null==c?void 0:new wc(ka(c)));h=f.invoke(o.Type),a=yu.$el(f,h,e,s,o,d);const p=this.r.renderers,g=s.props,v=g.length;let m,b=0;for(;v>b;)m=g[b],p[m.type].render(t,a,m,i,n,r),++b;t.addChild(a)}},null),jc=Mc(class{constructor(){this.r=ht(cu),this.target=Yi.hydrateAttribute}render(t,e,s,i,n,r){let o,h=t.container;if("string"==typeof s.res){if(o=Ol.find(h,s.res),null==o)throw Ea(753,s,t)}else o=s.res;const a=ru(i,o,t,e,s,void 0,void 0),l=yu.$attr(a.ctn,a.vm,e,o);ml.set(e,o.key,l);const c=this.r.renderers,u=s.props,d=u.length;let f,p=0;for(;d>p;)f=u[p],c[f.type].render(t,l,f,i,n,r),++p;t.addChild(l)}},null),Fc=Mc(class{constructor(){this.r=ht(cu),this.target=Yi.hydrateTemplateController}render(t,e,s,i,n,r){let o,h=t.container;if("string"==typeof s.res){if(o=Ol.find(h,s.res),null==o)throw Ea(754,s,t)}else o=s.res;const a=this.r.getViewFactory(s.def,"new"===o.containerStrategy?h.createChild({inheritParentResources:!0}):h),l=dd(e),c=ru(i,o,t,e,s,a,l),u=yu.$attr(c.ctn,c.vm,e,o);ml.set(l,o.key,u),c.vm.link?.(t,u,e,s);const d=this.r.renderers,f=s.props,p=f.length;let g,v=0;for(;p>v;)g=f[v],d[g.type].render(t,u,g,i,n,r),++v;t.addChild(u)}},null),Vc=Mc(class{constructor(){this.target=Yi.hydrateLetElement,Yl.mix()}render(t,e,s,i,n,r){e.remove();const o=s.instructions,h=s.toBindingContext,a=t.container,l=o.length;let c,u,d=0;for(;l>d;)c=o[d],u=Lc(n,c.from,Ba),t.addBinding(new Yl(a,r,u,c.to,h,t.strict??!1)),++d}},null),Dc=Mc(class{constructor(){this.target=Yi.refBinding,tc.mix()}render(t,e,s,i,n,r){t.addBinding(new tc(t.container,r,Lc(n,s.from,Ba),function(t,e){if("element"===e)return t;switch(e){case"controller":return Od(t);case"view":throw Ea(750);case"component":return Od(t).viewModel;default:{const s=Al(t,e);if(void 0!==s)return s.viewModel;const i=Od(t,{name:e});if(void 0===i)throw Ea(751,e);return i.viewModel}}}(e,s.to),t.strict??!1))}},null),_c=Mc(class{constructor(){this.target=Yi.interpolation,Ql.mix()}render(t,e,s,i,n,r){const o=t.container,h=new Xl(t,o,r,Lc(n,s.from,"Interpolation"),Rc(e),s.to,oa,t.strict??!1);if("class"===s.to&&h.target.nodeType>0){const t=o.get(Pc(ld));h.useAccessor(new Sc(h.target,t))}t.addBinding(h)}},null),qc=Mc(class{constructor(){this.target=Yi.propertyBinding,Zl.mix()}render(t,e,s,i,n,r){const o=t.container,h=new Zl(t,o,r,Lc(n,s.from,Ba),Rc(e),s.to,s.mode,t.strict??!1);if("class"===s.to&&h.target.nodeType>0){const t=o.get(Pc(ld));h.useTargetObserver(new Sc(h.target,t))}t.addBinding(h)}},null),Wc=Mc(class{constructor(){this.target=Yi.iteratorBinding,Zl.mix()}render(t,e,s,i,n,r){t.addBinding(new Zl(t,t.container,r,Lc(n,s.forOf,"IsIterator"),Rc(e),s.to,oa,t.strict??!1))}},null),Kc=Mc(class{constructor(){this.target=Yi.textBinding,Jl.mix()}render(t,e,s,i,n,r){t.addBinding(new Jl(t,t.container,r,i,Lc(n,s.from,Ba),e,t.strict??!1))}},null),Uc=Da("IListenerBindingOptions",t=>t.singleton(class{constructor(){this.p=ht(gl),this.prevent=!1,this.onError=(t,e)=>{const s=new this.p.CustomEvent("au-event-error",{cancelable:!0,detail:{event:t,error:e}});if(this.p.window.dispatchEvent(s),!s.defaultPrevented)throw e}}})),zc=Mc(class{constructor(){this.target=Yi.listenerBinding,this.vt=ht(ac),this.xt=ht(Uc),sc.mix()}render(t,e,s,i,n){t.addBinding(new sc(t.container,Lc(n,s.from,"IsFunction"),e,s.to,new ec(this.xt.prevent,s.capture,this.xt.onError),this.vt.getHandler(s.to,s.modifier),t.strict??!1))}},null),Gc=Mc(class{constructor(){this.target=Yi.setAttribute}render(t,e,s){e.setAttribute(s.to,s.value)}},null),Hc=Mc(class{constructor(){this.target=Yi.setClassAttribute}render(t,e,s){!function(t,e){const s=e.length;let i=0;for(let n=0;n<s;++n)32===e.charCodeAt(n)?(n!==i&&t.add(e.slice(i,n)),i=n+1):n+1===s&&t.add(e.slice(i))}(e.classList,s.value)}},null),Xc=Mc(class{constructor(){this.target=Yi.setStyleAttribute}render(t,e,s){e.style.cssText+=s.value}},null),Qc=Mc(class{constructor(){this.target=Yi.stylePropertyBinding,Zl.mix()}render(t,e,s,i,n,r){t.addBinding(new Zl(t,t.container,r,Lc(n,s.from,Ba),e.style,s.to,oa,t.strict??!1))}},null),Jc=Mc(class{constructor(){this.target=Yi.attributeBinding,Hl.mix()}render(t,e,s,i,n,r){const o=t.container,h=o.has(ld,!1)?o.get(ld):null;t.addBinding(new Hl(t,o,r,Lc(n,s.from,Ba),e,s.attr,null==h?s.to:s.to.split(/\s/g).map(t=>h[t]??t).join(" "),oa,t.strict??!1))}},null),Yc=Mc(class{constructor(){this.yt=ht(Ai),this.r=ht(cu),this.target=Yi.spreadTransferedBinding}render(t,e,s,i,n,r){kc.create(t.container.get(Uu),e,void 0,this.r,this.yt,i,n,r).forEach(e=>t.addBinding(e))}},null),Zc=Mc(class{constructor(){this.target=Yi.spreadValueBinding,$c.mix()}render(t,e,s,i,n,r){const o=s.target;if("$bindables"!==o)throw Ea(820,o);t.addBinding(new $c(t,e.viewModel,ka(e.definition.bindables),n.parse(s.from,Ba),r,t.container,t.strict??!1))}},null),tu="IController",eu="IInstruction",su="IRenderLocation",iu="ISlotsInfo";class nu{get $isResolver(){return!0}constructor(t){this.f=t}resolve(){const t=this.f;if(null===t)throw Ea(755);if(!p(t.name)||0===t.name.length)throw Ea(756);return t}}function ru(t,e,s,i,n,r,o,h){const a=s instanceof yu?s:s.$controller,l=a.container.createChild();return gd(l,i,t),Ka(l,Ku,new Ot(tu,a)),Ka(l,Zi,new Ot(eu,n)),Ka(l,ad,null==o?hu:new Ot(su,o)),Ka(l,uc,null==r?au:new nu(r)),Ka(l,bc,lu),{vm:l.invoke(e.Type),ctn:l}}class ou{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(t){this.l=t}resolve(){return this.l}}const hu=new ou(null),au=new nu(null),lu=new Ot(iu,new wc(Pt)),cu=Da("IRendering",t=>t.singleton(uu));class uu{get renderers(){return this.wt??=this.bt.getAll(Ic,!1).reduce((t,e)=>(t[e.target]??=e,t),g())}constructor(){this.kt=new WeakMap,this.Ct=new WeakMap;const t=this.bt=ht(Ct).root,e=this.p=t.get(gl);this.ep=t.get(Ue),this.oL=t.get(xh),this.Bt=e.document.createElement("au-m"),this.St=new pd(e,e.document.createDocumentFragment())}compile(t,e){const s=e.get(Ai),i=this.kt;let n=i.get(t);return null==n&&i.set(t,n=md.create(t.needsCompile?s.compile(t,e):t)),n}getViewFactory(t,e){return new dc(e,md.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new pd(this.p,this.At(t.template));let e,s=!1;const i=this.Ct,n=this.p,r=n.document;if(i.has(t))e=i.get(t);else{const o=t.template;let h;null==o?e=null:o instanceof n.Node?"TEMPLATE"===o.nodeName?(e=o.content,s=!0):(e=r.createDocumentFragment()).appendChild(o.cloneNode(!0)):(h=r.createElement("template"),p(o)&&(h.innerHTML=o),e=h.content,s=!0),this.At(e),i.set(t,e)}return null==e?this.St:new pd(this.p,s?r.importNode(e,!0):r.adoptNode(e.cloneNode(!0)))}render(t,e,s,i){const n=s.instructions,r=this.renderers,o=e.length;let h,a,l,c=0,u=0,d=n.length;if(o!==d)throw Ea(757,o,d);if(null!=i&&(h=s.surrogates,(d=h.length)>0))for(u=0;d>u;)a=h[u],r[a.type].render(t,i,a,this.p,this.ep,this.oL),++u;if(o>0)for(;o>c;){for(h=n[c],l=e[c],u=0,d=h.length;d>u;)a=h[u],r[a.type].render(t,l,a,this.p,this.ep,this.oL),++u;++c}}At(t){if(null==t)return null;const e=this.p.document.createTreeWalker(t,128);let s;for(;null!=(s=e.nextNode());)"au*"===s.nodeValue&&s.parentNode.replaceChild(e.currentNode=this.Bt.cloneNode(),s);return t}}const du=Da("IShadowDOMStyles"),fu=Da("IShadowDOMGlobalStyles",t=>t.instance({applyTo:Mt})),{enter:pu,exit:gu}=Co,{wrap:vu,unwrap:mu}=vh;class bu{get value(){return this.v}constructor(t,e,s,i,n="async"){this.obj=t,this.$get=s,this.isBound=!1,this.L=!1,this.Rt=0,this.v=void 0,this.cb=i,this.oL=e,this.Tt=n}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){this.isBound&&("sync"!==this.Tt?this.L||(this.L=!0,Jr(()=>{this.L=!1,this.Et()})):this.Et())}Et(){if(!this.isBound)return;const t=this.obj,e=this.v;if(++this.Rt>100)throw new Error("AURXXXX: Possible infinitely recursive side-effect detected in a watcher.");const s=this.compute();v(s,e)||this.cb.call(t,s,e,t),this.L||(this.Rt=0)}compute(){this.obs.version++;try{return pu(this),this.v=mu(this.$get.call(void 0,vu(this.obj),this))}finally{this.obs.clear(),gu(this)}}}vo(bu,null);class wu{get value(){return this.v}constructor(t,e,s,i,n,r="async"){this.scope=t,this.l=e,this.oL=s,this.isBound=!1,this.L=!1,this.boundFn=!1,this.obj=t.bindingContext,this.Lt=i,this.cb=n,this.Tt=r}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.isBound&&("sync"!==this.Tt?this.L||(this.L=!0,Jr(()=>{this.L=!1,this.Et()})):this.Et())}Et(){if(!this.isBound)return;const t=this.Lt,e=this.obj,s=this.v;this.obs.version++;const i=Mr(t,this.scope,this,this);this.obs.clear(),v(i,s)||(this.v=i,this.cb.call(e,i,s,e))}bind(){this.isBound||(this.obs.version++,this.v=Mr(this.Lt,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.v=void 0)}}vo(wu,null),ql(wu);class yu{get lifecycleHooks(){return this.Mt}get isActive(){return(this.state&(Fu|Vu))>0&&0===(this.state&Du)}get name(){if(null===this.parent)switch(this.vmKind){case Eu:return`[${this.definition.name}]`;case Ru:return this.definition.name;case Nu:return this.viewFactory.name}switch(this.vmKind){case Eu:return`${this.parent.name}>[${this.definition.name}]`;case Ru:return`${this.parent.name}>${this.definition.name}`;case Nu:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this.Dt}set viewModel(t){this.Dt=t,this.Pt=null==t||this.vmKind===Nu?Mu.none:new Mu(t)}get strict(){return this.definition?.strict}constructor(t,e,s,i,n,r,o){this.container=t,this.vmKind=e,this.definition=s,this.viewFactory=i,this.host=r,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.scope=null,this.isBound=!1,this.qt=!1,this.mountTarget=$u,this.shadowRoot=null,this.nodes=null,this.location=null,this.Mt=null,this.state=ju,this.It=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this._t=0,this.Vt=0,this.Ft=0,this.Dt=n,this.Pt=e===Nu?Mu.none:new Mu(n),this.location=o,this.r=t.root.get(cu)}static getCached(t){return ku.get(t)}static getCachedOrThrow(t){const e=yu.getCached(t);if(void 0===e)throw Ea(500,t);return e}static $el(t,e,s,i,n=void 0,r=null){if(ku.has(e))return ku.get(e);n=n??Pd(e.constructor),Ka(t,n.Type,new Ot(n.key,e,n.Type));const o=new yu(t,Ru,n,null,e,s,r),h=t.get(Nt(Uu));return n.dependencies.length>0&&t.register(...n.dependencies),Ka(t,Uu,new Ot("IHydrationContext",new zu(o,i,h))),ku.set(e,o),null!=i&&!1===i.hydrate||o.hE(i),o}static $attr(t,e,s,i){if(ku.has(e))return ku.get(e);i=i??Sl(e.constructor),Ka(t,i.Type,new Ot(i.key,e,i.Type));const n=new yu(t,Eu,i,null,e,s,null);return i.dependencies.length>0&&t.register(...i.dependencies),ku.set(e,n),n.Ht(),n}static $view(t,e=void 0){const s=new yu(t.container,Nu,null,t,null,null,null);return s.parent=e??null,s.Ot(),s}hE(t){const e=this.container,s=this.Dt,i=this.definition;this.scope=Or.create(s,null,!0),i.watches.length>0&&Iu(this,e,i,s),Ou(this,i,s),this.Mt=Ml.resolve(e),e.register(i.Type),null!==i.injectable&&Ka(e,i.injectable,new Ot("definition.injectable",s)),null!=t&&!1===t.hydrate||(this.hS(),this.hC())}hS(){null!=this.Mt.hydrating&&this.Mt.hydrating.forEach(Xu,this),this.Pt.$t&&this.Dt.hydrating(this);const t=this.definition,e=this.Nt=this.r.compile(t,this.container),s=e.shadowOptions,i=e.hasSlots,n=e.containerless,r=this.host;let o=this.location;if(n&&null==o&&(o=this.location=dd(r)),od(r,Ad,this),od(r,t.key,this),null!==s||i){if(null!=o)throw Ea(501);od(this.shadowRoot=r.attachShadow(s??Lu),Ad,this),od(this.shadowRoot,t.key,this),this.mountTarget=Tu}else null!=o?(r!==o&&(od(o,Ad,this),od(o,t.key,this)),this.mountTarget=Au):this.mountTarget=Cu;this.Dt.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.Mt.hydrated&&this.Mt.hydrated.forEach(Qu,this),this.Pt.Wt&&this.Dt.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this.Nt,this.host),void 0!==this.Mt.created&&this.Mt.created.forEach(Hu,this),this.Pt.jt&&this.Dt.created(this)}Ht(){const t=this.definition,e=this.Dt;t.watches.length>0&&Iu(this,this.container,t,e),Ou(this,t,e),e.$controller=this,this.Mt=Ml.resolve(this.container),void 0!==this.Mt.created&&this.Mt.created.forEach(Hu,this),this.Pt.jt&&this.Dt.created(this)}Ot(){this.Nt=this.r.compile(this.viewFactory.def,this.container),this.r.render(this,(this.nodes=this.r.createNodes(this.Nt)).findTargets(),this.Nt,void 0)}activate(t,e,s){switch(this.state){case ju:case _u:if(null!==e&&!e.isActive)return;this.state=Fu;break;case Vu:return;case Wu:throw Ea(502,this.name);default:throw Ea(503,this.name,function(t){const e=[];return(t&Fu)===Fu&&e.push("activating"),(t&Vu)===Vu&&e.push("activated"),(t&Du)===Du&&e.push("deactivating"),(t&_u)===_u&&e.push("deactivated"),(t&qu)===qu&&e.push("released"),(t&Wu)===Wu&&e.push("disposed"),0===e.length?"none":e.join("|")}(this.state))}switch(this.parent=e,this.vmKind){case Ru:this.scope.parent=s??null;break;case Eu:this.scope=s??null;break;case Nu:if(null==s)throw Ea(504,this.name);this.hasLockedScope||(this.scope=s)}let i;return this.$initiator=t,this.zt(),this.vmKind!==Nu&&null!=this.Mt.binding&&(i=I(...this.Mt.binding.map(Ju,this))),this.Pt.Ut&&(i=I(i,this.Dt.binding(this.$initiator,this.parent))),h(i)?(this.Gt(),i.then(()=>{this.qt=!0,this.state!==Fu?this.Xt():this.bind()}).catch(t=>{this.Kt(t)}),this.$promise):(this.qt=!0,this.bind(),this.$promise)}bind(){let t,e=0,s=0;if(null!==this.bindings)for(e=0,s=this.bindings.length;s>e;)this.bindings[e].bind(this.scope),++e;if(this.vmKind!==Nu&&null!=this.Mt.bound&&(t=I(...this.Mt.bound.map(Yu,this))),this.Pt.Qt&&(t=I(t,this.Dt.bound(this.$initiator,this.parent))),h(t))return this.Gt(),void t.then(()=>{this.isBound=!0,this.state!==Fu?this.Xt():this.Yt()}).catch(t=>{this.Kt(t)});this.isBound=!0,this.Yt()}Zt(...t){switch(this.mountTarget){case Cu:this.host.append(...t);break;case Tu:this.shadowRoot.append(...t);break;case Au:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}Yt(){switch(this.mountTarget){case Cu:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case Tu:{const t=this.container;(t.has(du,!1)?t.get(du):t.get(fu)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case Au:this.nodes.insertBefore(this.location)}let t,e=0;if(this.vmKind!==Nu&&null!=this.Mt.attaching&&(t=I(...this.Mt.attaching.map(Zu,this))),this.Pt.Jt&&(t=I(t,this.Dt.attaching(this.$initiator,this.parent))),h(t)&&(this.Gt(),this.zt(),t.then(()=>{this.Xt()}).catch(t=>{this.Kt(t)})),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this.Xt()}deactivate(t,e){let s;switch(this.state&~qu){case Vu:this.state=Du;break;case Fu:this.state=Du,s=this.$promise?.catch(Mt);break;case ju:case _u:case Wu:case _u|Wu:return;default:throw Ea(505,this.name,this.state)}this.$initiator=t,t===this&&this.te();let i,n=0;if(null!==this.children)for(n=0;n<this.children.length;++n)this.children[n].deactivate(t,this);return P(s,()=>{if(this.isBound&&(this.vmKind!==Nu&&null!=this.Mt.detaching&&(i=I(...this.Mt.detaching.map(ed,this))),this.Pt.ee&&(i=I(i,this.Dt.detaching(this.$initiator,this.parent)))),h(i)&&(this.Gt(),t.te(),i.then(()=>{t.ie()}).catch(e=>{t.Kt(e)})),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.ie(),this.$promise})}removeNodes(){switch(this.vmKind){case Ru:case Nu:this.nodes.remove(),this.nodes.unlink()}}unbind(){let t=0;if(null!==this.bindings)for(;t<this.bindings.length;++t)this.bindings[t].unbind();switch(this.parent=null,this.vmKind){case Eu:this.scope=null;break;case Nu:this.hasLockedScope||(this.scope=null),(this.state&qu)!==qu||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case Ru:this.scope.parent=null}this.state=_u,this.$initiator=null,this.se()}Gt(){void 0===this.$promise&&(this.$promise=new Promise((t,e)=>{this.$resolve=t,this.$reject=e}),this.$initiator!==this&&this.parent.Gt())}se(){void 0!==this.$promise&&(id=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,id(),id=void 0)}Kt(t){void 0!==this.$promise&&(nd=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,nd(t),nd=void 0),this.$initiator!==this&&this.parent.Kt(t)}zt(){++this._t,this.$initiator!==this&&this.parent.zt()}Xt(){if(this.state!==Fu)return--this._t,this.se(),void(this.$initiator!==this&&this.parent.Xt());if(0===--this._t){if(this.vmKind!==Nu&&null!=this.Mt.attached&&(rd=I(...this.Mt.attached.map(td,this))),this.Pt.ne&&(rd=I(rd,this.Dt.attached(this.$initiator))),h(rd))return this.Gt(),rd.then(()=>{this.state=Vu,this.se(),this.$initiator!==this&&this.parent.Xt()}).catch(t=>{this.Kt(t)}),void(rd=void 0);rd=void 0,this.state=Vu,this.se()}this.$initiator!==this&&this.parent.Xt()}te(){++this.Vt}ie(){if(0===--this.Vt){this.re(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e.qt&&(e.vmKind!==Nu&&null!=e.Mt.unbinding&&(t=I(...e.Mt.unbinding.map(sd,e))),e.Pt.oe&&(e.debug&&e.logger.trace("unbinding()"),t=I(t,e.viewModel.unbinding(e.$initiator,e.parent)))),h(t)&&(this.Gt(),this.re(),t.then(()=>{this.le()}).catch(t=>{this.Kt(t)})),t=void 0,e=e.next;this.le()}}re(){++this.Ft}le(){if(0===--this.Ft){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.qt=!1,t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.qt=!1,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case Eu:case Ru:return this.definition.name===t;case Nu:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return this.vmKind===Ru&&(od(t,Ad,this),od(t,this.definition.key,this)),this.host=t,this.mountTarget=Cu,this}setShadowRoot(t){return this.vmKind===Ru&&(od(t,Ad,this),od(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=Tu,this}setLocation(t){return this.vmKind===Ru&&(od(t,Ad,this),od(t,this.definition.key,this)),this.location=t,this.mountTarget=Au,this}release(){this.state|=qu}dispose(){(this.state&Wu)!==Wu&&(this.state|=Wu,this.Pt.he&&this.Dt.dispose(),null!==this.children&&(this.children.forEach(Gu),this.children=null),this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.Dt&&(ku.delete(this.Dt),this.Dt=null),this.Dt=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.Pt.ae&&!0===this.Dt.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}}const ku=new WeakMap,$u=0,Cu=1,Tu=2,Au=3,xu=ba({none:$u,host:Cu,shadowRoot:Tu,location:Au}),Su=Vt(so);function Ou(t,e,s){const i=e.bindables,n=ya(i),r=n.length;if(0===r)return;const o=t.container.get(xh),h="propertiesChanged"in s,a=t.vmKind===Nu?void 0:t.container.get(Su),l=h?(()=>{let e={},i=!1,n=0;const r=()=>{i||(i=!0,Jr(()=>{i=!1;const o=e;e={},n=0,t.isBound&&(s.propertiesChanged?.(o),n>0&&r())}))};return(t,s,i)=>{e[t]={newValue:s,oldValue:i},n++,r()}})():Mt;for(let e=0;e<r;++e){const r=n[e],c=i[r],u=c.callback,d=o.getObserver(s,r);if(c.set!==Mt&&!0!==d.useCoercer?.(c.set,a))throw Ea(507,r);if(null!=s[u]||null!=s.propertyChanged||h){const e=(e,i)=>{t.isBound&&(s[u]?.(e,i),s.propertyChanged?.(r,e,i),l(r,e,i))};if(!0!==d.useCallback?.(e))throw Ea(508,r)}}}const Bu=new Map,Pu=t=>{let e=Bu.get(t);return null==e&&(e=new be(t,0),Bu.set(t,e)),e};function Iu(t,e,s,i){const n=e.get(xh),r=e.get(Ue),o=s.watches,h=t.vmKind===Ru?t.scope:Or.create(i,null,!0),a=o.length;let l,c,u,d,g=0;for(;a>g;++g){if(({expression:l,callback:c,flush:d}=o[g]),c=f(c)?c:Reflect.get(i,c),!f(c))throw Ea(506,c);f(l)?t.addBinding(new bu(i,n,l,c,d)):(u=p(l)?r.parse(l,Ba):Pu(l),t.addBinding(new wu(h,e,n,u,c,d)))}}class Mu{constructor(t){this.ce="define"in t,this.$t="hydrating"in t,this.Wt="hydrated"in t,this.jt="created"in t,this.Ut="binding"in t,this.Qt="bound"in t,this.Jt="attaching"in t,this.ne="attached"in t,this.ee="detaching"in t,this.oe="unbinding"in t,this.he="dispose"in t,this.ae="accept"in t}}Mu.none=new Mu({});const Lu={mode:"open"},Ru="customElement",Eu="customAttribute",Nu="synthetic",ju=0,Fu=1,Vu=2,Du=4,_u=8,qu=16,Wu=32,Ku=Da("IController"),Uu=Da("IHydrationContext");class zu{constructor(t,e,s){this.instruction=e,this.parent=s,this.controller=t}}function Gu(t){t.dispose()}function Hu(t){t.instance.created(this.Dt,this)}function Xu(t){t.instance.hydrating(this.Dt,this)}function Qu(t){t.instance.hydrated(this.Dt,this)}function Ju(t){return t.instance.binding(this.Dt,this.$initiator,this.parent)}function Yu(t){return t.instance.bound(this.Dt,this.$initiator,this.parent)}function Zu(t){return t.instance.attaching(this.Dt,this.$initiator,this.parent)}function td(t){return t.instance.attached(this.Dt,this.$initiator)}function ed(t){return t.instance.detaching(this.Dt,this.$initiator,this.parent)}function sd(t){return t.instance.unbinding(this.Dt,this.$initiator,this.parent)}let id,nd,rd;const od=ml.set,hd=Da("IEventTarget",t=>t.cachedCallback(t=>t.has(Ld,!0)?t.get(Ld).host:t.get(gl).document)),ad=Da("IRenderLocation"),ld=Da("ICssClassMapping"),cd=new WeakMap;function ud(t){if(cd.has(t))return cd.get(t);let e=0,s=t.nextSibling;for(;null!==s;){if(8===s.nodeType)switch(s.textContent){case"au-start":++e;break;case"au-end":if(0===e--)return s}s=s.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=Od(t,{optional:!0});if(null==e)return null;if(e.mountTarget===xu.shadowRoot)return ud(e.host)}return t.parentNode}function dd(t){if(fd(t))return t;const e=t.ownerDocument.createComment("au-end"),s=e.$start=t.ownerDocument.createComment("au-start"),i=t.parentNode;return null!==i&&(i.replaceChild(e,t),i.insertBefore(s,e)),e}function fd(t){return"au-end"===t.textContent}class pd{get firstChild(){return this.ue}get lastChild(){return this.fe}constructor(t,e){this.platform=t,this.next=void 0,this.de=!1,this.me=!1,this.ref=null;const s=(this.f=e).querySelectorAll("au-m");let i,n,r=0,o=s.length,h=this.t=Array(o);for(;o>r;)n=s[r],i=n.nextSibling,n.remove(),8===i.nodeType&&(n=i,(i=i.nextSibling).$start=n),h[r]=i,++r;const a=e.childNodes,l=this.childNodes=Array(o=a.length);for(r=0;o>r;)l[r]=a[r],++r;this.ue=e.firstChild,this.fe=e.lastChild}findTargets(){return this.t}insertBefore(t){if(this.me&&this.ref)this.addToLinked();else{const e=t.parentNode;if(this.de){let s,i=this.ue;const n=this.fe;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.de=!0,t.parentNode.insertBefore(this.f,t)}}appendTo(t,e=!1){if(this.de){let e,s=this.ue;const i=this.fe;for(;null!=s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}else this.de=!0,e||t.appendChild(this.f)}remove(){if(this.de){this.de=!1;const t=this.f,e=this.fe;let s,i=this.ue;for(;null!==i&&(s=i.nextSibling,t.appendChild(i),i!==e);)i=s}}addToLinked(){const t=this.ref,e=t.parentNode;if(this.de){let s,i=this.ue;const n=this.fe;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.de=!0,e.insertBefore(this.f,t)}unlink(){this.me=!1,this.next=void 0,this.ref=void 0}link(t){this.me=!0,fd(t)?this.ref=t:(this.next=t,this.ge())}ge(){void 0!==this.next?this.ref=this.next.firstChild:this.ref=void 0}}const gd=(t,e,s=t.get(gl))=>(Ka(t,s.HTMLElement,Ka(t,s.Element,Ka(t,bl,new Ot("ElementResolver",e)))),t),vd=new WeakMap;class md{get type(){return"custom-element"}constructor(t,e,s,i,n,r,o,h,a,l,c,u,d,f,p,g,v,m,b){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.capture=n,this.template=r,this.instructions=o,this.dependencies=h,this.injectable=a,this.needsCompile=l,this.surrogates=c,this.bindables=u,this.containerless=d,this.shadowOptions=f,this.hasSlots=p,this.enhance=g,this.watches=v,this.strict=m,this.processContent=b}static create(t,e=null){if(null===e){const s=t;if(p(s))throw Ea(761,t);const i=H("name",s,Sd);e=f(s.Type)?s.Type:Id(k(i));for(const t of Object.values(ja.from(s.bindables)))ja.i(t,e);return new md(e,i,A(s.aliases),H("key",s,()=>xd(i)),z("capture",s,e,kd),z("template",s,e,wd),A(s.instructions),A(Bd(e,"dependencies"),s.dependencies),H("injectable",s,wd),H("needsCompile",s,$d),A(s.surrogates),ja.from(Bd(e,"bindables"),s.bindables),z("containerless",s,e,kd),H("shadowOptions",s,wd),H("hasSlots",s,kd),H("enhance",s,kd),H("watches",s,Cd),H("strict",s,yd),G("processContent",e,wd))}if(p(t))return new md(e,t,A(Bd(e,"aliases"),e.aliases),xd(t),G("capture",e,kd),G("template",e,wd),A(Bd(e,"instructions"),e.instructions),A(Bd(e,"dependencies"),e.dependencies),G("injectable",e,wd),G("needsCompile",e,$d),A(Bd(e,"surrogates"),e.surrogates),ja.from(...ja.getAll(e),Bd(e,"bindables"),e.bindables),G("containerless",e,kd),G("shadowOptions",e,wd),G("hasSlots",e,kd),G("enhance",e,kd),A(wl.getDefinitions(e),e.watches),G("strict",e,yd),G("processContent",e,wd));const s=H("name",t,Sd);for(const s of Object.values(ja.from(t.bindables)))ja.i(s,e);return new md(e,s,A(Bd(e,"aliases"),t.aliases,e.aliases),xd(s),z("capture",t,e,kd),z("template",t,e,wd),A(Bd(e,"instructions"),t.instructions,e.instructions),A(Bd(e,"dependencies"),t.dependencies,e.dependencies),z("injectable",t,e,wd),z("needsCompile",t,e,$d),A(Bd(e,"surrogates"),t.surrogates,e.surrogates),ja.from(...ja.getAll(e),Bd(e,"bindables"),e.bindables,t.bindables),z("containerless",t,e,kd),z("shadowOptions",t,e,wd),z("hasSlots",t,e,kd),z("enhance",t,e,kd),A(t.watches,wl.getDefinitions(e),e.watches),z("strict",t,e,yd),z("processContent",t,e,wd))}static getOrCreate(t){if(t instanceof md)return t;if(vd.has(t))return vd.get(t);const e=md.create(t);return vd.set(t,e),ua(e,e.Type,Ad),e}register(t,e){const s=this.Type,i="string"==typeof e?xd(e):this.key,n=this.aliases;t.has(i,!1)?console.warn(Ea(153,this.name)):t.register(t.has(s,!1)?null:_a(s,s),qa(s,i),...n.map(t=>qa(s,xd(t))))}toString(){return`au:ce:${this.name}`}}const bd={name:void 0,searchParents:!1,optional:!1},wd=()=>null,yd=()=>{},kd=()=>!1,$d=()=>!0,Cd=()=>Pt,Td="custom-element",Ad=W(Td),xd=t=>`${Ad}:${t}`,Sd=(t=>()=>"unnamed-"+ ++t)(0),Od=(t,e=bd)=>{if(void 0===e.name&&!0!==e.searchParents){const s=ml.get(t,Ad);if(null===s){if(!0===e.optional)return null;throw Ea(762,t)}return s}if(void 0!==e.name){if(!0!==e.searchParents){const s=ml.get(t,Ad);if(null===s)throw Ea(763,t);return s.is(e.name)?s:void 0}let s=t,i=!1;for(;null!==s;){const t=ml.get(s,Ad);if(null!==t&&(i=!0,t.is(e.name)))return t;s=ud(s)}if(i)return;throw Ea(764,t)}let s=t;for(;null!==s;){const t=ml.get(s,Ad);if(null!==t)return t;s=ud(s)}throw Ea(765,t)},Bd=(t,e)=>la(fa(e),t),Pd=t=>{const e=la(Ad,t)??Ua(t,Td,md.create);if(null==e)throw Ea(760,t);return e},Id=function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(s,i=e){const n=class{};return t.value=s,Aa(n,"name",t),i!==e&&wa(n.prototype,i),n}}(),Md=ba({name:Ad,keyFrom:xd,isType:t=>f(t)&&(ca(Ad,t)||t.$au?.type===Td),for:Od,define:(t,e)=>{const s=md.create(t,e),i=s.Type;return ua(s,i,Ad,q),i},getDefinition:Pd,annotate:(t,e,s)=>{ua(s,t,fa(e))},getAnnotation:Bd,generateName:Sd,createInjectable:()=>{const t={$isInterface:!1,register:()=>({$isResolver:!0,resolve:(e,s)=>s.has(t,!0)?s.get(t):null})};return t},generateType:Id,find(t,e){const s=t.find(Td,e);return null==s?null:la(Ad,s)??Ua(s,Td,md.create)??null}}),Ld=Da("IAppRoot");class Rd{get controller(){return this.P}constructor(t,e,s,i=!1){this.config=t,this.container=e,this.pe=void 0,this.ve=i;const n=this.host=t.host;s.prepare(this),Ka(e,hd,new Ot("IEventTarget",n)),gd(e,n,this.platform=this.xe(e,n)),this.pe=P(this.ye("creating"),()=>{0!=!t.allowActionlessForm&&n.addEventListener("submit",t=>{const e=t.target,s=!e.getAttribute("action");"FORM"===e.tagName&&s&&t.preventDefault()},!1);const s=i?e:e.createChild(),r=t.component;let o;f(r)?(o=s.invoke(r),Wa(r,o)):o=t.component;const h={hydrate:!1,projections:null},a=i?md.create({name:Sd(),template:this.host,enhance:!0,strict:t.strictBinding}):void 0,l=this.P=yu.$el(s,o,n,h,a);return l.hE(h),P(this.ye("hydrating"),()=>(l.hS(),P(this.ye("hydrated"),()=>{l.hC(),this.pe=void 0})))})}activate(){return P(this.pe,()=>P(this.ye("activating"),()=>P(this.P.activate(this.P,null,void 0),()=>this.ye("activated"))))}deactivate(){return P(this.ye("deactivating"),()=>P(this.P.deactivate(this.P,null),()=>this.ye("deactivated")))}ye(t){const e=this.container,s=this.ve&&!e.has(dl,!1)?[]:e.getAll(dl);return I(...s.reduce((e,s)=>(s.slot===t&&e.push(s.run()),e),[]))}xe(t,e){let s;if(t.has(gl,!1))s=t.get(gl);else{if(null===e.ownerDocument.defaultView)throw Ea(769);s=new ia(e.ownerDocument.defaultView),t.register(Wa(gl,s))}return s}dispose(){this.P?.dispose()}}const Ed=Da("IAurelia");class Nd{get isRunning(){return this.ir}get isStarting(){return this.we}get isStopping(){return this.be}get root(){if(null==this.ke){if(null==this.next)throw Ea(767);return this.next}return this.ke}constructor(t=$t.createContainer()){if(this.container=t,this.ir=!1,this.we=!1,this.be=!1,this.ke=void 0,this.next=void 0,this.Ce=void 0,this.Be=void 0,t.has(Ed,!0)||t.has(Nd,!0))throw Ea(768);Ka(t,Ed,new Ot("IAurelia",this)),Ka(t,Nd,new Ot("Aurelia",this)),Ka(t,Ld,this.Se=new Ot("IAppRoot"))}register(...t){return this.container.register(...t),this}app(t){return this.next=new Rd(t,this.container,this.Se),this}enhance(t){const e=t.container??this.container.createChild(),s=Ka(e,Ld,new Ot("IAppRoot")),i=new Rd({host:t.host,component:t.component},e,s,!0);return P(i.activate(),()=>i)}async waitForIdle(){const t=this.root.platform;await t.domQueue.yield(),await t.taskQueue.yield()}start(t=this.next){if(null==t)throw Ea(770);return h(this.Ce)?this.Ce:this.Ce=P(this.stop(),()=>(ml.hideProp||Reflect.set(t.host,"$aurelia",this),this.Se.prepare(this.ke=t),this.we=!0,P(t.activate(),()=>{this.ir=!0,this.we=!1,this.Ce=void 0,this.Ae(t,"au-started",t.host)})))}stop(t=!1){if(h(this.Be))return this.Be;if(!0===this.ir){const e=this.ke;return this.ir=!1,this.be=!0,this.Be=P(e.deactivate(),()=>P(Kr||(_r.length>0||Wr>0?Kr??=new Promise((t,e)=>{zr=t,Gr=e}):Fr.then(()=>(_r.length>0||Wr>0)&&(Kr??=new Promise((t,e)=>{zr=t,Gr=e})))),()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this.ke=void 0,this.Se.dispose(),this.be=!1,this.Be=void 0,this.Ae(e,"au-stopped",e.host)}))}}dispose(){if(this.ir||this.be)throw Ea(771);this.container.dispose()}Ae(t,e,s){const i=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(i)}}const jd=Da("ISVGAnalyzer",t=>t.singleton(Fd));class Fd{isStandardSvgAttribute(t,e){return!1}}class Vd{constructor(){this.fns=[],this.Le=g(),this.Me=g(),this.svg=ht(jd),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(t){let e,s,i,n;for(i in t)for(n in e=t[i],s=this.Le[i]??=g(),e){if(void 0!==s[n])throw Dd(n,i);s[n]=e[n]}}useGlobalMapping(t){const e=this.Me;for(const s in t){if(void 0!==e[s])throw Dd(s,"*");e[s]=t[s]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return function(t,e){switch(t.nodeName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e)||this.fns.length>0&&this.fns.some(s=>s(t,e))}map(t,e){return this.Le[t.nodeName]?.[e]??this.Me[e]??(Ca(t,e,this.svg)?e:null)}}function Dd(t,e){return Ea(719,t,e)}Vd.register=F(xi);const _d={register(t){t.register(tr,Vd,Wd)}};class qd{constructor(t,e,s){this.attrs=t,this.bindables=e,this.primary=s}}class Wd{constructor(){this.De=new WeakMap,this.Pe=new WeakMap}el(t,e){let s=this.De.get(t);return null==s&&this.De.set(t,s=new Kd),e in s.qe?s.qe[e]:s.qe[e]=Md.find(t,e)}attr(t,e){let s=this.De.get(t);return null==s&&this.De.set(t,s=new Kd),e in s.Ie?s.Ie[e]:s.Ie[e]=Ol.find(t,e)}bindables(t){let e=this.Pe.get(t);if(null==e){const s=t.bindables,i=g();let n,r,o,h,a=!1;for(r in s){if(n=s[r],h=n.attribute,!0===n.primary){if(a)throw Ea(714,t);a=!0,o=n}else a||null!=o||(o=n);i[h]=Fa.create(r,n)}null==n&&"custom-attribute"===t.type&&(o=i.value=Fa.create("value",{mode:t.defaultBindingMode??na})),this.Pe.set(t,e=new qd(i,s,o??null))}return e}}Wd.register=F(cr);class Kd{constructor(){this.qe=g(),this.Ie=g()}}const Ud=g();class zd{static forNs(t){return Ud[t]??=new zd(t)}constructor(t){this.ns=t,this.type=La|Ra}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,s){null==t?e.removeAttributeNS(this.ns,s):e.setAttributeNS(this.ns,s,t)}}xc(zd);class Gd{constructor(){this.type=La|Ra}getValue(t,e){return t.getAttribute(e)}setValue(t,e,s){null==t?e.removeAttribute(s):e.setAttribute(s,t)}}xc(Gd);const Hd=new Gd;class Xd{static _e(t){const e=[];if(0===t.length)return e;const s=t.length;let i,n=0;for(;s>n;)i=t[n],i.selected&&(e[e.length]=ma.call(i,"model")?i.model:i.value),++n;return e}static Ve(t,e){return t===e}constructor(t,e,s,i){this.type=La|Ma|Ra,this.v=void 0,this.ov=void 0,this.Fe=!1,this.He=void 0,this.Oe=void 0,this.iO=!1,this.ht=!1,this.lt=t,this.oL=i,this.cf=s}getValue(){return this.iO?this.v:this.lt.multiple?Xd._e(this.lt.options):this.lt.value}setValue(t){this.ov=this.v,this.v=t,this.Fe=t!==this.ov,this.$e(t instanceof Array?t:null),this.gt()}gt(){this.Fe&&(this.Fe=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const t=this.v,e=this.lt,s=a(t),i=e.matcher??Xd.Ve,n=e.options;let r=n.length;for(;r-- >0;){const e=n[r],o=ma.call(e,"model")?e.model:e.value;e.selected=s?-1!==t.findIndex(t=>!!i(o,t)):!!i(o,t)}}syncValue(){const t=this.lt,e=t.options,s=e.length,i=this.v;let n=0;if(t.multiple){if(!(i instanceof Array))return!0;let r;const o=t.matcher||Xd.Ve,h=[];for(;n<s;)r=e[n],r.selected&&h.push(ma.call(r,"model")?r.model:r.value),++n;let a;for(n=0;n<i.length;)a=i[n],-1===h.findIndex(t=>!!o(a,t))?i.splice(n,1):++n;for(n=0;n<h.length;)a=h[n],-1===i.findIndex(t=>!!o(a,t))&&i.push(a),++n;return!1}let r,o=null;for(;n<s;){if(r=e[n],r.selected){o=ma.call(r,"model")?r.model:r.value;break}++n}return this.ov=this.v,this.v=o,!0}ct(){(this.Oe=gc(this.lt,this.Ne.bind(this))).observe(this.lt,{childList:!0,subtree:!0,characterData:!0}),this.$e(this.v instanceof Array?this.v:null),this.iO=!0}ut(){this.Oe.disconnect(),this.He?.unsubscribe(this),this.Oe=this.He=void 0,this.iO=!1}$e(t){if(this.He?.unsubscribe(this),this.He=void 0,null!=t){if(!this.lt.multiple)throw Ea(654);(this.He=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.Tt()}Ne(t){this.syncOptions(),this.syncValue()&&this.Tt()}Tt(){const t=this.ov;this.ov=this.v,this.subs.notify(this.v,t)}}Ac(Xd),ro(Xd,null);class Qd{constructor(t){this.obj=t,this.type=La|Ra,this.v="",this.ov="",this.styles={},this.version=0,this.Fe=!1}getValue(){return this.obj.style.cssText}setValue(t){this.v=t,this.Fe=t!==this.ov,this.gt()}We(t){const e=[],s=/url\([^)]+$/;let i,n,r,o,h=0,a="";for(;h<t.length;)i=t.indexOf(";",h),-1===i&&(i=t.length),a+=t.substring(h,i),h=i+1,s.test(a)?a+=";":(n=a.indexOf(":"),r=a.substring(0,n).trim(),o=a.substring(n+1).trim(),e.push([r,o]),a="");return e}je(t){let e,s;const i=[];for(s in t)if(e=t[s],null!=e)if(p(e)){if(s.startsWith("--")){i.push([s,e]);continue}i.push([$(s),e])}else i.push(...this.ze(e));return i}Ue(t){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...this.ze(t[i]));return s}return Pt}ze(t){return p(t)?this.We(t):t instanceof Array?this.Ue(t):t instanceof Object?this.je(t):Pt}gt(){if(this.Fe){this.Fe=!1;const t=this.v,e=this.styles,s=this.ze(t);let i,n,r,o,h=this.version;this.ov=t;let a=0;const l=s.length;for(;a<l;++a)n=s[a],r=n[0],o=n[1],this.setProperty(r,o),e[r]=h;if(this.styles=e,this.version+=1,0===h)return;for(i in h-=1,e)ma.call(e,i)&&e[i]===h&&this.obj.style.removeProperty(i)}}setProperty(t,e){let s="";null!=e&&f(e.indexOf)&&e.includes("!important")&&(s="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,s)}bind(){this.v=this.ov=this.obj.style.cssText}}xc(Qd);class Jd{constructor(t,e,s){this.type=La|Ma|Ra,this.v="",this.ov="",this.Fe=!1,this.ht=!1,this.lt=t,this.k=e,this.cf=s}getValue(){return this.v}setValue(t){v(t,this.v)||(this.ov=this.v,this.v=t,this.Fe=!0,this.cf.readonly||this.gt())}gt(){this.Fe&&(this.Fe=!1,this.lt[this.k]=this.v??this.cf.default,this.Tt())}handleEvent(){this.ov=this.v,this.v=this.lt[this.k],this.ov!==this.v&&(this.Fe=!1,this.Tt())}ct(){this.v=this.ov=this.lt[this.k]}Tt(){const t=this.ov;this.ov=this.v,this.subs.notify(this.v,t)}}Ac(Jd),ro(Jd,null);const Yd=(()=>{const t="http://www.w3.org/1999/xlink",e="http://www.w3.org/XML/1998/namespace",s="http://www.w3.org/2000/xmlns/";return wa(g(),{"xlink:actuate":["actuate",t],"xlink:arcrole":["arcrole",t],"xlink:href":["href",t],"xlink:role":["role",t],"xlink:show":["show",t],"xlink:title":["title",t],"xlink:type":["type",t],"xml:lang":["lang",e],"xml:space":["space",e],xmlns:["xmlns",s],"xmlns:xlink":["xlink",s]})})(),Zd=new Ch;Zd.type=La|Ra;class tf{constructor(){this.allowDirtyCheck=!0,this.Ge=g(),this.Xe=g(),this.Ke=g(),this.Qe=g(),this.Ye=ht(Tt),this.p=ht(gl),this.Ze=ht(wh),this.svg=ht(jd);const t=["change","input"],e={events:t,default:""};this.useConfig({INPUT:{value:e,valueAsNumber:{events:t,default:0},checked:{type:nf,events:t},files:{events:t,readonly:!0}},SELECT:{value:{type:Xd,events:["change"],default:""}},TEXTAREA:{value:e}});const s={events:["change","input","blur","keyup","paste"],default:""},i={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:i,scrollLeft:i,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(t,e){return t instanceof this.p.Node}useConfig(t,e,s){const i=this.Ge;let n;if(p(t))n=i[t]??=g(),null==n[e]?n[e]=s:ef(t,e);else for(const s in t){n=i[s]??=g();const r=t[s];for(e in r)null==n[e]?n[e]=r[e]:ef(s,e)}}useConfigGlobal(t,e){const s=this.Xe;if("object"==typeof t)for(const e in t)null==s[e]?s[e]=t[e]:ef("*",e);else null==s[t]?s[t]=e:ef("*",t)}getAccessor(t,e,s){if(e in this.Qe||e in(this.Ke[t.tagName]??It))return this.getObserver(t,e,s);switch(e){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return Hd;default:{const s=Yd[e];return void 0!==s?zd.forNs(s[1]):Ca(t,e,this.svg)?Hd:Zd}}}overrideAccessor(t,e){let s;if(p(t))s=this.Ke[t]??=g(),s[e]=!0;else for(const e in t)for(const i of t[e])s=this.Ke[e]??=g(),s[i]=!0}overrideAccessorGlobal(...t){for(const e of t)this.Qe[e]=!0}getNodeObserverConfig(t,e){return this.Ge[t.tagName]?.[e]??this.Xe[e]}getNodeObserver(t,e,s){const i=this.Ge[t.tagName]?.[e]??this.Xe[e];let n;return null!=i?(n=new(i.type??Jd)(t,e,i,s,this.Ye),n.doNotCache||(Rh(t)[e]=n),n):null}getObserver(t,e,s){switch(e){case"class":return new Sc(t);case"css":case"style":return new Qd(t)}const i=this.getNodeObserver(t,e,s);if(null!=i)return i;const n=Yd[e];if(void 0!==n)return zd.forNs(n[1]);if(Ca(t,e,this.svg))return Hd;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.Ze.createProperty(t,e);throw Ea(652,e)}return new Th(t,e)}}function ef(t,e){throw Ea(653,t,e)}function sf(t,e){return t===e}tf.register=F(Sh);class nf{constructor(t,e,s,i){this.type=La|Ma|Ra,this.v=void 0,this.ov=void 0,this.Je=void 0,this.ti=void 0,this.ht=!1,this.lt=t,this.oL=i,this.cf=s}getValue(){return this.v}setValue(t){const e=this.v;t!==e&&(this.v=t,this.ov=e,this.ei(),this.ii(),this.Tt())}handleCollectionChange(){this.ii()}handleChange(t,e){this.ii()}ii(){const t=this.v,e=this.lt,s=ma.call(e,"model")?e.model:e.value,i="radio"===e.type,n=void 0!==e.matcher?e.matcher:sf;if(i)e.checked=!!n(t,s);else if(!0===t)e.checked=!0;else{let i=!1;if(a(t))i=-1!==t.findIndex(t=>!!n(t,s));else if(t instanceof Set){for(const e of t)if(n(e,s)){i=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(n(t,s)&&!0===r){i=!0;break}}e.checked=i}}handleEvent(){let t=this.ov=this.v;const e=this.lt,s=ma.call(e,"model")?e.model:e.value,i=e.checked,n=void 0!==e.matcher?e.matcher:sf;if("checkbox"===e.type){if(a(t)){const e=t.findIndex(t=>!!n(t,s));return void(i&&-1===e?t.push(s):i||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===n(e,s)){r=e;break}return void(i&&r===e?t.add(s):i||r===e||t.delete(r))}if(t instanceof Map){let e;for(const i of t){const t=i[0];if(!0===n(t,s)){e=t;break}}return void t.set(e,i)}t=i}else{if(!i)return;t=s}this.v=t,this.Tt()}ct(){this.ei()}ut(){this.v=this.ov=void 0,this.Je?.unsubscribe(this),this.ti?.unsubscribe(this),this.Je=this.ti=void 0}Tt(){rf=this.ov,this.ov=this.v,this.subs.notify(this.v,rf),rf=void 0}ei(){const t=this.lt;(this.ti??=t.$observers?.model??t.$observers?.value)?.subscribe(this),this.Je?.unsubscribe(this),this.Je=void 0,"checkbox"===t.type&&(this.Je=function(t,e){return t instanceof Array?e.getArrayObserver(t):t instanceof Map?e.getMapObserver(t):t instanceof Set?e.getSetObserver(t):void 0}(this.v,this.oL))?.subscribe(this)}}let rf;Ac(nf),ro(nf,null);class of{bind(t,e){if(!(e instanceof Zl))throw Ea(9994,e);e.useTargetObserver(Hd)}}of.$au={type:Ga,name:"attr"};class hf{bind(t,e){if(!("handleEvent"in e))throw Ea(801);e.self=!0}unbind(t,e){e.self=!1}}hf.$au={type:Ga,name:"self"};class af{constructor(){this.oL=ht(xh),this.si=ht(Sh)}bind(t,e,...s){if(!(this.si instanceof tf))throw Ea(9993);if(0===s.length)throw Ea(802);if(!(e instanceof Zl&&e.mode&ha))throw Ea(803);const i=this.si.getNodeObserverConfig(e.target,e.targetProperty);if(null==i)throw Ea(9992,e);const n=this.si.getNodeObserver(e.target,e.targetProperty,this.oL);n.useConfig({readonly:i.readonly,default:i.default,events:s}),e.useTargetObserver(n)}}af.$au={type:Ga,name:"updateTrigger"};class lf{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.ni=!1,this.ri=0,this.oi=ht(uc),this.l=ht(ad)}attaching(t,e){return this.li(this.value)}detaching(t,e){return this.ni=!0,P(this.pending,()=>{this.ni=!1,this.pending=void 0,this.view?.deactivate(t,this.$controller)})}valueChanged(t,e){if(this.$controller.isActive)return(t=!!t)!=(e=!!e)?this.li(t):void 0}li(t){const e=this.view,s=this.$controller,i=this.ri++,n=()=>!this.ni&&this.ri===i+1;let r;return P(this.pending,()=>this.pending=P(e?.deactivate(e,s),()=>{if(n()&&(r=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.oi.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=r))return r.setLocation(this.l),P(r.activate(r,s,s.scope),()=>{n()&&(this.pending=void 0)})}))}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}lf.$au={type:kl,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:t=>""===t||!!t&&"false"!==t}}};class cf{constructor(){this.f=ht(uc)}link(t,e,s,i){const n=t.children,r=n[n.length-1];if(r instanceof lf)r.elseFactory=this.f;else{if(!(r.viewModel instanceof lf))throw Ea(810);r.viewModel.elseFactory=this.f}}}function uf(t){t.dispose()}cf.$au={type:"custom-attribute",name:"else",isTemplateController:!0};const df=["BindingBehavior","ValueConverter"];class ff{constructor(){this.views=[],this.key=null,this.hi=[],this.ai=[],this.ci=[],this.ui=new Map,this.fi=void 0,this.di=!1,this.mi=!1,this.gi=null,this.pi=void 0,this.xi=!1,this.l=ht(ad),this.yi=ht(Ku),this.f=ht(uc),this.wi=ht(wf);const t=ht(Zi).props[0].props[0];if(void 0!==t){const{to:e,value:s,command:i}=t;if("key"!==e)throw Ea(776,e);if(null===i)this.key=s;else{if("bind"!==i)throw Ea(775,i);this.key=ht(Ue).parse(s,Ba)}}}binding(t,e){const s=this.yi.bindings,i=s.length;let n,r,o=0;for(;i>o;++o)if(n=s[o],n.target===this&&"items"===n.targetProperty){r=this.forOf=n.ast,this.bi=n;let t=r.iterable;for(;null!=t&&df.includes(t.$kind);)t=t.expression,this.di=!0;this.gi=t;break}this.ki();const h=r.declaration;(this.xi="ArrayDestructuring"===h.$kind||"ObjectDestructuring"===h.$kind)||(this.local=Mr(h,this.$controller.scope,n,null))}attaching(t,e){return this.Ci(),this.Bi(void 0),this.Si(t,this.pi??Pt)}detaching(t,e){return this.ki(),this.Ai(t)}unbinding(t,e){this.ui.clear()}itemsChanged(){this.$controller.isActive&&(this.ki(),this.Ci(),this.Bi(void 0),this.Ri(void 0))}handleCollectionChange(t,e){const s=this.$controller;if(s.isActive){if(this.di){if(this.mi)return;return this.mi=!0,this.items=Mr(this.forOf.iterable,s.scope,this.bi,null),void(this.mi=!1)}this.Ci(),this.Bi(null===this.key?e:void 0),this.Ri(e)}}Ri(t){const e=this.views;this.hi=e.slice();const s=e.length,i=this.key,n=null!==i,r=this.ci,o=this.ai;if(n||void 0===t){const e=this.local,h=this.pi.length,a=this.forOf.declaration,l=this.bi,c=this.xi;t=no(h);let u=0;if(0===s)for(;u<h;++u)t[u]=-2;else if(0===h)for(u=0;u<s;++u)t.deletedIndices.push(u),t.deletedItems.push(Bf(c,a,r[u],l,e));else if(n){const n=Array(s);for(u=0;u<s;++u)n[u]=Pf(c,i,a,r[u],l,e);const d=Array(s);for(u=0;u<h;++u)d[u]=Pf(c,i,a,o[u],l,e);for(u=0;u<h;++u)n.includes(d[u])?t[u]=n.indexOf(d[u]):t[u]=-2;for(u=0;u<s;++u)d.includes(n[u])||(t.deletedIndices.push(u),t.deletedItems.push(Bf(c,a,r[u],l,e)))}else{for(u=0;u<h;++u)r.includes(o[u])?t[u]=r.indexOf(o[u]):t[u]=-2;for(u=0;u<s;++u)o.includes(r[u])||(t.deletedIndices.push(u),t.deletedItems.push(Bf(c,a,r[u],l,e)))}}if(t.deletedIndices.length>0){const e=P(this.Ti(t),()=>this.Ei(t));h(e)&&e.catch(Ta)}else this.Ei(t)}ki(){const t=this.$controller.scope;let e,s=this.Li,i=this.di;i&&(s=this.Li=Mr(this.gi,t,this.bi,null)??null,i=this.di=!v(this.items,s));const n=this.fi;if(this.$controller.isActive){const t=i?s:this.items;e=this.fi=this.wi.resolve(t).getObserver?.(t),n!==e&&(n?.unsubscribe(this),e?.subscribe(this))}else n?.unsubscribe(this),this.fi=void 0}Bi(t){const e=this.ai;this.ci=e.slice();const s=this.pi,i=s.length,n=this.ai=Array(s.length),r=this.ui,o=new Map,h=this.$controller.scope,a=this.bi,l=this.forOf,c=this.local,u=this.xi;if(void 0===t){const t=this.key;if(null!==t){const e=Array(i);if("string"==typeof t)for(let n=0;n<i;++n)e[n]=s[n][t];else for(let n=0;n<i;++n){const i=Mf(s[n],l,h,a,c,u);Of(u,l.declaration,i,a,c,s[n]),e[n]=Mr(t,i,a,null)}for(let t=0;t<i;++t)n[t]=If(r,o,e[t],s[t],l,h,a,c,u)}else for(let t=0;t<i;++t)n[t]=If(r,o,s[t],s[t],l,h,a,c,u)}else{const r=e.length;for(let o=0;o<i;++o){const i=t[o];n[o]=i>=0&&i<r?e[i]:Mf(s[o],l,h,a,c,u),Of(u,l.declaration,n[o],a,c,s[o])}}r.clear(),this.ui=o}Ci(){const t=this.items;if(a(t))return void(this.pi=t.slice(0));const e=[];this.wi.resolve(t).iterate(t,(t,s)=>{e[s]=t}),this.pi=e}Si(t,e){let s,i,n,r;const{$controller:o,f:a,l,ai:c}=this,u=e.length,d=this.views=Array(u);for(let e=0;e<u;++e)n=d[e]=a.create().setLocation(l),n.nodes.unlink(),r=c[e],bf(r.overrideContext,e,u),i=n.activate(t??n,o,r),h(i)&&(s??=[]).push(i);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}Ai(t){let e,s,i,n=0;const{views:r,$controller:o}=this,a=r.length;for(;a>n;++n)i=r[n],i.release(),s=i.deactivate(t??i,o),h(s)&&(e??(e=[])).push(s);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Ti(t){let e,s,i;const{$controller:n,views:r}=this,o=t.deletedIndices.slice().sort(Lf),a=o.length;let l=0;for(;a>l;++l)i=r[o[l]],i.release(),s=i.deactivate(i,n),h(s)&&(e??(e=[])).push(s);for(l=0;a>l;++l)r.splice(o[l]-l,1);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Ei(t){let e,s,i,n=0;const{$controller:r,f:o,l:a,views:l,ai:c,hi:u}=this,d=t.length;for(;d>n;++n)-2===t[n]&&(i=o.create(),l.splice(n,0,i));if(l.length!==d)throw Ea(814,[l.length,d]);let f=0;for(n=0;n<t.length;++n)-2!==(f=t[n])&&(l[n]=u[f]);const p=function(t){const e=t.length;e>pf&&(pf=e,gf=new Int32Array(e),vf=new Int32Array(e));let s=0,i=0,n=0,r=0,o=0,h=0,a=0,l=0;for(;r<e;r++)if(i=t[r],-2!==i){if(o=gf[s],n=t[o],-2!==n&&n<i){vf[r]=o,gf[++s]=r;continue}for(h=0,a=s;h<a;)l=h+a>>1,n=t[gf[l]],-2!==n&&n<i?h=l+1:a=l;n=t[gf[h]],(i<n||-2===n)&&(h>0&&(vf[r]=gf[h-1]),gf[h]=r)}r=++s;const c=new Int32Array(r);for(i=gf[s-1];s-- >0;)c[s]=i,i=vf[i];for(;r-- >0;)gf[r]=0;return c}(t);let g,v=p.length-1;for(n=d-1;n>=0;--n)i=l[n],g=l[n+1],-2===t[n]?(i.nodes.link(g?.nodes??a),i.setLocation(a),bf(c[n].overrideContext,n,d),s=i.activate(i,r,c[n]),h(s)&&(e??(e=[])).push(s)):v<0||n!==p[v]?(i.nodes.link(g?.nodes??a),bf(i.scope.overrideContext,n,d),i.nodes.insertBefore(i.location)):(bf(i.scope.overrideContext,n,d),--v);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}dispose(){this.views.forEach(uf),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}ff.$au={type:kl,name:"repeat",isTemplateController:!0,bindables:["items"]};let pf=16,gf=new Int32Array(pf),vf=new Int32Array(pf);class mf{get $odd(){return!this.$even}get $even(){return this.$index%2==0}get $first(){return 0===this.$index}get $middle(){return!this.$first&&!this.$last}get $last(){return this.$index===this.$length-1}constructor(t=0,e=1){this.$index=t,this.$length=e}}const bf=(t,e,s)=>{t.$index=e,t.$length=s},wf=Da("IRepeatableHandlerResolver",t=>t.singleton(yf));class yf{constructor(){this.Mi=ht(Et(kf))}resolve(t){if($f.handles(t))return $f;if(Cf.handles(t))return Cf;if(Tf.handles(t))return Tf;if(Af.handles(t))return Af;if(xf.handles(t))return xf;const e=this.Mi.find(e=>e.handles(t));return void 0!==e?e:Sf}}const kf=Da("IRepeatableHandler"),$f={handles:a,getObserver:Ih,iterate(t,e){const s=t.length;let i=0;for(;i<s;++i)e(t[i],i,t)}},Cf={handles:l,getObserver:Ih,iterate(t,e){let s,i=0;for(s of t.keys())e(s,i++,t)}},Tf={handles:c,getObserver:Ih,iterate(t,e){let s,i=0;for(s of t.entries())e(s,i++,t)}},Af={handles:t=>"number"==typeof t,iterate(t,e){let s=0;for(;s<t;++s)e(s,s,t)}},xf={handles:t=>null==t,iterate(){}},Sf={handles:t=>!1,iterate(t,e){throw Ea(777,t)}},Of=(t,e,s,i,n,r)=>{t?Ir(e,s,i,null,r):s.bindingContext[n]=r},Bf=(t,e,s,i,n)=>t?Mr(e,s,i,null):s.bindingContext[n],Pf=(t,e,s,i,n,r)=>"string"==typeof e?Bf(t,s,i,n,r)[e]:Mr(e,i,n,null),If=(t,e,s,i,n,r,o,h,a)=>{let l=t.get(s);if(void 0===l?l=Mf(i,n,r,o,h,a):l instanceof Or?t.delete(s):1===l.length?(l=l[0],t.delete(s)):l=l.shift(),e.has(s)){const t=e.get(s);t instanceof Or?e.set(s,[t,l]):t.push(l)}else e.set(s,l);return Of(a,n.declaration,l,o,h,i),l},Mf=(t,e,s,i,n,r)=>{if(r){const n=Or.fromParent(s,new Br,new mf);Ir(e.declaration,n,i,null,t)}return Or.fromParent(s,new Br(n,t),new mf)},Lf=(t,e)=>t-e;class Rf{constructor(){this.view=ht(uc).create().setLocation(ht(ad))}valueChanged(t,e){const s=this.$controller,i=this.view.bindings;let n,r=0,o=0;if(s.isActive&&null!=i)for(n=Or.fromParent(s.scope,void 0===t?{}:t),o=i.length;o>r;++r)i[r].bind(n)}attaching(t,e){const{$controller:s,value:i}=this,n=Or.fromParent(s.scope,void 0===i?{}:i);return this.view.activate(t,s,n)}detaching(t,e){return this.view.deactivate(t,this.$controller)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}Rf.$au={type:kl,name:"with",isTemplateController:!0,bindables:["value"]};class Ef{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this.f=ht(uc),this.l=ht(ad)}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const s=this.view,i=this.$controller;return this.queue(()=>s.activate(t,i,i.scope)),this.queue(()=>this.swap(t,this.value)),this.promise}detaching(t,e){return this.queue(()=>this.view.deactivate(t,this.$controller)),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(t,e){this.$controller.isActive&&this.queue(()=>this.swap(null,this.value))}caseChanged(t){this.queue(()=>this.Di(t))}Di(t){const e=t.isMatch(this.value),s=this.activeCases,i=s.length;if(!e)return i>0&&s[0].id===t.id?this.Pi(null):void 0;if(i>0&&s[0].id<t.id)return;const n=[];let r=t.fallThrough;if(r){const e=this.cases,s=e.indexOf(t);for(let t=s,i=e.length;t<i&&r;t++){const s=e[t];n.push(s),r=s.fallThrough}}else n.push(t);return P(this.Pi(null,n),()=>(this.activeCases=n,this.qi(null)))}swap(t,e){const s=[];let i=!1;for(const t of this.cases)if((i||t.isMatch(e))&&(s.push(t),i=t.fallThrough),s.length>0&&!i)break;const n=this.defaultCase;return 0===s.length&&void 0!==n&&s.push(n),P(this.activeCases.length>0?this.Pi(t,s):void 0,()=>{if(this.activeCases=s,0!==s.length)return this.qi(t)})}qi(t){const e=this.$controller;if(!e.isActive)return;const s=this.activeCases,i=s.length;if(0===i)return;const n=e.scope;return 1===i?s[0].activate(t,n):I(...s.map(e=>e.activate(t,n)))}Pi(t,e=[]){const s=this.activeCases,i=s.length;if(0!==i){if(1===i){const i=s[0];return e.includes(i)?void 0:(s.length=0,i.deactivate(t))}return P(I(...s.reduce((s,i)=>(e.includes(i)||s.push(i.deactivate(t)),s),[])),()=>{s.length=0})}}queue(t){const e=this.promise;let s;s=this.promise=P(P(e,t),()=>{this.promise===s&&(this.promise=void 0)})}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some(e=>e.accept(t))||void 0}}Ef.$au={type:kl,name:"switch",isTemplateController:!0,bindables:["value"]};let Nf=0;const jf=["value",{name:"fallThrough",mode:ra,set(t){switch(t){case"true":return!0;case"false":return!1;default:return!!t}}}];class Ff{constructor(){this.id=++Nf,this.fallThrough=!1,this.view=void 0,this.f=ht(uc),this.Ye=ht(xh),this.l=ht(ad),this.Ii=ht(Ut).scopeTo(`Case-#${this.id}`)}link(t,e,s,i){const n=t.parent,r=n?.viewModel;if(!(r instanceof Ef))throw Ea(815);this.$switch=r,this.linkToSwitch(r)}detaching(t,e){return this.deactivate(t)}isMatch(t){this.Ii.debug("isMatch()");const e=this.value;return a(e)?(void 0===this.fi&&(this.fi=this._i(e)),e.includes(t)):e===t}valueChanged(t,e){a(t)?(this.fi?.unsubscribe(this),this.fi=this._i(t)):void 0!==this.fi&&this.fi.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(t,e){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(t??s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(t??e,this.$controller)}dispose(){this.fi?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}_i(t){const e=this.Ye.getArrayObserver(t);return e.subscribe(this),e}accept(t){return!0===this.$controller.accept(t)||this.view?.accept(t)}}xl({name:"case",bindables:jf,isTemplateController:!0},Ff);class Vf extends Ff{linkToSwitch(t){if(void 0!==t.defaultCase)throw Ea(816);t.defaultCase=this}}xl({name:"default-case",bindables:jf,isTemplateController:!0},Vf);class Df{constructor(){this.preSettledTask=null,this.postSettledTask=null,this.f=ht(uc),this.l=ht(ad),this.p=ht(gl),this.logger=ht(Ut).scopeTo("promise.resolve")}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const s=this.view,i=this.$controller;return P(s.activate(t,i,this.viewScope=Or.fromParent(i.scope,{})),()=>this.swap(t))}valueChanged(t,e){this.$controller.isActive&&this.swap(null)}swap(t){const e=this.value;if(!h(e))return;const s=this.fulfilled,i=this.rejected,n=this.pending,r=this.viewScope;let o;const a=()=>{I(o=(this.preSettledTask=Yr(()=>I(s?.deactivate(t),i?.deactivate(t),n?.activate(t,r)))).result.catch(t=>{throw t}),e.then(h=>{if(this.value!==e)return;const a=()=>{this.postSettlePromise=(this.postSettledTask=Yr(()=>I(n?.deactivate(t),i?.deactivate(t),s?.activate(t,r,h)))).result};this.preSettledTask.status===Ia?o.then(a):(this.preSettledTask.cancel(),a())},h=>{if(this.value!==e)return;const a=()=>{this.postSettlePromise=(this.postSettledTask=Yr(()=>I(n?.deactivate(t),s?.deactivate(t),i?.activate(t,r,h)))).result};this.preSettledTask.status===Ia?o.then(a):(this.preSettledTask.cancel(),a())}))};this.postSettledTask?.status===Ia?this.postSettlePromise.then(a):(this.postSettledTask?.cancel(),a())}detaching(t,e){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}}Df.$au={type:kl,name:"promise",isTemplateController:!0,bindables:["value"]};class _f{constructor(){this.view=void 0,this.f=ht(uc),this.l=ht(ad)}link(t,e,s,i){Kf(t).pending=this}activate(t,e){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}}_f.$au={type:kl,name:"pending",isTemplateController:!0,bindables:{value:{mode:oa}}};class qf{constructor(){this.view=void 0,this.f=ht(uc),this.l=ht(ad)}link(t,e,s,i){Kf(t).fulfilled=this}activate(t,e,s){this.value=s;let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}}qf.$au={type:kl,name:"then",isTemplateController:!0,bindables:{value:{mode:ha}}};class Wf{constructor(){this.view=void 0,this.f=ht(uc),this.l=ht(ad)}link(t,e,s,i){Kf(t).rejected=this}activate(t,e,s){this.value=s;let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}}function Kf(t){const e=t.parent,s=e?.viewModel;if(s instanceof Df)return s;throw Ea(813)}Wf.$au={type:kl,name:"catch",isTemplateController:!0,bindables:{value:{mode:ha}}};class Uf{"promise.resolve"(t,e){return new Vi(t,e,"promise","bind")}}Uf[Symbol.metadata]={[X]:Wi.create([{pattern:"promise.resolve",symbols:""}],Uf)};class zf{then(t,e){return new Vi(t,e,"then","from-view")}}zf[Symbol.metadata]={[X]:Wi.create([{pattern:"then",symbols:""}],zf)};class Gf{catch(t,e){return new Vi(t,e,"catch","from-view")}}Gf[Symbol.metadata]={[X]:Wi.create([{pattern:"catch",symbols:""}],Gf)};class Hf{constructor(){this.Vi=!1,this.qe=ht(bl),this.p=ht(gl)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.Fi():this.Vi=!0}attached(){this.Vi&&(this.Vi=!1,this.Fi()),this.qe.addEventListener("focus",this),this.qe.addEventListener("blur",this)}detaching(){const t=this.qe;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.Hi||(this.value=!1)}Fi(){const t=this.qe,e=this.Hi,s=this.value;s&&!e?t.focus():!s&&e&&t.blur()}get Hi(){return this.qe===this.p.document.activeElement}}Hf.$au={type:kl,name:"focus",bindables:{value:{mode:aa}}};class Xf{constructor(){this.position="beforeend",this.strict=!1;const t=ht(uc),e=ht(ad),s=ht(gl);this.p=s,this.Oi=s.document.createElement("div"),(this.view=t.create()).setLocation(this.$i=fc(s)),function(t,e){if(void 0===t.platform||t instanceof t.platform.Node)cd.set(t,e);else{const s=t.childNodes;for(let t=0,i=s.length;t<i;++t)cd.set(s[t],e)}}(this.view.nodes,e)}attaching(t){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const e=this.Oi=this.Ni();return this.Wi(e,this.position),this.ji(t,e)}detaching(t){return this.zi(t,this.Oi)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.Ni();if(this.Oi===e)return;this.Oi=e;const s=P(this.zi(null,e),()=>(this.Wi(e,this.position),this.ji(null,e)));h(s)&&s.catch(Ta)}positionChanged(){const{$controller:t,Oi:e}=this;if(!t.isActive)return;const s=P(this.zi(null,e),()=>(this.Wi(e,this.position),this.ji(null,e)));h(s)&&s.catch(Ta)}ji(t,e){const{activating:s,callbackContext:i,view:n}=this;return P(s?.call(i,e,n),()=>this.Ui(t,e))}Ui(t,e){const{$controller:s,view:i}=this;return null!==t?P(i.activate(t??i,s,s.scope),()=>this.Gi(e)):(i.nodes.insertBefore(this.$i),this.Gi(e))}Gi(t){const{activated:e,callbackContext:s,view:i}=this;return e?.call(s,t,i)}zi(t,e){const{deactivating:s,callbackContext:i,view:n}=this;return P(s?.call(i,e,n),()=>this.Xi(t,e))}Xi(t,e){const{$controller:s,view:i}=this;return null!==t?P(i.deactivate(t,s),()=>this.Ki(e)):(i.nodes.remove(),this.Ki(e))}Ki(t){const{deactivated:e,callbackContext:s,view:i}=this;return P(e?.call(s,t,i),()=>this.Qi())}Ni(){const t=this.p,e=t.document;let s=this.target,i=this.renderContext;if(""===s){if(this.strict)throw Ea(811);return e.body}if(p(s)){let n=e;p(i)&&(i=e.querySelector(i)),i instanceof t.Node&&(n=i),s=n.querySelector(s)}if(s instanceof t.Node)return s;if(null==s){if(this.strict)throw Ea(812);return e.body}return s}Qi(){this.$i.remove(),this.$i.$start.remove()}Wi(t,e){const s=this.$i,i=s.$start,n=t.parentNode,r=[i,s];switch(e){case"beforeend":pc(t,null,r);break;case"afterbegin":pc(t,t.firstChild,r);break;case"beforebegin":pc(n,t,r);break;case"afterend":pc(n,t.nextSibling,r);break;default:throw Ea(779,e)}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){if(!0===this.view?.accept(t))return!0}}let Qf;Xf.$au={type:kl,name:"portal",isTemplateController:!0,bindables:[{name:"target",primary:!0},"position","activated","activating","callbackContext",{name:"renderContext",callback:"targetChanged"},"strict","deactivated","deactivating"]};class Jf{constructor(){this.Yi=null,this.Zi=null,this.ne=!1,this.expose=null,this.slotchange=null,this.Ji=new Set,this.fi=null;const t=ht(Uu),e=ht(ad),s=ht(Zi),i=ht(cu),n=this.name=s.data.name,r=s.projections?.[mc],o=t.instruction?.projections?.[n],h=t.controller.container;let a,l;null==o?(l=h.createChild({inheritParentResources:!0}),a=i.getViewFactory(r??(Qf??=md.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),l),this.ts=!1):(l=h.createChild(),l.useResources(t.parent.controller.container),Ka(l,Uu,new Ot(void 0,t.parent)),a=i.getViewFactory(o,l),this.ts=!0,this.es=h.getAll(yc,!1)?.filter(t=>"*"===t.slotName||t.slotName===n)??Pt),this.ss=(this.es??=Pt).length>0,this.rs=t,this.view=a.create().setLocation(this.l=e)}get nodes(){const t=[],e=this.l;let s=e.$start.nextSibling;for(;null!=s&&s!==e;)8!==s.nodeType&&t.push(s),s=s.nextSibling;return t}subscribe(t){this.Ji.add(t)}unsubscribe(t){this.Ji.delete(t)}binding(t,e){for(this.Yi=e.scope;"synthetic"===e.vmKind&&e.parent?.viewModel instanceof Jf;)e=e.parent.parent;const s=e.scope.bindingContext;let i;this.ts&&(i=this.rs.controller.scope.parent,(this.Zi=Or.fromParent(i,i.bindingContext)).overrideContext.$host=this.expose??s)}attaching(t,e){return P(this.view.activate(t,this.$controller,this.ts?this.Zi:this.Yi),()=>{(this.ss||f(this.slotchange))&&(this.es.forEach(t=>t.watch(this)),this.ei(),this.ls(),this.ne=!0)})}detaching(t,e){return this.ne=!1,this.cs(),this.es.forEach(t=>t.unwatch(this)),this.view.deactivate(t,this.$controller)}exposeChanged(t){this.ts&&null!=this.Zi&&(this.Zi.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}ei(){if(null!=this.fi)return;const t=this.l,e=t.parentElement;null!=e&&(this.fi=gc(e,e=>{Zf(t,e)&&this.ls()})).observe(e,{childList:!0})}cs(){this.fi?.disconnect(),this.fi=null}ls(){const t=this.nodes,e=new Set(this.Ji);let s;for(s of(this.ne&&this.slotchange?.call(void 0,this.name,t),e))s.handleSlotChange(this,t)}}Jf.$au={type:Td,name:"au-slot",template:null,containerless:!0,processContent(t,e,s){s.name=t.getAttribute("name")??mc;let i=t.firstChild,n=null;for(;null!==i;)n=i.nextSibling,vc(i)&&i.hasAttribute("au-slot")&&t.removeChild(i),i=n},bindables:["expose","slotchange"]};const Yf=(t,e)=>t.compareDocumentPosition(e),Zf=(t,e)=>{for(const{addedNodes:s,removedNodes:i,nextSibling:n}of e){let e,r=0,o=s.length;for(;r<o;++r)if(e=s[r],4===Yf(t.$start,e)&&2===Yf(t,e))return!0;if(i.length>0&&null!=n&&4===Yf(t.$start,n)&&2===Yf(t,n))return!0}};class tp{constructor(){this.scopeBehavior="auto",this.us=void 0,this.tag=null,this.c=ht(Ct),this.parent=ht(Ku),this.ds=ht(bl),this.l=ht(ad),this.p=ht(gl),this.r=ht(cu),this.gs=ht(Zi),this.ps=ht(function(t){return null==t?At:At(t)}(sp)),this.yt=ht(Ai),this.it=ht(Uu),this.ep=ht(Ue),this.oL=ht(xh),this.ne=!1}get composing(){return this.xs}get composition(){return this.us}attaching(t,e){return this.ne=!0,this.xs=P(this.queue(new ip(this.template,this.component,this.model,void 0),t),t=>{this.ps.ys(t)&&(this.xs=void 0)})}detaching(t){this.ne=!1;const e=this.us,s=this.xs;return this.ps.invalidate(),this.us=this.xs=void 0,P(s,()=>e?.deactivate(t))}propertyChanged(t){this.ne&&"composing"!==t&&"composition"!==t&&("model"!==t||null==this.us?"tag"===t&&this.us?.controller.vmKind===Ru||(this.xs=P(this.xs,()=>P(this.queue(new ip(this.template,this.component,this.model,t),void 0),t=>{this.ps.ys(t)&&(this.xs=void 0)}))):this.us.update(this.model))}queue(t,e){const s=this.ps,i=this.us;return P(s.create(t),t=>s.ys(t)?P(this.compose(t),n=>s.ys(t)?P(n.activate(e),()=>s.ys(t)?(this.us=n,P(i?.deactivate(e),()=>t)):P(n.controller.deactivate(n.controller,this.$controller),()=>(n.controller.dispose(),t))):(n.controller.dispose(),t)):t)}compose(t){const{ws:e,bs:s,ks:i}=t.change,{c:n,$controller:r,l:o,gs:h}=this,a=this.Cs(this.it.controller.container,s),l=n.createChild(),c=this.p.document.createElement(null==a?this.tag??"div":a.name);let u;o.parentNode.insertBefore(c,o),u=null==a?null==this.tag?dd(c):null:a.containerless?dd(c):null;const d=()=>{if(c.remove(),null!=u){let t=u.$start.nextSibling,e=null;for(;null!==t&&t!==u;)e=t.nextSibling,t.remove(),t=e;u.$start?.remove(),u.remove()}},p=this.Bs(l,"string"==typeof s?a.Type:s,c,u),g=()=>{const s=h.captures??Pt;if(null!==a){const e=a.capture,[i,n]=s.reduce((t,s)=>(t[!(s.target in a.bindables)&&(!0===e||f(e)&&e(s.target))?0:1].push(s),t),[[],[]]),o=yu.$el(l,p,c,{projections:h.projections,captures:i},a,u);return this.Ss(c,a,n).forEach(t=>o.addBinding(t)),new op(o,t=>o.activate(t??o,r,r.scope.parent),t=>P(o.deactivate(t??o,r),d),t=>p.activate?.(t),t)}{const i=md.create({name:Md.generateName(),template:e}),n=this.r.getViewFactory(i,l),o=yu.$view(n,r),h="auto"===this.scopeBehavior?Or.fromParent(this.parent.scope,p):Or.create(p);return o.setHost(c),null==u?this.Ss(c,i,s).forEach(t=>o.addBinding(t)):o.setLocation(u),new op(o,t=>o.activate(t??o,r,h),t=>P(o.deactivate(t??o,r),d),t=>p.activate?.(t),t)}};return"activate"in p?P(p.activate(i),()=>g()):g()}Bs(t,e,s,i){if(null==e)return new ep;if("object"==typeof e)return e;const n=this.p;gd(t,s,n),Ka(t,ad,new Ot("IRenderLocation",i));const r=t.invoke(e);return Ka(t,e,new Ot("au-compose.component",r)),r}Cs(t,e){if("string"==typeof e){const s=Md.find(t,e);if(null==s)throw Ea(806,e);return s}const s=f(e)?e:e?.constructor;return Md.isType(s,void 0)?Md.getDefinition(s,null):null}Ss(t,e,s){const i=new zu(this.$controller,{projections:null,captures:s},this.it.parent);return kc.create(i,t,e,this.r,this.yt,this.p,this.ep,this.oL)}}tp.$au={type:Td,name:"au-compose",capture:!0,containerless:!0,bindables:["template","component","model",{name:"scopeBehavior",set:t=>{if("scoped"===t||"auto"===t)return t;throw Ea(805,t)}},{name:"composing",mode:ha},{name:"composition",mode:ha},"tag"]};class ep{}class sp{constructor(){this.id=0}ys(t){return t.id===this.id}create(t){return P(t.load(),t=>new rp(++this.id,t))}invalidate(){this.id++}}class ip{constructor(t,e,s,i){this.ws=t,this.bs=e,this.ks=s,this.As=i}load(){return h(this.ws)||h(this.bs)?Promise.all([this.ws,this.bs]).then(([t,e])=>new np(t,e,this.ks,this.As)):new np(this.ws,this.bs,this.ks,this.As)}}class np{constructor(t,e,s,i){this.ws=t,this.bs=e,this.ks=s,this.As=i}}class rp{constructor(t,e){this.id=t,this.change=e}}class op{constructor(t,e,s,i,n){this.controller=t,this.start=e,this.stop=s,this.update=i,this.context=n,this.state=0}activate(t){if(0!==this.state)throw Ea(807,this);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw Ea(808);default:this.state=-1}}}const hp=Da("ISanitizer",t=>t.singleton(class{sanitize(){throw Ea(99,"sanitize")}}));class ap{constructor(){this.Rs=ht(hp)}toView(t){return null==t?null:this.Rs.sanitize(t)}}ap.$au={type:El,name:"sanitize"};class lp{constructor(){this.el=ht(bl),this.p=ht(gl),this.Ts=!1,this.L=!1,this.$val="",this.$prio="",this.update=()=>{this.L=!1,Boolean(this.value)!==this.Es&&(this.Es===this.Ls?(this.Es=!this.Ls,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.Es=this.Ls,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))};const t=ht(Zi);this.Es=this.Ls="hide"!==t.alias}binding(){this.Ts=!0,this.update()}detaching(){this.Ts=!1,this.L=!1}valueChanged(){this.Ts&&!this.L&&(this.L=!0,Jr(this.update))}}lp.$au={type:kl,name:"show",bindables:["value"],aliases:["hide"]};const cp=[_d,class{static register(t){t.register(j.singleton(this,this),j.aliasTo(this,wh))}constructor(){this.tracked=[],this.q=null,this.K=0,this.p=ht(Lt),this.check=()=>{if(yh.disabled)return;if(++this.K<yh.timeoutsPerCheck)return;this.K=0;const t=this.tracked.slice(0),e=t.length;let s,i=0;for(;i<e;++i)s=t[i],s.isDirty()&&s.flush()},ro(kh,null)}createProperty(t,e){if(yh.throw)throw Sr(218,e);return new kh(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.q=(t=>{const e=new eo(t,Math.max(0,0));return qr.push(e),e.O(),e})(this.check))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.q.cancel(),this.q=null)}},tf],up=[Ui,Ki,zi,cc],dp=[In,Sn,Bn,On,Pn,Mn,Fn,Ln,Rn,jn,Nn,En,Vn],fp=[ol,el,sl,il,ll,ul,nl,ap,lf,cf,ff,Rf,Ef,Ff,Vf,Df,_f,qf,Wf,Uf,zf,Gf,of,hf,af,tp,Xf,Hf,lp,Jf],pp=[qc,Wc,Dc,_c,Ec,Nc,jc,Fc,Vc,zc,Jc,Gc,Hc,Xc,Qc,Kc,Yc,Zc],gp=vp(Mt);function vp(t){return{optionsProvider:t,register(e){const s={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return t(s),e.register(Wa(so,s.coercingOptions),ze,...cp,...fp,...up,...dp,...pp)},customize:e=>vp(e??t)}}const mp=ia.getOrCreate(globalThis);class bp extends Nd{constructor(t=function(){return $t.createContainer().register(j.instance(gl,mp),gp)}()){super(t)}static app(t){return(new bp).app(t)}static enhance(t){return(new bp).enhance(t)}static register(...t){return(new bp).register(...t)}app(t){if(Md.isType(t)){const e=Md.getDefinition(t);let s=document.querySelector(e.name);return null===s&&(s=document.body),super.app({host:s,component:t})}return super.app(t)}}void 0!==webpackBaseUrl&&(t.p=webpackBaseUrl);const wp=document.querySelector("body");bp.enhance({host:wp,component:class{constructor(t=ht(Ut)){this.logger=t,this.logger=t.scopeTo("ImportExportApp")}binding(){this.logger.trace("binding")}attaching(){this.logger.trace("Attaching")}}})})();